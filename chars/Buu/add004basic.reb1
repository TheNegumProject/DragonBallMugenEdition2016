; ADD004 BASIC PIEs ReBuilded CNS (21-10-2016)



;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Buu\Console/Buu.cns}
;==============================================================================

;***************************************************
; 	       [ Mister Buu ]
;	       [ by Yzan ]
;***************************************************
;#     #var(0)   -  AAAAAAAAAAAAAAAAAAA   #     #
;#     #var(1)   -  Movecontact           #     #
;#     #var(2)   -  Custom Jump           #     #
;#     #var(3)   -  Fake Time             #     #
;#     #var(4)   -  Dash                  #     #
;#     #var(5)   -  Something ID          #     #
;#     #var(6)   -  Wallbounce            #     #
;#     #var(7)   -  Charge Attack         #     #
;#     #var(8)   -  Prevstateno?          #     #
;#     #var(9)   -  Charge Hit?           #     #
;#     #var(10)  -  Infinite Attack       #     #
;#     #var(11)  -  Helper Hit            #     #
;#     #var(12)  -  Mini Helper Add Alpha #     #
;#     #var(15)  -  MAX JUGGLE            #     #
;#     #var(16)  -  JUGGLE DEDUCTION      #     #
;#     #var(17)   - No hit flag           #     #
;#     #var(19)   - Mettle Remover        #     #
;#     #var(20)  -  Support               #     #
;#     #var(21)  -  AAAAAAAAAAAAA part 2  #     #
;#     #var(23)  -  Intro decider         #     #
;#     #var(28)  -  Throw Facing          #     #
;#     #var(29)  -  OOH KILL EM           #     #
;#     #var(30)  -  Super Text            #     #
;#     #var(40)  -  Dampener              #     #
;#     #fvar(3)  -  Super Jump            #     #
;#     #fvar(6)  -  Some garbage          #     #
;#     #fvar(10) -  Helper Call Okay!     #     #		
;#     #fvar(20) -  True Damage	          #     #
;#     #fvar(25) -  Cornerpush            #     #
;###   #var(20)  -  LOL                                       ###
;###   #var(25)  -  WHAT DO YOU LOOK LIKE?                    ###
;###   #var(26)  -  UH OHHHHHHHHHHH 			      ###
;###   #var(27)  -  HOW MUCH DOES THIS GUY WEIGH?             ###
;***************************************************

[Data]
life = 1075
attack = 100
defence = 100
power = 2000
fall.defence_up = 50
liedown.time = 30
airjuggle = 0
sparkno = s7503
guard.sparkno = s7550
KO.echo = 0
volume = 200
IntPersistIndex = 19
FloatPersistIndex = 40

[Size]
xscale = .833333     
yscale = .9           
ground.back = 20     
ground.front = 20    
air.back = 15         
air.front = 15      
height = 80         
attack.dist = 160    
proj.attack.dist = 90 
proj.doscale = 0      
head.pos = 5, -115    
mid.pos = 14, -68     
shadowoffset = 0     
draw.offset = 0,0     

[Velocity]
walk.fwd  = 1.15      
walk.back = -.86     
run.fwd  = 0, 0     
run.back = 0,-3.8  
jump.neu = 0,-10.15     
jump.back = -1.65     
jump.fwd = 2.18        
runjump.back = -2.55,-8.1  
runjump.fwd = 4,-8.1      
airjump.neu = 0,-8.1       
airjump.back = -2.55       
airjump.fwd = 2.5          
air.gethit.groundrecover = -.15,-3.5   
air.gethit.airrecover.mul = .5,.2      
air.gethit.airrecover.add = 0,-4.5     
air.gethit.airrecover.back = -1        
air.gethit.airrecover.fwd = 0         
air.gethit.airrecover.up = -2         
air.gethit.airrecover.down = 1.5       

[Movement]
airjump.num = 0        
airjump.height = 0    
yaccel = .47           
stand.friction = .80   
crouch.friction = .82  
stand.friction.threshold = 2          
crouch.friction.threshold = .05       
air.gethit.groundlevel = 25           
air.gethit.groundrecover.ground.threshold = -20  
air.gethit.groundrecover.groundlevel = 10   
air.gethit.airrecover.threshold = -1   
air.gethit.airrecover.yaccel = .35     
air.gethit.trip.groundlevel = 15       
down.bounce.offset = 0,0            
down.bounce.yaccel = .47               
down.bounce.groundlevel = 0          
down.friction.threshold = .05         

[Quotes]
victory1 = "Do you like candy?"
victory2 = "Woohoo! Let's play again sometime!" 

;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Buu\Console/N.cns}
;==============================================================================

;*******************************
; Lose by Time Over
;*******************************
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 191, C]
type = PlaySnd
trigger1 = Animelemtime(3) = 0
value = s400, 5

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;*******************************
; Win state decider
;*******************************
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181 
;*******************************
; Win pose 1
;*******************************
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 250
flag = roundnotover 

[State 0, PosSet]
type = PosSet
trigger1 = time = 0 
y = 0 

[State 191, C]
type = PlaySnd
trigger1 = Animelemtime(1) = 10
value = s400, 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = Animelemno(0) >= 4
value = 0
movecamera = 0,0 

[State 1100, Helper]
type = Helper 
trigger1 = Animelemtime(4) = 0
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1 
size.xscale = .5
size.yscale = .4
ignorehitpause = 0
persistent = 0
 
[State 1100, Helper]
type = Helper 
trigger1 = Animelemtime(4) > 0 
name = "GROUND CONST"
ID = 7111
stateno = 7111
pos = 0,10
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 0
persistent = 2
 
[State 1100, VelAdd]
type = VelSet
trigger1 = Animelemno(0) = [4,7]
x = 9.75 

[State 1100, VelAdd]
type = PlaySnd 
trigger1 = Animelemtime(3) = 0
value = s10, 1 

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1 
;*******************************
; Intro state decider
;*******************************
[Statedef 190]
type = S

[State 190, Null]
type = Null
trigger1 = time = 0
trigger1 = var(23) := 191
trigger2 = numenemy
trigger2 = enemy,name = "Kid Buu" 

[State 190, 1]
type = ChangeState
trigger1 = 1
value = var(23)
;*******************************
; Introduction 
;*******************************
[Statedef 191]
type = A
physics = N
ctrl = 0
anim = 190
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = Animelemtime(1) = 0
y = -240
ignorehitpause = 0
persistent = 0 

[State 0, VelAdd]
type = VelAdd
trigger1 = time
y = .5 

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0
movecamera = 0,0 

[State 191, B] 
type = AssertSpecial
trigger1 = 1
flag = Intro  

[State 191, 3] 
type = ChangeState
trigger1 = Vel Y >= 0 
trigger1 = Pos Y >= 0
value = 192
;*******************************
; Introduction 
;*******************************
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 

[State 191, B] 
type = AssertSpecial
trigger1 = 1
flag = Intro 

[State 191, C]
type = PlaySnd 
trigger1 = Animelemtime(1) = 0
value = s3, 1
persistent = 0

[State 191, C]
type = PlaySnd 
trigger1 = Animelemtime(5) = 0
value = s400, 1
persistent = 0

[State 191, 3] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0 
;*******************************
; Introduction 
;*******************************
[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 

[State 191, B] 
type = AssertSpecial
trigger1 = 1
flag = Intro  

[State 191, C]
type = PlaySnd 
trigger1 = Animelemtime(18) = 0
value = s400, 4

[State 700, Helper]
type = Helper 
trigger1 = Animelemtime(17) < 0
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = -12,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0
persistent = 6

[State 700, Helper]
type = Helper 
trigger1 = Animelemtime(17) < 0
name = "Ground Charge"
ID = 7110
stateno = 7110
pos = -75,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = 1
size.yscale = 1
ignorehitpause = 0
persistent = 6

[State 700, Helper]
type = Helper 
trigger1 = Animelemtime(17) < 0
name = "Ground Charge"
ID = 7111
stateno = 7110
pos = 45,0
postype = p1    ;p2,front,back,left,right
facing = -1 
ownpal = 1 
size.xscale = 1
size.yscale = 1
ignorehitpause = 0 
persistent = 6

[State 700, Charge Sound]
type = PlaySnd
trigger1 = Animelemtime(2) = 1
value = s305, 0
persistent = 0 
channel = 0 

[State 700, Charge Sound]
type = PlaySnd
trigger1 = Animelemtime(2) = 1
value = s115, 1
persistent = 0 
channel = 0 

[State 191, 3] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0 
;*******************************
; Taunt
;*******************************
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195 + (command ="holdfwd")
sprpriority = 2

[State 195, VelSet]
type = VelSet
trigger1 = (Animelem = 3)
x = 0
y = 0  

[State 195, VelSet]
type = Velmul
trigger1 = Animelemtime(3) < 0
x = .93

[State 195, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 195, Insult]
type = TargetPowerAdd
triggerall = numtarget
triggerall = Anim = 196
trigger1 = Animelemtime(5) = 0  
value = -1 * target,Powermax/10
persistent = 0

[State 195, A]
type = PlaySnd
triggerall = anim = 195
trigger1 = Animelemtime(4) = 0 || Animelemtime(7) = 0
value = s3, 0

[State 195, A]
type = PlaySnd
triggerall = anim = 195
trigger1 = Animelemtime(10) = 0  
value = s3, 1

[State 195, B]
type = PlaySnd
triggerall = Anim = 195
trigger1 = Animelemtime(2) = 0
value = s300, 5
channel = 10

[State 195, B]
type = PlaySnd
triggerall = Anim = 196
trigger1 = Animelemtime(1) = 0
value = s400, 1
channel = 10

[State 195, C]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ STAND A ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 200]
type    = S                       
movetype= A                     
physics = S                       
juggle  = 0 * (var(16):= 4)                       
ctrl = 0                          
anim = 200                       
sprpriority = 2  

[State 200, VelAdd]
type = VelAdd
triggerall = (Prevstateno = [100,101])
trigger1 = vel x > 0 
x = -.35

[State 200, VelAdd]
type = VelSet
triggerall = (Prevstateno = [100,101]) = 0
trigger1 = time = 0 
x = 0
y = 0

[State 200, VelSet]
type = VelSet
trigger1 = vel x <=0
x = 0 

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, HitDef]
type = HitDef
triggerall = var(17) 
trigger1 = Animelem = 2
trigger2 = Animelem = 3
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit
damage = 40,0
pausetime = 7,7
sparkno = s7503
guard.sparkno = s7550
sparkxy = -25,-75
getpower = 51,0
givepower = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      
ground.slidetime = 11
ground.hittime = 11
guard.ctrltime = 11
air.hittime = 12
ground.velocity = -6.6,0
air.velocity = -3.6,-3.35
airguard.velocity = -6.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 12
fall.damage = 0
air.fall = 0
persistent = 0
yaccel = .47 
kill = 1
id = 200
envshake.time = 4 
envshake.ampl = 6

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 0

[State 200, 2]
type = PlaySnd
trigger1 = (random = [0,200]) && Animelemtime(2) = 0
value = s300, 0+(random%3)
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(4) = 0
movetype = I   

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(4) < 0
trigger1 = hitpausetime 
value = 200
elem = 3
ignorehitpause = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ STAND B ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 210]
type    = S                       
movetype= A                     
physics = S           
juggle  = 0 * (var(16):= 3)                  
ctrl = 0                          
anim = 210                       
sprpriority = 2                   
           
[State 210, VelSet]
type = VelSet
trigger1 = time = 0 && (Prevstateno = [100,101]) = 0
trigger2 = (Prevstateno = [100,101]) && (vel x <=0 || Animelemtime(5) = 1)
y = 0
x = 0 

[State 210, VelAdd]
type = VelAdd
triggerall = (Prevstateno = [100,101])
trigger1 = vel x > 0 
x = -.35
       
[State 210, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 210, HitDef]
type = HitDef
triggerall = var(15) 
trigger1 = Animelem = 3
trigger2 = Animelem = 4
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = medium          ;light,medium,hard,back,up,diagup
air.animtype = medium
priority = 4,Hit
damage = 69,0
pausetime = 9,9
sparkno = s7503
guard.sparkno = s7550
sparkxy = -25,-125
getpower = 51,0
givepower = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      
ground.slidetime = 14
ground.hittime = 14
guard.ctrltime = 14
air.hittime = 15
ground.velocity = -8.13,0
air.velocity = -4.23,-2.35
airguard.velocity = -8.13,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 15
fall.damage = 0
air.fall = 0
persistent = 0
yaccel = .47 
kill = 1
id = 210
envshake.time = 6 
envshake.ampl = 8

[State 210, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 1

[State 210, 2]
type = PlaySnd
trigger1 = (random = [0,700]) && Animelemtime(2) = 0
value = s300, 0+(random%3)
channel = 10

[State 210, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(5) = 0
movetype = I   

[State 210, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(5) < 0
trigger1 = hitpausetime 
value = 210
elem = 4
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ STAND C ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 215]
type    = S                       
movetype= A                     
physics = S         
juggle  = 0 * (var(16):= 1)                    
ctrl = 0                          
anim = 215                       
sprpriority = 2  

[State 215, VelSet]
type = VelSet 
trigger1 = Animelemtime(3) = 0
x = 0 

[State 215, VelAdd]
type = Posadd 
trigger1 = Animelemtime(2) = 0
x = 10

[State 215, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 215, HitDef]
type = HitDef
triggerall = var(15) 
trigger1 = Animelem = 2 
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 89,0
pausetime = 11,11
sparkno = s7503
guard.sparkno = s7550
sparkxy = -25,-85
getpower = 51,0
givepower = 0,0
hitsound = S1,2
guardsound = S2,0
ground.type = High      
ground.slidetime = 17
ground.hittime = 17
guard.ctrltime = 17
air.hittime = 18
ground.velocity = -9.77,0
air.velocity = -4.23,-6.35
airguard.velocity = -9.77,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 18
fall.damage = 0
air.fall = 0
yaccel = .47
kill = 1
id = 215
persistent = 0
envshake.time = 4 
envshake.ampl = 8 

[State 215, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 2

[State 215, 2]
type = PlaySnd
trigger1 = (random = [0,700]) && Animelemtime(2) = 0
value = s300, 6+(random%4)
channel = 10

[State 215, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(3) = 0
movetype = I   

[State 215, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ CROUCH C ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 220]
type    = C                       
movetype= A                     
physics = C           
juggle  = 0 * (var(16):= 4)                  
ctrl = 0                          
anim = 410 + (Prevstateno = [200,499])                      
sprpriority = 2  

[State 220, VelSet]
type = VelSet
trigger1 = time = 0
x = 0 

[State 220, PosAdd]
type = PosAdd
trigger1 = Animelemtime(2) = 2 
x = 14

[State 220, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 220, HitDef]
type = HitDef
triggerall = var(6) = 1 && numenemy
trigger1 = Anim = 410 && (Animelemno(0) = [3,4]) && enemynear,statetype = A 
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = back          ;light,medium,hard,back,up,diagup
air.animtype = back
priority = 4,Hit
damage = 89,0
pausetime = 8,8
sparkno = s7503
guard.sparkno = s7550
sparkxy = -15,-70
getpower = 51,0
givepower = 0,0
hitsound = S1,2
guardsound = S2,0
ground.type = High      
ground.slidetime = 21
ground.hittime = 21
guard.ctrltime = 21
air.hittime = 22
ground.velocity = -7.23,0
air.velocity = -7.23,-2.35
airguard.velocity = -3.56,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 18
fall.damage = 0
air.fall = 1
yaccel = .47
kill = 1
id = 220
persistent = 0
p2stateno = 696
nochainid = 220
envshake.time = 6 
envshake.ampl = 10
snap = 45,ifelse(enemynear,pos y > 0,-40,ceil(enemynear,pos y))
hitonce = 1

[State 220, HitDef]
type = HitDef
triggerall = var(15) 
triggerall = var(6) = 0 && numenemy
trigger1 = Anim = 410 && (Animelemno(0) = [3,4]) && enemynear,statetype = A 
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = HA         ;HLA
animtype = back          ;light,medium,hard,back,up,diagup
air.animtype = back
priority = 4,Hit
damage = 89,0
pausetime = 8,8
sparkno = s7503
guard.sparkno = s7550
sparkxy = -15,-70
getpower = 0,0
givepower = 0,0
hitsound = S1,2
guardsound = S2,0
ground.type = High      
ground.slidetime = 21
ground.hittime = 21
guard.ctrltime = 21
air.hittime = 22
ground.velocity = -7.23,0
air.velocity = -7.23,-2.35
airguard.velocity = -3.56,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 18
fall.damage = 0
air.fall = 0
yaccel = .47
kill = 1
id = 221
persistent = 0 
envshake.time = 6 
envshake.ampl = 10
hitonce = 1

[State 220, HitDef]
type = HitDef
triggerall = var(15) 
trigger1 = Anim = 410 && Animelem = 4 || var(5):=221
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = back          ;light,medium,hard,back,up,diagup
air.animtype = back
priority = 4,Hit
damage = 89,0
pausetime = 10,10
sparkno = s7503
guard.sparkno = s7550
sparkxy = -15,-70
getpower = 0,0
givepower = 0,0
hitsound = S1,2
guardsound = S2,0
ground.type = High      
ground.slidetime = 21
ground.hittime = 21
guard.ctrltime = 21
air.hittime = 22
ground.velocity = -7.23,0
air.velocity = -7.23,-2.35
airguard.velocity = -3.56,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 18
fall.damage = 0
air.fall = 0
yaccel = .47
kill = 1
id = 222
persistent = 0
nochainid = 220
envshake.time = 6 
envshake.ampl = 10 
hitonce = 1


[State 220, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 2

[State 220, 2]
type = PlaySnd
trigger1 = (random = [0,700]) && Animelemtime(2) = 0
value = s300, 19+(random%2)
channel = 10

[State 220, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(5) = 0
movetype = I   

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[State 220 BOOM]
type = VarAdd 
trigger1 = numtarget(220)  
var(6) = -1
ignorehitpause = 1 

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(5) < 0
trigger1 = hitpausetime 
value = 410
elem = 4
ignorehitpause = 1

[State 220, 3]
type = ChangeState
triggerall = Power >=500 && (command = "c") && (stateno =[100,108]) = 0
triggerall = numtarget(220)
trigger1 = stateno = 220 && movehit
trigger1 = target,stateno = 696 && target,movetype = H
value = 101 
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ STAND F + C ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 205]
type    = S                       
movetype= A                     
physics = S              
juggle  = 0 * (var(16):= 5)                
ctrl = 0                          
anim = 205                       
sprpriority = 2  

[State 200, VelSet]
type = VelSet
trigger1 = Animelem = 1
trigger2 = Animelemtime(3) = 0
x = 0 
y = 0

[State 200, VelAdd]
type = PosAdd 
trigger1 = Animelemtime(2) = [0,2]
x = 15.5

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, HitDef]
type = Hitdef
triggerall = var(15) 
trigger1 = Animelem = 3
trigger2 = Animelem = 4
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 40,0
pausetime = 11,11
sparkno = s7503
guard.sparkno = s7550
sparkxy = -45,-95
getpower = 51,0
givepower = 0,0
hitsound = S1,2
guardsound = S2,0
ground.type = High      
ground.slidetime = 17
ground.hittime = 17
guard.ctrltime = 17
air.hittime = 18
ground.velocity = -7.23,0
air.velocity = -3.23,-7.35
airguard.velocity = -7.23,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 18
fall.damage = 0
air.fall = 0
yaccel = .5
kill = 1
id = 205
persistent = 0
envshake.time = 4 
envshake.ampl = 8

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 2

[State 200, 2]
type = PlaySnd
trigger1 = (random = [0,700]) && Animelemtime(2) = 0
value = s300, 19+(random%2)
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(5) = 0
movetype = I   

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(5) < 0
trigger1 = hitpausetime 
value = 205
elem = 4
ignorehitpause = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ INFINITE ATTACK ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 300]
type    = S                       
movetype= A                     
physics = S        
juggle  = 0 * (var(16):= 0)                     
ctrl = 0                          
anim = 300                       
sprpriority = 2  
facep2 = 1

[State 300, VelSet]
type = VelSet
trigger1 = time = 0
y = 0
x = 0 

[State 300, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 300, Helper]
type = Helper
trigger1 =  numhelper(9998) = 0 && numtarget(300) && movehit = 1 
name = "DIAMOND IS NOT CRASH"
ID = 9998
stateno = 30000
pos = 0,0
postype = front    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999 
size.xscale = 1
size.yscale = 1
ignorehitpause = 1 
persistent = 0

[State 300, HitDef]
type = hitdef
triggerall = var(10) = 1 && numtarget(300) = 0
trigger1 = Animelem = 3
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = HA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 89,0
pausetime = 16,16
sparkno = s7505
guard.sparkno = s7550
sparkxy = -15,-95
getpower = 51,0
givepower = 0,0
hitsound = S1,5
guardsound = S2,0
ground.type = High      
ground.slidetime = 17
ground.hittime = 17
guard.ctrltime = 17
air.hittime = 18
ground.velocity = -.97,-15.114
air.velocity = -.97,-14.114
airguard.velocity = -5.15,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 0
fall.recovertime = 18
fall.damage = 0
air.fall = 1
yaccel = .5
kill = 1
id = 300
persistent = 0
p2stateno = 390
nochainID = 300
envshake.time = 4
envshake.freq = 12
envshake.ampl = 12
envshake.phase = 6

[State 300, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 6 

[State 300, 2]
type = PlaySnd
trigger1 = movehit = 1 && numtarget(300)
value = s1, 10
ignorehitpause = 1
persistent = 0

[State 300, 2]
type = PlaySnd
trigger1 = (random = [0,700]) && Animelemtime(2) = 0
value = s300, 14+(random%4)
channel = 10

[State 300, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(4) = 0
movetype = I   

[State 300, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[State 300, 3]
type = ChangeState
triggerall = (command = "holddown")  
triggerall = numtarget(300)
trigger1 = movehit
trigger1 = target,stateno = 390 
value = 305 
[State 300, 3]
type = ChangeState
triggerall = (command = "holdfwd") && (command = "holdup") = 0 && (power >= 500) 
triggerall = numtarget(300)
trigger1 = movehit
trigger1 = target,stateno = 390 
value = 315 
[State 300, 3]
type = ChangeState
triggerall = (command = "holdup") 
triggerall = numtarget(300)
trigger1 = movehit
trigger1 = target,stateno = 390
value = 40 
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ INFINITE ENDER ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 305]
type    = S                       
movetype= A                     
physics = S                       
juggle  = 0                       
ctrl = 0                          
anim = 305                     
sprpriority = 2  

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
y = 0
x = 0 

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = Animelemtime(2)>0
value = 0

[State 200, VelSet]
type = VelSet
triggerall = numtarget(300)
trigger1 = Animelemtime(2)>=0 && target(300),vel y < 0
x =  .1 * (p2dist x)
y = -.3 *-(p2dist y) 

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0  
value = s10, 3 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 2
statetype = A   
physics = A

[State 200, 3]
type = Changestate
trigger1 = Animelemtime(5)>0 && p2dist x < 30
value = 310
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ INFINITE ENDER CHASE ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 310]
type    = A                       
movetype= A                     
physics = A      
juggle  = 0 * (var(16):= 0)                       
ctrl = 0                          
anim = 615                       
sprpriority = 2    

[State 101, Helper]
type = Helper
trigger1 =  numhelper(9998) = 0 && numtarget(310) && movehit = 1
name = "DIAMOND IS NOT CRASH"
ID = 9998
stateno = 30000
pos = 0,0
postype = front    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999 
size.xscale = 1
size.yscale = 1
ignorehitpause = 1 
persistent = 0

[State 200, VelSet]
type = Velmul
trigger1 = Animelemtime(3)<0
x = .95
y = .95   

[State 200, VelSet]
type = Velmul
trigger1 = Animelemtime(4)=0
x = 0
y = 0  

[State 200, VelSet]
type = Veladd
trigger1 = Animelemtime(5)>0
y = .47             

[State 200, HitDef]
type = Hitdef
trigger1 = Animelem = 3
attr = A,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = HA         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 69,0
pausetime = 20,20
sparkno = s7504
guard.sparkno = s7550
sparkxy = -25,-65
getpower = 100,0
givepower = 0,0
hitsound = S1,5
guardsound = S2,0
ground.type = High      
ground.slidetime = 11
ground.hittime = 11
guard.ctrltime = 11
air.hittime = 12
ground.velocity = -1.25,5
air.velocity = -1.25,4
airguard.velocity = -2.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 12
fall.damage = 0
air.fall = 1
persistent = 0
yaccel = .47 
kill = 1
id = 310
p2stateno = 392 
envshake.time = 4 
envshake.ampl = 8

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0
movecamera = 0,0

[State 101, Helper]
type = Helper
trigger1 =  numhelper(9998) = 0 && numtarget(300) && movehit = 1
name = "DIAMOND IS NOT CRASH"
ID = 9998
stateno = 30000
pos = 0,0
postype = front    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999 
size.xscale = 1
size.yscale = 1
ignorehitpause = 1 
persistent = 0

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 5

[State 200, 2]
type = Playsnd
trigger1 = Animelemtime(2) = 0
value = s300, 9
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(4) = 0
movetype = I
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ INFINITE ENDER 2ND ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 315]
type    = S                       
movetype= A                     
physics = S                       
juggle  = 0                       
ctrl = 0                          
anim = 315                     
sprpriority = 2  
poweradd = -500

[State 110, Helper]
type = Helper 
trigger1 = (Prevstateno = [300,314]) && numhelper(11112) = 0
name = "SHOW THE WORLD"
ID = 11112
stateno = 10002
pos = 0,-60
postype = p1    ;p2,front,back,left,right
facing = facing
ownpal = 1
pausemovetime = 99999999999999 
size.xscale = .2
size.yscale = .2
ignorehitpause = 0
persistent = 0

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
y = 0
x = 0 

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, PalFX]
type = PalFX
trigger1 = (time%1) = 0
trigger1 = Animelemtime(2)<0
time = 1
add = 256,256,256
mul = 256,256,256
invertall = 0
color = 0
ignorehitpause = 0
persistent = 2

[State 0, Trans]
type = Trans 
trigger1 = (time%2) = 0
trigger1 = Animelemtime(2)<0
trans = addalpha ;none, add, addalpha, add1, sub
alpha = 0,256

[State 20207, PlaySnd]
type = PlaySnd
trigger1 = Animelemtime(1) = 4
value = s115,0

[State 200, 3]
type = Changestate
trigger1 = Animtime = 0
value = 320
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ INFINITE ENDER 2ND CHASE ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 320]
type    = A                       
movetype= A                     
physics = N         
juggle  = 0 * (var(16):= 0)                    
ctrl = 0                          
anim = 610                       
sprpriority = 2    

[State 320, PalFX]
type = PalFX
trigger1 = (time%1) = 0
trigger1 = Animelemtime(2)<0
time = 1
add = 256,256,256
mul = 256,256,256
invertall = 0
color = 0
ignorehitpause = 0
persistent = 2

[State 320, ScreenBound]
type = ScreenBound
trigger1 = animelemtime(4)>=0
value = 1
movecamera = 0,0

[State 320, Trans]
type = Trans 
trigger1 = (time%2) = 0
trigger1 = Animelemtime(2)<0
trans = addalpha ;none, add, addalpha, add1, sub
alpha = 0,256

[State 320, PosAdd]
type = PosAdd
trigger1 = numtarget(300) 
x = p2dist x + target(300),const(size.ground.back) 
y = target,pos y - target,const(size.height)
persistent = 0

[State 320, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(4) = 0
statetype = A       ;S,A,C,L 
movetype = I
physics = A         ;A,C,S,N 

[State 320, Turn]
type = Turn
trigger1 = p2dist x < 0
persistent = 0 

[State 320, Helper]
type = Helper
trigger1 =  numhelper(9998) = 0 && numtarget(310) && movehit = 1
name = "DIAMOND IS NOT CRASH"
ID = 9998
stateno = 30000
pos = 0,0
postype = front    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999 
size.xscale = 1
size.yscale = 1
ignorehitpause = 1 
persistent = 0

[State 320, VelSet]
type = Veladd
trigger1 = Animelemtime(4)>0
y = .47             

[State 320, HitDef]
type = Hitdef 
trigger1 = Animelem = 3
attr = A,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = HA         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 105,0
pausetime = 15,15
sparkno = s7504
guard.sparkno = s7550
sparkxy = -25,-65
getpower = 0,0
givepower = 0,0
hitsound = S1,9
guardsound = S2,0
ground.type = High      
ground.slidetime = 11
ground.hittime = 11
guard.ctrltime = 11
air.hittime = 12
ground.velocity = 0,14
air.velocity = 0,14
airguard.velocity = -2.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1
persistent = 0
yaccel = .47 
kill = 1
id = 310
p2stateno = 395 
envshake.time = 6 
envshake.ampl = 10

[State 320, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0
movecamera = 0,0 

[State 320, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 5

[State 320, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(5) < 0
trigger1 = hitpausetime 
value = 610
elem = 4
ignorehitpause = 1

[State 320, 2]
type = Playsnd
trigger1 = Animelemtime(2) = 0
value = s300, 9
channel = 10
;=========================================================
; Custom State 1
;=========================================================
[Statedef 390]
type    = S
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT 
time = 1 

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 390

[State 1028, Vel Y]
type = VelSet
trigger1 = HitShakeOver = 1
x = facing*gethitvar(xvel)
y = gethitvar(yvel)

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 391
;=========================================================
; Custom State 2
;=========================================================
[Statedef 391]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AA,AP

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .52

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim2
trigger1 = Time = 0
value = 391

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos Y >= Const(movement.down.bounce.groundlevel))
value = 5110
;=========================================================
; Custom State 3
;=========================================================
[Statedef 392]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 392

[State 1028, Vel Y]
type = VelSet
trigger1 = HitShakeOver = 1
x = facing*gethitvar(xvel)
y = gethitvar(yvel)

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 393
;=========================================================
; Custom State 4
;=========================================================
[Statedef 393]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AA,AP

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = 1.52

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim2
trigger1 = Time = 0
value = 392
elem = 2

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos Y >= Const(movement.down.bounce.groundlevel))
value = 5110
;=========================================================
; Custom State 5
;=========================================================
[Statedef 395]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 392

[State 1028, Vel Y]
type = VelSet
trigger1 = HitShakeOver = 1
x = facing*gethitvar(xvel)
y = gethitvar(yvel)

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 396
;=========================================================
; Custom State 6
;=========================================================
[Statedef 396]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AA,AP

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = 1.52

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim2
trigger1 = Time = 0
value = 392
elem = 2

[State 1028, Hit ground]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos Y >= Const(movement.down.bounce.groundlevel))
value = 397
;=========================================================
; Custom State 7
;=========================================================
[Statedef 397]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, 14] ;Friction
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim2
trigger1 = time = 0
value = 393
persistent = 0

[State 1025, State]
type = ChangeState
trigger1 = Animtime = 0
value = 398
;=========================================================
; Custom State 8
;=========================================================
[Statedef 398]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = 1
value = 394

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -.95
y = -9.5
persistent = 0 

[State 5101, 6] ;Acceleration
type = VelAdd
trigger1 = time
y = .5

[State 5101, 7] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.down.bounce.groundlevel)
value = 5110
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ INFINITE SCRAMBLE ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 350]
type    = S                       
movetype= A                     
physics = S        04)                      
ctrl = 0                          
anim = 350                       
sprpriority = 3  
poweradd = ifelse((prevstateno = [200,2199]),-1000,0)

[State 101, Helper]
type = Helper 
trigger1 =  var(8) 
trigger1 =  animelemtime(2)>0
trigger2 =  var(7) >= 25 
trigger2 =  animelemtime(1)>0 
name = "CHARGEFX"
ID = 8015
stateno = 8015
pos = 0,-45
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .75
size.yscale = .75
ignorehitpause = 0 
persistent = 0

[State 0, VarSet]
type = null
trigger1 = time = 0 
trigger1 = (prevstateno = [200,1999]) = 0 || var(7):=0  || var(8):=0
trigger2 = time = 0
trigger2 = (prevstateno = [200,1999]) = 1 || var(7):=45 || var(8):=1

[State 0, VarSet]
type = Varadd
trigger1 = 1 && var(8) = 0 && Animelemtime(2)<0
var(7) = command = "holda"
persistent = 1

[State CHARGING]
type = PalFX 
trigger1 = (prevstateno = [200,1999]) = 0 && var(7) = 35 
time = 11 
add = 0,0,0
mul = 256,256,256
sinadd = 75,75,75,4
invertall = 0
color = 256 
persistent = 0
 
[State CHARGING]
type = PalFX 
trigger1 = (prevstateno = [200,1999]) = 1   
time = 11 
add = 0,0,0
mul = 200,200,60
sinadd = 75,75,75,4
invertall = 0
color = 256 
persistent = 0

[State 0, PlaySnd]
type = PlaySnd 
trigger1 = var(7) = 20 
value = S200,1 
persistent = 0 

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0 

[State 200, VelSet]
type = PosAdd
triggerall = var(7) < 45 && frontedgebodydist >=35
trigger1 = Animelemtime(2) = [0,2]
x = 4.50

[State 200, VelSet]
type = PosAdd
triggerall = (prevstateno=[200,1999])=0 && var(7) >= 45 && frontedgebodydist >=35
trigger1 = Animelemtime(2) = [0,2]
x = 10.50 

[State 200, VelSet]
type = PosAdd
triggerall = (prevstateno=[200,1999])=1 && var(7) >= 45 && frontedgebodydist >=35
trigger1 = Animelemtime(2) = [0,2]
x = 8.50 

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(7)>= 45 && (prevstateno=[200,1999]) = 0
flag = unguardable

[State 200, HitDef]
type = hitdef
triggerall = var(17) 
triggerall = (prevstateno=[200,1999])=0 && var(9) && var(7)>=45
trigger1 = Animelem = 3
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 90,0
pausetime = 35,35
sparkno = s7503
guard.sparkno = s7550
sparkxy = -15,-50
getpower = 0,0
givepower = 0,0
hitsound = S1,5
guardsound = S2,0
ground.type = High      
ground.slidetime = 45
ground.hittime = 45
guard.ctrltime = 45
air.hittime = 46
ground.velocity = -7.97,0
air.velocity = -7.97,0
airguard.velocity = -11.15,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 0
fall.recovertime = 46
fall.damage = 0
air.fall = 1
yaccel = .5
kill = 1
id = 351
persistent = 0
p2stateno = 351 
envshake.time = 8
envshake.freq = 25
envshake.ampl = 12
envshake.phase = 6

[State 200, HitDef]
type = hitdef
triggerall = var(17) 
triggerall = (prevstateno=[200,1999])=1 && var(9) && var(7)>=45
trigger1 = Animelem = 3
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 69,0
pausetime = 16,16
sparkno = s7503
guard.sparkno = s7550
sparkxy = -15,-50
getpower = 0,0
givepower = 0,0
hitsound = S1,5
guardsound = S2,0
ground.type = High      
ground.slidetime = 45
ground.hittime = 45
guard.ctrltime = 45
air.hittime = 46
ground.velocity = -7.97,0
air.velocity = -7.97,0
airguard.velocity = -11.15,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 0
fall.recovertime = 46
fall.damage = 0
air.fall = 1
yaccel = .5
kill = 1
id = 351
persistent = 0
p2stateno = 351 

[State 200, HitDef]
type = hitdef
triggerall = var(17) 
triggerall = var(9) = 0 || var(7)<45
trigger1 = Animelem = 3
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = M        ;HLAFD+-
guardflag = MA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 69,0
pausetime = 8,8
sparkno = s7503
guard.sparkno = s7550
sparkxy = -15,-50
getpower = 0,0
givepower = 0,0
hitsound = S1,5
guardsound = S1,3
ground.type = High      
ground.slidetime = 30
ground.hittime = 30
guard.ctrltime = 30
air.hittime = 30
ground.velocity = -7.97,0
air.velocity = -7.97,0
airguard.velocity = -11.15,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 0
fall.recovertime = 46
fall.damage = 0
air.fall = 1
yaccel = .5
kill = 1
id = 352
persistent = 0
nochainid = 350

[State 200, 2]
type = PlaySnd
trigger1 = var(7)>=45 && Animelemtime(2) = 0
value = s200, 2
channel = 10

[State 200, 2]
type = PlaySnd
trigger1 = var(7)<45 && Animelemtime(2) = 0
value = s0,7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(4) = 0
movetype = I   

[State 200, 3]
type = ChangeAnim
trigger1 = var(8) = 0 && Animelemtime(1)>=0 && Animelemtime(2)<0 && var(7)< 45
trigger1 = (command = "holda") = 1
value = 350
elem = 1 

[State 0, TargetBind]
type = TargetBind
trigger1 = animelemtime(3)>=0 && numtarget(351)  && movehit
time = 1
id = 351
pos = 30,0
persistent = 0
ignorehitpause = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;=========================================================
; Custom State 1
;=========================================================
[Statedef 351]
type    = S
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0  
y = 0 

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 358

[State 1028, Vel Y]
type = VelSet
trigger1 = HitShakeOver = 1
x = facing*gethitvar(xvel)
y = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 0

[State 1025, State]
type = ChangeState
trigger1 = Alive && HitShakeOver = 1
value = 352

[State 1025, State]
type = ChangeState
trigger1 = Alive = 0 && HitShakeOver = 1
value = 353
;=========================================================
; Custom State 2
;=========================================================
[Statedef 352]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 359

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1
;=========================================================
; Custom State 2
;=========================================================
[Statedef 353]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 11

[State 5001, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 360

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0 

[State 5001, 6]
type = SelfState
trigger1 = Animtime = 0
value = 5110 
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ KI BLAST ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 365]
type    = S                       
movetype= A                     
physics = S      
juggle  = 0 * (var(16):= 0)                       
ctrl = 0                          
anim = 365                       
sprpriority = 2 
poweradd = -250 

[State 101, Helper]
type = Helper 
trigger1 = Animelem = 2,1 && var(7) 
name = "WEKAPIPO - WRECKING BALL"
ID = 130000
stateno = 130000
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .35 * const(size.xscale) 
size.yscale = .35 * const(size.yscale) 
ignorehitpause = 0
persistent = 0

[State 101, Helper]
type = null 
trigger1 = Animelem = 2,1 && var(7) 
name = "WEKAPIPO - WRECKING BALL"
ID = 130001
stateno = 130000
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .35 * const(size.xscale) 
size.yscale = .35 * const(size.yscale) 
ignorehitpause = 0
persistent = 0    

[State 0, VarSet]
type = null
trigger1 = time = 0 
trigger1 = (var(7):=0)

[State 0, VarSet]
type = Varadd
trigger1 = 1 && Animelemtime(1)>0
var(7) = command = "holda"
persistent = 1

[State 200, VelAdd]
type = VelSet 
trigger1 = time = 0 
x = 0
y = 0
 
[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0  

[State 200, 2]
type = PlaySnd
trigger1 = Animelem = 1,6 && var(7)
value = s205, 6  

[State 700, Helper]
type = Helper 
trigger1 = Animelem = 2,1 && var(7) 
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = -5,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 999999999 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0
persistent = 4

[State 200, 3]
type = ChangeState
trigger1 = Animelemtime(2)>1 && (command = "holda") = 0
trigger2 = time >=97
value = 366 
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ KI BLAST GO ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 366]
type    = S                       
movetype= A                     
physics = S                       
juggle  = 0                       
ctrl = 0                          
anim = 366                       
sprpriority = 2 
poweradd = 0
 
[State 101, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 1 
name = "FUNNY VALENTINE - D4C"
ID = 8050 + (var(7)>80)
stateno = 8050
pos = 75,-105
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .35 * const(size.xscale) 
size.yscale = .35 * const(size.yscale) 
ignorehitpause = 0
persistent = 0
   
[State 200, VelAdd]
type = VelSet 
trigger1 = time = 0 
x = 0
y = 0
 
[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s300, 2+(random%3)
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(3) = 0
movetype = I   

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ KI BLAST UPPER ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 370]
type    = S                       
movetype= A                     
physics = S       
juggle  = 0 * (var(16):= 0)                    
ctrl = 0                          
anim = 370                       
sprpriority = 2 
poweradd = -250 

[State 101, Helper]
type = Helper 
trigger1 = Animelemtime(2) = 0 
name = "WEKAPIPO - WRECKING BALL"
ID = 130003
stateno = 130000
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .35 * const(size.xscale) 
size.yscale = .35 * const(size.yscale) 
ignorehitpause = 0
persistent = 0

[State 101, Helper]
type = Helper 
trigger1 = Animelemtime(2) = 0 
name = "WEKAPIPO - WRECKING BALL"
ID = 130002
stateno = 130000
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .35 * const(size.xscale) 
size.yscale = .35 * const(size.yscale) 
ignorehitpause = 0
persistent = 0
   
[State 0, VarSet]
type = null
trigger1 = time = 0 
trigger1 = (var(7):=0)

[State 0, VarSet]
type = Varadd
trigger1 = 1 && Animelemtime(2)>0
var(7) = command = "holda"
persistent = 1

[State 200, VelAdd]
type = VelSet 
trigger1 = time = 0 
x = 0
y = 0
 
[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0  

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s205, 6  

[State 700, Helper]
type = Helper 
trigger1 = Animelem = 2,1 
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = -5,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 999999999 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0
persistent = 4

[State 200, 3]
type = ChangeState
trigger1 = Animelemtime(2)>0 && (command = "holda") = 0
trigger2 = time >=97
value = 371 
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ KI BLAST UPPER GO ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 371]
type    = S                       
movetype= A                     
physics = S                       
juggle  = 0                       
ctrl = 0                          
anim = 371                       
sprpriority = 2 
poweradd = 0

[State 101, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 1 
name = "FUNNY VALENTINE - D4C"
ID = 8603 + (var(7)>80)
stateno = 8050
pos = 65,-150
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .35 * const(size.xscale) 
size.yscale = .35 * const(size.yscale) 
ignorehitpause = 0
persistent = 0
   
[State 200, VelAdd]
type = VelSet 
trigger1 = time = 0 
x = 0
y = 0
 
[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s300, 2+(random%3)
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(4) = 0
movetype = I   

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;====================================( SHOCKING BARRIER HELPER)====================================
[Statedef 130000]
type    = U
movetype = A
physics = N 
anim = 30215
sprpriority = 3 - 3 * (ishelper(130001) || ishelper(130003)) 

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 130000, BindToRoot]
type = BindToRoot
trigger1 = ishelper(130000) || ishelper(130001)
time = 1
pos = 75,-105
ignorehitpause = 1 

[State 130000, BindToRoot]
type = BindToRoot
trigger1 = ishelper(130002) || ishelper(130003)
time = 1
pos = -65,-65
ignorehitpause = 1 

[State 130000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s205,9
channel = 15
persistent = 0 

[State 130000, ModifyExplod]
type = trans
trigger1 = ishelper(130001) || ishelper(130002) || ishelper(130003)  
trans = addalpha
alpha = 128,256
ignorehitpause = 1

[State 130000, ModifyExplod]
type = trans
trigger1 = ishelper(130000)  
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[State 130000, DestroySelf]
type = Destroyself
trigger1 = (root,stateno !=365) && (root,stateno !=370)
ignorehitpause = 1
;=======================================================
; [ EVIL HELPER 1 ]
;=======================================================
[Statedef 8050]
type    = A
movetype = I
physics = N 
anim = 30215
sprpriority = 7  
velset = 0,0

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 7007, SPECIAL]   
type = null 
trigger1    = time = 1
length      = 14
PalBright   = 0,0,0
PalContrast = 200,0,50
PalAdd      = 0,0,0
PalMul      = .5,.5,.5
timeGap     = 1
frameGap    = 1
trans       = add
time        = 999
palcolor    = 0   

[State 0, VelSet]
type = VelSet
trigger1 = Ishelper(8050) 
x = 9.6  
[State 0, VelSet]
type = VelSet
trigger1 = Ishelper(8051) 
x = 12.85  

[State 0, VelSet]
type = VelSet
trigger1 = Ishelper(8603)  
x = 3.1
y = -4.7 
[State 0, VelSet]
type = VelSet
trigger1 = Ishelper(8604)  
x = 5.1
y = -7.85 

[State 101, Helper]
type = Helper 
trigger1 = time = 0 
name = "PROJECTILE"
ID = 8052
stateno = 8051
pos = -5,18
postype = p1     ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = 1 * root,const(size.xscale) 
size.yscale = 1 * root,const(size.yscale) 
ignorehitpause = 0
persistent = 0

[State 20207, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s205,0
channel = 15
persistent = 0

[State 0, Trans]
type = Trans
trigger1 = 1 
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1 
scale =  1,1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = (ishelper(8050)) && (screenpos x !=[-410,410])  
trigger2 = (ishelper(8051)) && (screenpos x !=[-410,410])  
trigger3 = (ishelper(8603)) && screenpos y <=-55 
trigger4 = (ishelper(8604)) && screenpos y <=-55 
trigger5 = numhelper(8052)
trigger5 = helper(8052),movehit  || (helper(8052),stateno = 8051) = 0
;=======================================================
; [ EVIL HELPER 2 ]
;=======================================================
[Statedef 8053]
type    = U
movetype = I
physics = N 
sprpriority = 7  
velset = 0,0
anim = 8057

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0 

[State 0, Trans]
type = Trans
trigger1 = 1 
trans = addalpha
alpha = 256 - 14 * (time), 256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1 
scale =  2,2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;=======================================================
; [ EVIL HELPER 3 ]
;=======================================================
[Statedef 8051]
type    = A
movetype = A
physics = N 
anim = 8051
sprpriority = 7

[state 2011, Multiplier]
type = attackmulset
triggerall = numenemy
trigger1 = enemynear,movetype = H
value = root,fvar(20)
ignorehitpause = 1
 
[State 0, BindToParent]
type = BindToParent
trigger1 = numhelper(8050) 
trigger2 = numhelper(8051) 
trigger3 = numhelper(8603) 
trigger4 = numhelper(8604) 
pos = -10,25
ignorehitpause =  1

[State 200, HitDef]
type = Hitdef
triggerall = numhelper(8050)
trigger1 = parent,ishelper(8050)
attr = A,NP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 60,30
pausetime = 0,8
sparkno = s8052
guard.sparkno = s7550
sparkxy = -20,5
getpower = 0,0
givepower = 0,0
hitsound = S205,1
guardsound = S2,1
ground.type = High      
ground.slidetime = 21
ground.hittime = 21
guard.ctrltime = 21
air.hittime = 22
ground.velocity = -9.25,0
air.velocity = -3.25,-3.30
airguard.velocity = -6.25,-4.10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1
yaccel = .5
kill = 1
id = 8051
persistent = 0

[State 200, HitDef]
type = Hitdef
triggerall = numhelper(8051)
trigger1 = parent,ishelper(8051)
attr = A,NP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag =          ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 80,15
pausetime = 0,8
sparkno = s8052
guard.sparkno = s7550
sparkxy = -20,5
getpower = 0,0
givepower = 0,0
hitsound = S205,1
guardsound = S2,1
ground.type = Trip      
ground.slidetime = 0
ground.hittime = 21
guard.ctrltime = 21
air.hittime = 22
ground.velocity = -4.25,-3.85
air.velocity = -3.25,-3.30
airguard.velocity = -6.25,-4.10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1
yaccel = .5
kill = 1
id = 8051
persistent = 0

[State 200, HitDef]
type = Hitdef
triggerall = numhelper(8603)
trigger1 = parent,ishelper(8603)
attr = A,NP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = AF        ;HLAFD+-
guardflag = A         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 80,40
pausetime = 0,8
sparkno = s8052
guard.sparkno = s7550
sparkxy = -20,-25
getpower = 0,0
givepower = 0,0
hitsound = S205,1
guardsound = S2,1
ground.type = High      
ground.slidetime = 0
ground.hittime = 21
guard.ctrltime = 21
air.hittime = 22
ground.velocity = -9.25,0
air.velocity = -2.25,-6.30
airguard.velocity = -6.25,-4.10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 0
fall.recovertime = 22
fall.damage = 0
air.fall = 1
yaccel = .5
kill = 1
id = 8051
persistent = 0 

[State 200, HitDef]
type = Hitdef
triggerall = numhelper(8604)
trigger1 = parent,ishelper(8604)
attr = A,NP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = AF        ;HLAFD+-
guardflag =          ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 100,55
pausetime = 0,8
sparkno = s8052
guard.sparkno = s7550
sparkxy = -20,-25
getpower = 0,0
givepower = 0,0
hitsound = S205,1
guardsound = S2,1
ground.type = High      
ground.slidetime = 0
ground.hittime = 21
guard.ctrltime = 21
air.hittime = 22
ground.velocity = -9.25,0
air.velocity = -2.25,-9.71
airguard.velocity = -6.25,-4.10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 0
fall.recovertime = 22
fall.damage = 0
air.fall = 1
yaccel = .5
kill = 1
id = 8051
persistent = 0

[State 0, HitBy]
type = NotHitBy
trigger1 = 1 
value = SCA,NA,SA,HA,NT,ST,HT
time = 1
[State 0, HitBy]
type = HitBy
trigger1 = 1 
value = SCA,NP,SP,HP
time = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP
slot = 0
stateno = 8052
time = 1

[State 0, Null]
type = Null
trigger1 =  time = 0 || var(18):=0
trigger2 = (parent,ishelper(8603)) || var(18):=-1 
trigger3 = (parent,ishelper(8604)) || var(18):=-1 

[State 0, ChangeState]
type = null
trigger1 = (parent,ishelper(8050)) && screenpos x !=[-410,410]  
trigger2 = (parent,ishelper(8051)) && screenpos x !=[-410,410] 
trigger3 = (parent,ishelper(8603)) && screenpos y < -55 
trigger4 = (parent,ishelper(8604)) && screenpos y < -55 
trigger5 = (parent,stateno = 8050) = 0

[State 0, ChangeState]
type = Destroyself
triggerall = time
trigger1 = !numhelper(8050) 
trigger1 = !numhelper(8051)
trigger1 = !numhelper(8603)
trigger1 = !numhelper(8604)  

[State 0, ChangeState]
type = ChangeState 
trigger1 = movecontact  
value = 8052 
;=======================================================
; [ EVIL HELPER 3 ]
;======================================================= 
[Statedef 8052]
type    = U 
physics = N 
movetype = I
anim = 9999  
sprpriority = -1  
hitdefpersist = 1
velset = 0,0

[State 0, VarSet]
type = VarAdd
trigger1 = time && var(18) = 0
var(18) = 1 

[State 0, ChangeState]
type = Destroyself
trigger1 = time > 18
trigger2 = numhelper(8052)>1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ CROUCH A ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 400]
type    = C                       
movetype= A                     
physics = C        
juggle  = 0 * (var(16):= 5)                      
ctrl = 0                          
anim = 400                       
sprpriority = 2                   

[State 200, VelAdd]
type = VelAdd
triggerall = (Prevstateno = [100,101])
trigger1 = vel x > 0 
x = -.35

[State 200, VelAdd]
type = VelSet
triggerall = (Prevstateno = [100,101]) = 0
trigger1 = time = 0 
x = 0
y = 0

[State 200, VelSet]
type = VelSet
trigger1 = vel x <=0
x = 0 

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, HitDef]
type = HitDef
triggerall = var(15) 
trigger1 = Animelem = 2
attr = C,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = LA         ;HLA
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit
damage = 40,0
pausetime = 7,7
sparkno = s7503
guard.sparkno = s7550
sparkxy = -20,-95
getpower = 51,0
givepower = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      
ground.slidetime = 11
ground.hittime = 11
guard.ctrltime = 11
air.hittime = 12
ground.velocity = -6.6,0
air.velocity = -3.6,-3.35
airguard.velocity = -6.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 0
fall.recovertime = 12
fall.damage = 0
air.fall = 0
persistent = 0
yaccel = .47 
kill = 1
id = 400
envshake.time = 4 
envshake.ampl = 6

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 0

[State 200, 2]
type = PlaySnd
trigger1 = (random = [0,200]) && Animelemtime(2) = 0
value = s300, 0+(random%3)
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(3) = 0
movetype = I   

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ CROUCH B ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 405]
type    = C                       
movetype= A                     
physics = C       
juggle  = 0 * (var(16):= 5)                       
ctrl = 0                          
anim = 405                     
sprpriority = 2                       

[State 200, VelSet]
type = VelSet
trigger1 = time = 0 && (Prevstateno = [100,101]) = 0
trigger2 = (Prevstateno = [100,101]) && (vel x <=0 || Animelemtime(5) = 1)
y = 0
x = 0 

[State 200, VelAdd]
type = VelAdd
triggerall = (Prevstateno = [100,101])
trigger1 = vel x > 0 
x = -.35

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, HitDef]
type = HitDef
triggerall = var(15) 
trigger1 = Animelem = 3
trigger2 = Animelem = 4
attr = C,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = medium          ;light,medium,hard,back,up,diagup
air.animtype = medium
priority = 4,Hit
damage = 69,0
pausetime = 9,9
sparkno = s7503
guard.sparkno = s7550
sparkxy = -25,-85
getpower = 51,0
givepower = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      
ground.slidetime = 14
ground.hittime = 14
guard.ctrltime = 14
air.hittime = 15
ground.velocity = -7.23,0
air.velocity = -1.23,-6.65
airguard.velocity = -3.56,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 15
fall.damage = 0
air.fall = 1
persistent = 0
yaccel = .47 
kill = 1
id = 410
envshake.time = 4 
envshake.ampl = 8

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(5) < 0
trigger1 = hitpausetime 
value = 405
elem = 4
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 1

[State 200, 2]
type = PlaySnd
trigger1 = (random = [0,700]) && Animelemtime(2) = 0
value = s300, 0+(random%3)
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(5) = 0
movetype = I   

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ CROUCH C ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 410]
type    = C                       
movetype= A                     
physics = C        
juggle  = 0 * (var(16):= 1)                     
ctrl = 0                          
anim = 410                       
sprpriority = 2                   
         
[State 200, VelSet]
type = VelSet
trigger1 = Animelemtime(4) = 0
x = 0 

[State 200, VelAdd]
type = VelSet
trigger1 = Animelem = 1 
trigger2 = Animelem = 2 
trigger3 = Animelem = 3
x = 6.5

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, HitDef]
type = HitDef
triggerall = var(15) 
trigger1 = Animelem = 3
attr = C,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 121,0
pausetime = 11,11
sparkno = s7503
guard.sparkno = s7550
sparkxy = -15,-65
getpower = 51,0
givepower = 0,0
hitsound = S1,2
guardsound = S2,0
ground.type = High      
ground.slidetime = 17
ground.hittime = 17
guard.ctrltime = 17
air.hittime = 18
ground.velocity = -9.77,0
air.velocity = -3.23,-3.35
airguard.velocity = -9.77,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 18
fall.damage = 0
air.fall = 0
yaccel = .47
kill = 1
id = 410
envshake.time = 4 
envshake.ampl = 8

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 2

[State 200, 2]
type = PlaySnd
trigger1 = (random = [0,700]) && Animelemtime(2) = 0
value = s300, 2+(random%3)
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(4) = 0
movetype = I 
  
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(5) < 0
trigger1 = hitpausetime 
value = 410
elem = 4
ignorehitpause = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1 
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ AIR A ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 600]
type    = A                       
movetype= A                     
physics = A    
juggle  = 0 * (var(16):= 0)                       
ctrl = 0                          
anim = 600                       
sprpriority = 2               

[State 0, VelMul]
type = VelMul
trigger1 = (prevstateno = [110,111])
x = .83 
persistent = 0
    
[State 200, HitDef]
type = HitDef
trigger1 = Animelem = 4
attr = A,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = HA         ;HLA
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit
damage = 40,0
pausetime = 7,7
sparkno = s7503
guard.sparkno = s7550
sparkxy = -25,-10
getpower = 51,0
givepower = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      
ground.slidetime = 11
ground.hittime = 11
guard.ctrltime = 11
air.hittime = 12
ground.velocity = -4.6,0
air.velocity = -2.6,-3.35
airguard.velocity = -2.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 12
fall.damage = 0
air.fall = 1
persistent = 0
yaccel = .47 
kill = 1
id = 600
envshake.time = 4 
envshake.ampl = 6

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(3) = 0
value = s0, 0

[State 200, 2]
type = PlaySnd
trigger1 = (random = [0,200]) && Animelemtime(3) = 0
value = s300, 0+(random%3)
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(5) = 0
movetype = I    
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ AIR B ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 605]
type    = A                       
movetype= A                     
physics = A   
juggle  = 0 * (var(16):= 0)                        
ctrl = 0                          
anim = 605                       
sprpriority = 2                   

[State 0, VelMul]
type = VelMul
trigger1 = (prevstateno = [110,111])
x = .83 
persistent = 0

[State 605, HitDef]
type = HitDef
trigger1 = Animelem = 3
trigger2 = Animelem = 4
attr = A,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = HA         ;HLA
animtype = medium          ;light,medium,hard,back,up,diagup
air.animtype = medium
priority = 4,Hit
damage = 69,0
pausetime = 9,9
sparkno = s7503
guard.sparkno = s7550
sparkxy = -40,-75
getpower = 51,0
givepower = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      
ground.slidetime = 14
ground.hittime = 14
guard.ctrltime = 14
air.hittime = 15
ground.velocity = -7.23,0
air.velocity = -3.6,-4.60
airguard.velocity = -2.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 15
fall.damage = 0
air.fall = 1
persistent = 0
yaccel = .47 
kill = 1
id = 605 
envshake.time = 4 
envshake.ampl = 8

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 1

[State 200, 2]
type = PlaySnd
trigger1 = (random = [0,200]) && Animelemtime(2) = 0
value = s300, 0+(random%8)
channel = 10

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(5) < 0
trigger1 = hitpausetime 
value = 605
elem = 4
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(5) = 0
movetype = I    
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ AIR C ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 610]
type    = A                       
movetype= A                     
physics = A  
juggle  = 0 * (var(16):= 0)                          
ctrl = 0                          
anim = 610                       
sprpriority = 2                   

[State 0, VelMul]
type = VelMul
trigger1 = (prevstateno = [110,111])
x = .83 
persistent = 0

[State 605, HitDef]
type = HitDef
trigger1 = Animelem = 3
trigger2 = Animelem = 4
attr = A,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = HA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 89,0
pausetime = 11,11
sparkno = s7504
guard.sparkno = s7550
sparkxy = -10,-55
getpower = 51,0
givepower = 0,0
hitsound = S1,2
guardsound = S2,0
ground.type = High      
ground.slidetime = 17
ground.hittime = 17
guard.ctrltime = 17
air.hittime = 18
ground.velocity = -7.23,0
air.velocity = -3.1,-6.25
airguard.velocity = -2.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 18
fall.damage = 0
air.fall = 1
yaccel = .47
kill = 1
id = 610
envshake.time = 6 
envshake.ampl = 8
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(5) < 0
trigger1 = hitpausetime 
value = 610
elem = 4
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 2

[State 200, 2]
type = PlaySnd
trigger1 = (random = [0,200]) && Animelemtime(2) = 0
value = s300, 0+(random%8)
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(5) = 0
movetype = I   
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; [ AIR C ]
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 615]
type    = A                       
movetype= A                     
physics = A 
juggle  = 0 * (var(16):= 0)                          
ctrl = 0                          
anim = 615                       
sprpriority = 2     
 
[State 0, VelMul]
type = VelMul
trigger1 = (prevstateno = [110,111])
x = .83 
persistent = 0

[State 200, HitDef]
type = Hitdef
trigger1 = Animelem = 3
attr = A,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = HA         ;HLA
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit
damage = 89,0
pausetime = 13,13
sparkno = s7504
guard.sparkno = s7550
sparkxy = -25,-55
getpower = 51,0
givepower = 0,0
hitsound = S1,4
guardsound = S2,0
ground.type = High      
ground.slidetime = 28
ground.hittime = 28
guard.ctrltime = 28
air.hittime = 29
ground.velocity = -1.25,5
air.velocity = -1.25,5.15
airguard.velocity = -2.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 29
fall.damage = 0
air.fall = 0
persistent = 0
yaccel = .47 
kill = 1
id = 615
p2stateno = 392 
envshake.time = 6 
envshake.ampl = 10
snap = 0,-10

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 5

[State 200, 2]
type = Playsnd
trigger1 = Animelemtime(2) = 0
value = s300, 9
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(4) = 0
movetype = I  
;=========================================================
; Custom State 1
;=========================================================
[Statedef 696]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 696

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 697 
;=========================================================
; Custom State 2
;=========================================================
[Statedef 697]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = facing * gethitvar(xvel)
y =          gethitvar(yvel)

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
x = -1

[State 1026, No scroll]
type = ScreenBound 
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 698

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos Y >= Const(movement.down.bounce.groundlevel))
value = 5100
;=========================================================
; Custom State 3
;=========================================================
[Statedef 698]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 697

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 699
;=========================================================
; Custom State 4
;=========================================================
[Statedef 699]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = Hitby
trigger1 = 1
value = SCA ,NA,SA,HA

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
x = 3.2
y = -7.7

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .52

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos Y >= Const(movement.down.bounce.groundlevel))
value = 5100

;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Buu\Console/H.cns}
;==============================================================================

;**************************************************************
; [ VANISHING BALL ]
;**************************************************************
[Statedef 1000]
type    = S                    
movetype= A                     
physics = S                       
juggle  = 0                       
ctrl = 0                           
sprpriority = 0  
anim = 1000 + 10 * (command = "INNOCENCE 2") 
facep2 = 1

[State 1000, VarSet]
type = Null
trigger1 = time = 0 
trigger1 = var(31) := 8002 
trigger2 = numhelper(11112)
trigger2 = var(31) := 8020

[State 1000, PowerAdd]
type = PowerAdd
trigger1 = var(31) = 8020
value = -500
persistent = 0

[State 1000, Helper]
type = Helper 
triggerall = Anim = 1000
trigger1 = animelemtime(2) < 0 
name = "CANNON"
ID = 8000
stateno = 8000
pos = 45,-75
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .45
size.yscale = .45
ignorehitpause = 0
persistent = 6

[State 1000, Helper]
type = Helper 
triggerall = Anim = 1010
trigger1 = animelemtime(2) < 3 
name = "CANNON SUCCESS"
ID = 8000
stateno = 8000
pos = 65,-75
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = ifelse(var(31) = 8020,.55,.45)
size.yscale = ifelse(var(31) = 8020,.55,.45)
ignorehitpause = 0
persistent = 6
 
[State 1000, Helper]
type = Helper 
triggerall = Anim = 1010
trigger1 = animelemtime(3) = 1 
name = "CANNON SUCCESS"
ID = var(31)
stateno = 8002
pos = 75,-75
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .55
size.yscale = .55
ignorehitpause = 0
persistent = 6

[State 1000, Helper]
type = Helper 
triggerall = Anim = 1000
trigger1 = animelemtime(2) = 0 
name = "WHAT HAPPENED?!"
ID = 8001
stateno = 8001
pos = 45,-75
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .28
size.yscale = .28
ignorehitpause = 0
persistent = 0

[State 1000, Helper]
type = Helper 
triggerall = Anim = 1000
trigger1 = animelemtime(1) = 1 
name = "ABSORBE MI POTENCIA"
ID = 8005
stateno = 8005
pos = 45,-75
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 0
persistent = 0

[State 1000, Helper]
type = Helper 
triggerall = Anim = 1010 && numhelper(11112) = 0 && Power > 499 && Animelemtime(2) < 0
trigger1 = command = "c"
name = "SHOW THE WORLD"
ID = 11112
stateno = 10002
pos = 0,-60
postype = p1    ;p2,front,back,left,right
facing = facing
ownpal = 1
pausemovetime = 99999999999999 
size.xscale = .2
size.yscale = .2
ignorehitpause = 0
persistent = 0

[State 1000, VelAdd]
type = VelSet
trigger1 = time = 0 
x = 0
y = 0

[State 1000, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 

[State 1000, HitDef]
type = HitDef 
triggerall = Anim = 1000
triggerall = (time%5) = 1
triggerall = Uniqhitcount < 9
trigger1 = Animelemtime(1) = [1,50]
attr = S,SP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = M        ;HLAFD+-
guardflag = M         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 15,5
pausetime = 0,5
sparkno = s7503
guard.sparkno = s7550
sparkxy = -15,-65
getpower = 6,0
givepower = 0,0
guardsound = S2,0
ground.type = High      
ground.slidetime = 15
ground.hittime = 15
guard.ctrltime = 15
air.hittime = 16
ground.velocity = -1.3,0
air.velocity = -3.6,-3.35
airguard.velocity = -6.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 16
fall.damage = 0
air.fall = 0 
yaccel = .47 
kill = 1
id = 1000
envshake.time = 4 
envshake.ampl = 2
 
[State 1000, HitDef]
type = HitDef  
triggerall = Anim = 1000
trigger1 = Animelemtime(2) = [0,1]
attr = S,SP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = M        ;HLAFD+-
guardflag = M         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 60,20
pausetime = 0,7
sparkno = s7503
guard.sparkno = s7550
sparkxy = -15,-65
getpower = 6,0
givepower = 0,0
hitsound = S205,5
guardsound = S2,0
ground.type = High      
ground.slidetime = 44
ground.hittime = 44
guard.ctrltime = 44
air.hittime = 45
ground.velocity = -1.3,-13.75
guard.velocity = -14.35
air.velocity = -3.6,-3.35
airguard.velocity = -6.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1 
yaccel = .47 
kill = 1
id = 1001
envshake.time = 4 
envshake.ampl = 6
hitonce = 1
persistent = 0

[State 1000, 2]
type = PlaySnd 
triggerall = Anim = 1000
trigger1 = Animelemtime(5) = 0 
value = s400, 2
channel = 10

[State 1000, 2]
type = PlaySnd 
trigger1 = Animelemtime(1) = 1
value = s205, 10 

[State 1000, 2]
type = PlaySnd 
triggerall = Anim = 1000
trigger1 = Animelemtime(2) = 1
value = s205, 4 

[State 1000, StateTypeSet]
type = StateTypeSet 
trigger1 = Animelemtime(5) = 0 
movetype = I   

[State 1000, 3]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1 
;**************************************************************
; [ INNOCENCE TRAIN ]
;**************************************************************
[Statedef 1100]
type    = C                    
movetype= A                     
physics = N     
juggle  = 0 * (var(16):= 0)                       
ctrl = 0                           
sprpriority = 0  
anim = 1100
facep2 = 1 

[State 1100, NotHitBy]
type = NotHitBy
trigger1 = Animelemtime(3) >= 0
value = SCA,NP,SP,HP

[State 1100, Helper]
type = Helper 
trigger1 = Animelemtime(3) = 0
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1 
size.xscale = .5
size.yscale = .4
ignorehitpause = 0
persistent = 0
 
[State 1100, Helper]
type = Helper 
trigger1 = Animelemtime(3) > 0 
name = "GROUND CONST"
ID = 7111
stateno = 7111
pos = 0,10
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 0
persistent = 2

[State 1100, VelAdd]
type = VelSet
trigger1 = time = 0 
x = 0
y = 0

[State 1100, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 
 
[State 1100, VelAdd]
type = VelSet
trigger1 = Animelemno(0) = [3,6]
x = 9.75 
 
[State 1100, HitDef]
type = HitDef 
trigger1 = Animelem = 3 || Animelem = 4 || Animelem = 5
attr = C,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = M         ;HLAFD+-
guardflag = L         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 16,6
pausetime = 2,2
sparkno = s7503
guard.sparkno = s7550
sparkxy = -10,5
getpower = 6,0
givepower = 0,0
guardsound = S2,0
ground.type = High      
ground.slidetime = 24
ground.hittime = 24
guard.ctrltime = 24
air.hittime = 25
ground.velocity = -5.75,0
air.velocity = -3.6,-3.35
airguard.velocity = -6.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 25
fall.damage = 0
air.fall = 0 
yaccel = .47 
kill = 1
id = 1100
hitonce = 0
persistent = 1
envshake.time = 4 
envshake.ampl = 2 
   
[State 1100, HitDef]
type = HitDef 
trigger1 = Animelem = 6
attr = C,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = M         ;HLAFD+-
guardflag = L         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 34,9
pausetime = 2,2
sparkno = s7503
guard.sparkno = s7550
sparkxy = -10,5
getpower = 6,0
givepower = 0,0
guardsound = S2,0
ground.type = Low      
ground.slidetime = 25
ground.hittime = 25
guard.ctrltime = 25
air.hittime = 26
ground.velocity = -16.75,0
air.velocity = -3.6,-3.35
airguard.velocity = -6.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 26
fall.damage = 0
air.fall = 0 
yaccel = .47 
kill = 1
id = 1103
hitonce = 1
persistent = 0
envshake.time = 4 
envshake.ampl = 2 

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
trigger2 = movehit = 1
var(22) = 0

[State 1100, VarAdd]
type = VarAdd
trigger1 = hitpausetime 
var(22) = 1
ignorehitpause = 1

[State 1100, 2]
type = PlaySnd 
triggerall = Animelemtime(2) >= 0
trigger1 = var(22) = 1
value = s1, 3
ignorehitpause = 1
channel = 9

[State 1100, 2]
type = PlaySnd 
trigger1 = Animelemtime(3) = 0
value = s10, 1 

[State 1100, 2]
type = PlaySnd  
trigger1 = Animelemtime(3) = 0
value = s300, 5  
channel = 10

[State 1100, 3]
type = Changestate
trigger1 = Animtime = 0
value = 1105 
;**************************************************************
; [ INNOCENCE TRAIN ]
;**************************************************************
[Statedef 1105]
type    = S                    
movetype= A                     
physics = N                       
juggle  = 0                       
ctrl = 0                           
sprpriority = 0  
anim = 1105
 
[State 1105, 1]
type = VelSet
trigger1 = Animtime = 0
y = 0

[State 1105, 1]
type = VelMul
trigger1 = 1
x = .80

[State 1105, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 
 
[State 1105, 2]
type = PlaySnd 
trigger1 = Animelemtime(1) = 1
value = s10, 2

[State 1105, 3]
type = Changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1 
;**************************************************************
; [ CHILDISH AWRY ]
;**************************************************************
[Statedef 1200]
type    = S                    
movetype= A                     
physics = N    
juggle  = 0 * (var(16):= 0)                       
ctrl = 0                           
sprpriority = 0  
anim = 1200
facep2 = 1 

[State 1200, VelAdd]
type = VelSet
trigger1 = time = 0 
x = 0
y = 0

[State 1200, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 

[State 1200, PosSet]
type = PosAdd
trigger1 = frontedgedist < 20 && Animelemtime(3) = 0
x = 20

[State 1200, NotHitBy]
type = NotHitBy
trigger1 = Animelemtime(3) < 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT 

[State 1200, VelAdd]
type = VelSet
trigger1 = Animelemtime(3) = 0
x = 7.75
y = -8.25

[State 1200, VelAdd]
type = VelAdd
trigger1 = Animelemtime(3) > 0 
y = .47

[State 1200, VelAdd]
type = VelSet
trigger1 = Animelemtime(4) = 1
x = 0  

[State 1200, HitDef]
type = HitDef
triggerall = var(19) = 0
trigger1 = Animelem = 3
attr = A,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 40,8
pausetime = 15,15
sparkno = s7503
guard.sparkno = s7550
sparkxy = -25,-75
getpower = 6,0
givepower = 0,0
hitsound = S1,5
guardsound = S2,0
ground.type = Low      
ground.slidetime = 28
ground.hittime = 28
guard.ctrltime = 28
air.hittime = 29
ground.velocity = -2.35,-13.55
air.velocity = -2.35,-12.55
airguard.velocity = -2.35,-4.55
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1 
yaccel = .47 
kill = 1
id = 1200
envshake.time = 8 
envshake.ampl = 6  
persistent = 0

[State 1200, 2]
type = PlaySnd 
trigger1 = Animelemtime(3) = 0
value = s0, 7 

[State 1200, 2]
type = PlaySnd  
trigger1 = Animelemtime(2) = 1
value = s305, 1
channel = 10

[State 1200, StateTypeSet]
type = StateTypeSet 
trigger1 = Animelemtime(3) = 0 
statetype = A
physics = N

[State 1200, StateTypeSet]
type = StateTypeSet 
trigger1 = Animelemtime(4) = 0 
movetype = I   

[State 1200, 3]
type = ChangeState
trigger1 = pos y >=0
trigger1 = vel y > 0
value = 1205 
;**************************************************************
; [ CHILDISH AWRY LAND ]
;**************************************************************
[Statedef 1205]
type    = S                    
movetype= A                     
physics = N                       
juggle  = 0                       
ctrl = 0                           
sprpriority = 0  
anim = 1205 
 
[State 1205, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1205, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 
 
[State 1205, 2]
type = PlaySnd 
trigger1 = Animelemtime(1) = 0
value = s10, 0

[State 1205, 3]
type = Changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1 
;**************************************************************
; [ CHILDISH BREAKER ]
;**************************************************************
[Statedef 1300]
type    = S                    
movetype= A                     
physics = N       
juggle  = 0 * (var(16):= 0)                    
ctrl = 0                           
sprpriority = 2  
anim = 1300  
facep2 = 1 

[State 1300, VelAdd]
type = VelSet
trigger1 = Animelemtime(5) < 0
x = 0
y = 0 

[State 1300, VelAdd]
type = VelSet
trigger1 = Animelemtime(5) = 0 
y = 1.5

[State 1300, VelAdd]
type = VelAdd
trigger1 = Animelemtime(5) > 0 
y = .65

[State 1300, HitDef]
type = HitDef
trigger1 = Animelem = 5
attr = A,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 25,10
pausetime = 6,6
sparkno = s7505
guard.sparkno = s7550
sparkxy = -10,-30
getpower = 6,0
givepower = 0,0
hitsound = S1,5
guardsound = S2,0
ground.type = Low      
ground.slidetime = 28
ground.hittime = 28
guard.ctrltime = 28
air.hittime = 29
ground.velocity = 0,5
air.velocity = 0,4
airguard.velocity = -4.4,-5.0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1 
yaccel = .47 
kill = 1
id = 1300
envshake.time = 8 
envshake.ampl = 6  
persistent = 0
p1stateno = 1301
p2stateno = 1310

[State 1300, 2]
type = PlaySnd 
trigger1 = Animelemtime(4) = 0
value = s0, 7 

[State 1300, 2]
type = PlaySnd  
trigger1 = Animelemtime(2) = 1
value = s305, 1
channel = 10

[State 1300, StateTypeSet]
type = StateTypeSet 
trigger1 = Animelemtime(3) = 0 
statetype = A
physics = N

[State 1300, 3]
type = ChangeState
trigger1 = pos y >=0
trigger1 = vel y > 0
value = 1305 
;**************************************************************
; [ CHILDISH BREAKER ]
;**************************************************************
[Statedef 1301]
type    = A                    
movetype= A                     
physics = N                       
juggle  = 0                       
ctrl = 0                           
sprpriority = 0  
anim = 1303
facep2 = 1 
poweradd = -500 * (Prevstateno = [1200,1205])

[State 1301, VelAdd]
type = VelSet
trigger1 = time = 0
x = 0

[State 1301, VelAdd]
type = VelAdd
trigger1 = 1
y = .65

[State 1301, Bind 1]
type = TargetBind
trigger1 = 1
pos = .35,3.35
ID = 1300
ignorehitpause = 1

[State 1301, 3]
type = ChangeState
trigger1 = pos y >=0
trigger1 = vel y > 0
value = 1306 
;**************************************************************
; [ CHILDISH BREAKER LAND ]
;**************************************************************
[Statedef 1305]
type    = S                    
movetype= A                     
physics = S     
juggle  = 0 * (var(16):= 0)                      
ctrl = 0                           
sprpriority = 2  
anim = 1305 

[State 1305, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1305, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 
  
[State 1305, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 0
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = -12,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0
 
[State 1305, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 0
name = "Ground Charge"
ID = 7110
stateno = 7110
pos = -45,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = 1
size.yscale = 1
ignorehitpause = 0

[State 1305, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 0
name = "Ground Charge"
ID = 7111
stateno = 7110
pos = 45,0
postype = p1    ;p2,front,back,left,right
facing = -1 
ownpal = 1 
size.xscale = 1
size.yscale = 1
ignorehitpause = 0

[State 1305, HitDef]
type = HitDef
trigger1 = Animelem = 1
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = FD        ;HLAFD+-
guardflag =          ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 25,0
pausetime = 15,15
sparkno = s7505
guard.sparkno = s7550
sparkxy = -10,-30
getpower = 6,0
givepower = 0,0
hitsound = S1,5
guardsound = S2,0
ground.type = Low      
ground.slidetime = 28
ground.hittime = 28
guard.ctrltime = 28
air.hittime = 29
down.hittime = 45
ground.velocity = 0,0
down.velocity = 0,0
air.velocity = 0,0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1 
yaccel = .47 
kill = 1
id = 1305
envshake.time = 8 
envshake.ampl = 6  
persistent = 0

[State 1305, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 2
movetype = I        

[State 1305, 2]
type = PlaySnd 
trigger1 = Animelemtime(1) = 0
value = s3, 1

[State 1305, 3]
type = Changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1 
;**************************************************************
; [ CHILDISH BREAKER LAND ]
;**************************************************************
[Statedef 1306]
type    = S                    
movetype= A                     
physics = S                       
juggle  = 0                       
ctrl = 0                           
sprpriority = 2  
anim = 1306 

[State 1306, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Animelemtime(1) = 0
value = ceil((-50)  * fvar(20)) 
ID = 1300
kill = 1

[State 1306, TargetBind]
type = TargetBind
trigger1 = Animelemtime(1) = 0
time = 1
id = 1300
pos = 15,0

[State 1306, TargetBind]
type = TargetState
triggerall = NumTarget(1300)
trigger1 = Animelemtime(1) = 0 
ID = 1300 
value = 1311  

[State 1306, HitAdd]
type = HitAdd
trigger1 = Animelemtime(1) = 0
value = 1

[State 1306, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1306, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 
  
[State 1306, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 0
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = -12,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0
 
[State 1306, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 0
name = "Ground Charge"
ID = 7110
stateno = 7110
pos = -45,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = 1
size.yscale = 1
ignorehitpause = 0

[State 1306, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 0
name = "Ground Charge"
ID = 7111
stateno = 7110
pos = 45,0
postype = p1    ;p2,front,back,left,right
facing = -1 
ownpal = 1 
size.xscale = 1
size.yscale = 1
ignorehitpause = 0

[State 1306, 2]
type = PlaySnd 
trigger1 = Animelemtime(1) = 0
value = s3, 1

[State 1306, 3]
type = Changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1 
;=========================================================
; Custom State 1
;=========================================================
[Statedef 1310]
type    = A
movetype= H
physics = N 
sprpriority = 1

[State 1310, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 1301
;=========================================================
; Custom State 3
;=========================================================
[Statedef 1311]
type    = L
movetype= H
physics = N

[State 1311, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 1311, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 1311, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1311, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 1311, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 1311, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0

[State 1311, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1311, 10] ;For normal
type = ChangeAnim2 
trigger1 = time = 0
value = 1302

[State 1311, 11] ;If just died
type = SelfState
trigger1 = !alive 
trigger1 = time 
value = 5150

[State 1311, 11]  
type = SelfState
trigger1 = alive 
trigger1 = time > 80
value = 5120
;=========================================================
; Custom State 3
;=========================================================
[Statedef 1312]
type    = L
movetype= H
physics = N

[State 1312, Anim 5050] ;Self falling animation
type = ChangeAnim2
trigger1 = time = 0
value = 1304

[State 1312, 1]
type = Hitby
trigger1 = 1
value = SCA ,NA,SA,HA

[State 1312, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 2 
statetype = A 

[State 1312, Vel Y]
type = VelSet
trigger1 = Animelem = 2
x = -1.97
y = -12.5
persistent = 0

[State 1312, Gravity]
type = VelAdd
trigger1 = Animelemtime(2) >= 0
y = .47 

[State 1312, Hit ground]
type = SelfState
trigger1 = Animelemtime(2) > 0
trigger1 = (Vel y > 0) && (Pos Y >= Const(movement.down.bounce.groundlevel))
value = 5100
;**************************************************************
; [ MAJIN TIPPER ]
;**************************************************************
[Statedef 1400]
type    = A                    
movetype= A                     
physics = N     
juggle  = 0 * (var(16):= 0)                      
ctrl = 0                           
sprpriority = 2  
anim = 1400  
facep2 = 1 

[State 1400, VelAdd]
type = VelSet
trigger1 = Animelemtime(3) < 0
x = 0
y = 0  

[State 1400, VelAdd]
type = VelSet
trigger1 = Animelemtime(3) = 0
x = 11.65
y = 0  

[State 1400, VelAdd]
type = VelMul
trigger1 = Animelemtime(6) > 0
x = .75
[State 1400, VelAdd]
type = VelAdd
trigger1 = Animelemtime(6) > 0 
y = .5

[State 1400, HitDef]
type = HitDef
trigger1 = Animelem = 4
attr = A,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 50,10
pausetime = 15,30
sparkno = s7505
guard.sparkno = s7550
sparkxy = -20,-45
getpower = 6,0
givepower = 0,0
hitsound = S1,5
guardsound = S2,0
ground.type = Low      
ground.slidetime = 28
ground.hittime = 28
guard.ctrltime = 28
air.hittime = 29
ground.velocity = -6.5,7
air.velocity = 0,4
airguard.velocity = -4.4,-5.0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1 
yaccel = .47 
kill = 1
id = 1400
envshake.time = 8 
envshake.ampl = 6  
persistent = 0 

[State 1400, 2]
type = PlaySnd 
trigger1 = Animelemtime(3) = 0
value = s0, 6

[State 1400, 2]
type = PlaySnd  
trigger1 = Animelemtime(3) = 1
value = s305, 4
channel = 10 

[State 1400, 3]
type = ChangeState
trigger1 = pos y >=0
trigger1 = vel y > 0
value = 1410 
[State 1400, 4]
type = ChangeState
trigger1 = movehit && command = "MAJIN TIPPER" && Animelemno(0) = 4 && power >= 500
value = 1405
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[Statedef 1405]
type    = A                       
movetype= A                     
physics = N                       
juggle  = 0                       
ctrl = 0                          
anim = 1405                       
sprpriority = 2               
poweradd = -500
 
[State 1405, Helper]
type = Helper 
trigger1 = numhelper(11112) = 0
name = "SHOW THE WORLD"
ID = 11112
stateno = 10002
pos = 0,-60
postype = p1    ;p2,front,back,left,right
facing = facing
ownpal = 1 
size.xscale = .2
size.yscale = .2
ignorehitpause = 0
persistent = 0

[State 1405, VelMul]
type = VelSet
trigger1 = Animelemtime(7) < 0
x = 0
y = 0  
   
[State 1405, VelAdd]
type = VelAdd
trigger1 = Animelemtime(7) > 0 
y = .5
 
[State 1405, HitDef]
type = HitDef
trigger1 = Animelem = 3
attr = A,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 69,10
pausetime = 30,30
sparkno = s7504
guard.sparkno = s7550
sparkxy = -25,-65
getpower = 100,0
givepower = 0,0
hitsound = S1,5
guardsound = S2,0
ground.type = High      
ground.slidetime = 44
ground.hittime = 44
guard.ctrltime = 44
air.hittime = 45
ground.velocity = -1.25,9
air.velocity = -1.25,8
airguard.velocity = -5.25,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1
persistent = 0
yaccel = .47 
kill = 1
id = 1405
p2stateno = 392 
envshake.time = 4 
envshake.ampl = 8

[State 1405, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0, 7

[State 1405, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 1
value = s300, 7
channel = 10

[State 1405, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(5) = 0
movetype = I   

[State 1405, 3]
type = ChangeState
trigger1 = pos y >=0
trigger1 = vel y > 0
value = 1410 
;**************************************************************
; [ MAJIN KEN LAND ]
;**************************************************************
[Statedef 1410]
type    = S                    
movetype= A                     
physics = N                       
juggle  = 0                       
ctrl = 0                           
sprpriority = 0  
anim = 1410
 
[State 1410, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1410, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 
 
[State 1410, 2]
type = PlaySnd 
trigger1 = Animelemtime(1) = 0
value = s10, 0

[State 1410, 3]
type = Changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1 

;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Buu\Console/U.cns}
;==============================================================================

;**************************************************************
; [ INNOCENCE LOCOMOTIVE ]
;**************************************************************
[Statedef 2000]
type    = C                    
movetype= A                     
physics = C        
juggle  = 0 * (var(16):= 0)                  
ctrl = 0                           
sprpriority = 1  
anim = 2000

[State 2000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2000, VarSet]
type = VarSet
trigger1 = 1 
fvar(6) = 1

[State 2000, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0
 
[State 2000, 2]
type = PlaySnd
trigger1 = time = 0
value = s305, 3
channel = 10

[State 2000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1 

[State 2000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 52
pos = -9999,-9999
movetime = 42
poweradd = -1000
unhittable = 1 
darken = 0

[State 2000, Helper]
type = Helper 
trigger1 =  time = 0
name = "SHOWTIME"
ID = 10000
stateno = 10000
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 0

[State 2000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2000, Null]
type = Null
trigger1 = time     = 0
trigger1 = var(25) := 0 

[State 2000, VarAdd]
type = VarAdd
trigger1 = command = "holda"
var(25) = 1

[State 2000, 7]
type = ChangeState
trigger1 = Animtime = 0
value = 2001
;**************************************************************
; [ INNOCENCE LOCOMOTIVE CONTINUE ]
;**************************************************************
[Statedef 2001]
type    = C                       
movetype= A                     
physics = C    
juggle  = 0 * (var(16):= 0)                       
ctrl = 0                          
anim = 2001                       
sprpriority = 2 
poweradd = 0 

[State 2001, NotHitBy]
type = NotHitBy
trigger1 = Animelemtime(2) < 2
trigger2 = var(25) 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2001, VelAdd]
type = VelSet 
trigger1 = time = 0 
x = 0
y = 0
 
[State 2001, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 
 
[State 2001, VelAdd]
type = VelSet
trigger1 = Animelemno(0) = [2,9]
x = ifelse(var(25) > 40,7.35,5.75)  
[State 2001, HitDef]
type = HitDef 
triggerall = var(25) < 41
trigger1 = Animelem = 2 || Animelem = 3 || Animelem = 4 || Animelem = 5 || Animelem = 6 || Animelem = 7 || Animelem = 8
attr = C,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = M         ;HLAFD+-
guardflag = L         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 15,5
pausetime = 1,1
sparkno = s7503
guard.sparkno = s7550
sparkxy = -10,5
getpower = 0,0
givepower = 0,0
guardsound = S2,0
ground.type = Low      
ground.slidetime = 34
ground.hittime = 34
guard.ctrltime = 34
air.hittime = 35
ground.velocity = -6.75,0
air.velocity = -3.6,-3.35
airguard.velocity = -6.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 0
fall.recover = 1
fall.recovertime = 35
fall.damage = 0
air.fall = 0 
yaccel = .47 
kill = 1
id = 2001
hitonce = 0
persistent = 1
envshake.time = 4 
envshake.ampl = 2 

[State 2001, VarSet]
type = VarSet
trigger1 = time = 0
trigger2 = movehit = 1
var(22) = 0

[State 2001, VarAdd]
type = VarAdd
trigger1 = hitpausetime 
var(22) = 1
ignorehitpause = 1

[State 2001, 2]
type = PlaySnd 
triggerall = Animelemtime(2) >= 0
trigger1 = var(22) = 1
value = s1, 3
ignorehitpause = 1
channel = 9

[State 2001, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 1
value = s10, 3 
persistent = 0

[State 2001, 3]
type = ChangeState
triggerall = var(25) < 41
trigger1 = Animtime = 0
value = 2002 
[State 2001, 3]
type = ChangeState
triggerall = var(25) > 40
trigger1 = P2bodydist X < 25   
trigger2 = Animtime = 0 && time > 54
value = 2004
;**************************************************************
; [ INNOCENCE LOCOMOTIVE ]
;**************************************************************
[Statedef 2002]
type    = A                    
movetype= A                     
physics = N 
juggle  = 0 * (var(16):= 0)                         
ctrl = 0                           
sprpriority = 0  
anim = 2002 

[State 2002, VelAdd]
type = VelSet
trigger1 = time = 0 
x = 0
y = 0

[State 2002, PosSet]
type = PosSet
trigger1 = time = 0
y = 0  

[State 2002, VelAdd]
type = VelSet
trigger1 = Animelemtime(1) = 0
x = 2.6
y = -6.6

[State 2002, VelAdd]
type = VelAdd
trigger1 = Animelemtime(1) > 0 
y = .5 
 
[State 2002, HitDef]
type = HitDef 
trigger1 = Animelem = 1  
attr = A,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF         ;HLAFD+-
guardflag = MA         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 55,25
pausetime = 2,2
sparkno = s7503
guard.sparkno = s7550
sparkxy = -20,-45
getpower = 0,0
givepower = 0,0
hitsound = s1,5
guardsound = S2,0
ground.type = Low      
ground.slidetime = 34
ground.hittime = 34
guard.ctrltime = 34
air.hittime = 35
ground.velocity = -2.85,-7
air.velocity = -2.85,-6 
airguard.velocity = -1.85,-4.8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1 
yaccel = .47 
kill = 1
id = 2002
hitonce = 0
persistent = 1
envshake.time = 4 
envshake.ampl = 2 

[State 2002, 2]
type = PlaySnd 
trigger1 = Animelemtime(1) = 0
value = s10, 1 

[State 2002, 3]
type = ChangeState
trigger1 = pos y >=0
trigger1 = vel y > 0
value = 2003
;**************************************************************
; [ INNOCENCE LOCOMOTIVE ]
;**************************************************************
[Statedef 2003]
type    = C                    
movetype= A                     
physics = C  
juggle  = 0 * (var(16):= 0)                         
ctrl = 0                           
sprpriority = 2  
anim = 2003

[State 2003, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 2003, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 
  
[State 2003, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 0
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = -12,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0
 
[State 2003, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 0
name = "Ground Charge"
ID = 7110
stateno = 7110
pos = -45,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = 1.25
size.yscale = 1.25
ignorehitpause = 0

[State 2003, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 0
name = "Ground Charge"
ID = 7111
stateno = 7110
pos = 45,0
postype = p1    ;p2,front,back,left,right
facing = -1 
ownpal = 1 
size.xscale = 1.25
size.yscale = 1.25
ignorehitpause = 0 

[State 2003, TargetBind]
type = TargetBind
triggerall = movehit 
trigger1 = numtarget(2003)
time = 1
id = 1300
pos = 0,0
persistent = 0 
[State 2003, HitDef]
type = HitDef 
trigger1 = Animelem = 1  
attr = S,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF         ;HLAFD+-
guardflag = MA         ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 90,25
pausetime = 25,25
sparkno = s7503
guard.sparkno = s7550
sparkxy = -20,-5
getpower = 0,0
givepower = 0,0
hitsound = s1,9
guardsound = S2,0
ground.type = High      
ground.slidetime = 34
ground.hittime = 34
guard.ctrltime = 34
air.hittime = 35
ground.velocity = -7,-2
air.velocity = -7,-2
airguard.velocity = -4.2,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1 
yaccel = .47 
kill = 1
id = 2003
hitonce = 0
persistent = 1
envshake.time = 10
envshake.ampl = 12 
;p2stateno = 1311

[State 2003, 2]
type = PlaySnd 
trigger1 = Animelemtime(1) = 0
value = s3, 1

[State 2003, 2]
type = PlaySnd
trigger1 = Animelemtime(1) = 0
value = s305, 4
channel = 10

[State 2003, 3]
type = Changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1 
;**************************************************************
; [ INNOCENCE LOCOMOTIVE ]
;**************************************************************
[Statedef 2004]
type    = S                    
movetype= A                     
physics = S 
juggle  = 0 * (var(16):= 0)                         
ctrl = 0                           
sprpriority = 0  
anim = 2004
facep2 = 1

[State 2004, NotHitBy]
type = NotHitBy
trigger1 = Animelemtime(4) < 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2004, Helper]
type = Helper
trigger1 =  numhelper(9998) = 0 && numtarget(2004)
name = "DIAMOND IS NOT CRASH"
ID = 9998
stateno = 30000
pos = 0,0
postype = front    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999 
size.xscale = 1
size.yscale = 1
ignorehitpause = 1 
persistent = 0

[State 2004, VelAdd]
type = VelMul
trigger1 = Animelemtime(4) < 0 
x = .90
y = 0

[State 2004, PosSet]
type = PosSet
trigger1 = time = 0
y = 0  
 
[State 2004, HitDef]
type = HitDef 
trigger1 = Animelem = 4  
attr = S,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF         ;HLAFD+-
guardflag =          ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 165,60
pausetime = 18,18
sparkno = s7503
guard.sparkno = s7550
sparkxy = -20,-45
getpower = 0,0
givepower = 0,0
hitsound = s1,9
guardsound = S2,0
ground.type = Low      
ground.slidetime = 34
ground.hittime = 34
guard.ctrltime = 34
air.hittime = 35
ground.velocity = -7.2,-5
air.velocity = -7.2,-4 
airguard.velocity = -1.85,-4.8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1 
yaccel = .47 
kill = 1
id = 2004
hitonce = 0
persistent = 1
envshake.time = 10 
envshake.ampl = 8
p2stateno = 2030

[State 2004, 2]
type = PlaySnd 
trigger1 = Animelemtime(3) = 0
value = s0, 7

[State 2004, 2]
type = PlaySnd 
trigger1 = Animelemtime(3) = 0
value = s305,5
channel = 20

[State 2004, 2]
type = PlaySnd
trigger1 = movehit = 1 && numtarget(2004)
value = s1, 10
ignorehitpause = 1
persistent = 0

[State 2004, 3]
type = ChangeState
trigger1 = Animtime = 0 
value = 0
ctrl = 1
;**************************************************************
; [ INNOCENCE CANNON ]
;**************************************************************
[Statedef 2020]
type    = S                    
movetype= A                     
physics = S  
juggle  = 0 * (var(16):= 0)                          
ctrl = 0                           
sprpriority = 1  
anim = 2020

[State 2020, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2020, VarSet]
type = VarSet
trigger1 = 1 
fvar(6) = 1

[State 2020, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 2020, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1 

[State 2020, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 52
pos = -9999,-9999
movetime = 42
poweradd = -1000
unhittable = 1 
darken = 0

[State 2020, Helper]
type = Helper 
trigger1 =  time = 0
name = "SHOWTIME"
ID = 10000
stateno = 10000
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 0

[State 2020, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2020, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S206,3

[State 2020, 7]
type = ChangeState
trigger1 = Animtime = 0
value = 2021
;**************************************************************
; [ INNOCENCE CANNON CONTINUE ]
;**************************************************************
[Statedef 2021]
type    = S                       
movetype= A                     
physics = S                       
juggle  = 0                       
ctrl = 0                          
anim = 2021                       
sprpriority = 2 
poweradd = 0 
   
[State 2021, VelAdd]
type = VelSet 
trigger1 = time = 0 
x = 0
y = 0
 
[State 2021, PosSet]
type = PosSet
trigger1 = time = 0
y = 0  

[State 2021, NotHitBy]
type = NotHitBy
trigger1 = Animelemtime(1) < 4
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2021, Helper]
type = Helper 
trigger1 = Animelemtime(1) = 1 
name = "PROJECTILE"
ID = 2025
stateno = 2025
pos = 175,-80
postype = p1     ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .45 * const(size.xscale) 
size.yscale = .45 * const(size.yscale) 
ignorehitpause = 0
persistent = 0

[State 2021, 2]
type = PlaySnd 
trigger1 = Animelemtime(1) = 1 
value = s305, 2
ignorehitpause = 1
channel = 10

[State 2021, 3]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1 
;###########################################################################
; [ MORE FIRE ] ; Is it hot in here or is that just you, burning to a crisp? 
;###########################################################################
[Statedef 2025]
type    = A
movetype = I
physics = N 
anim = 2025
sprpriority = 4  
velset = 0,0

[State 2025, VelAdd]
type = VelAdd
trigger1 = time = 0
x = .65

[State 2025, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1 

[State 2025, Helper]
type = Helper 
trigger1 = time = 0 
name = "PROJECTILE"
ID = 2026
stateno = 2026
pos = 0,0
postype = p1     ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = 1 * root,const(size.xscale) 
size.yscale = 1 * root,const(size.yscale) 
ignorehitpause = 0
persistent = 0
 
[State 2025, Trans]
type = Trans
trigger1 = 1 
trans = add

[State 2025, AngleDraw]
type = AngleDraw
trigger1 = 1 
scale =  1,1 

[State 2025, AngleSet]
type = AngleSet
trigger1 = 1
value = 90
ignorehitpause =  1

[State 2025, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S206,4

[State 2025, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;=======================================================
; [ EVIL HELPER 3 ]
;=======================================================
[Statedef 2026]
type    = A
movetype = A
physics = N 
anim = 2026
sprpriority = 7 

[state 2026, Multiplier]
type = attackmulset
triggerall = numenemy
trigger1 = enemynear,movetype = H
value = root,fvar(20)
ignorehitpause = 1

[State 2026, VelSet]
type = Bindtoparent
trigger1 = time
pos = 0,0
[State 2026, HitDef]
type = Hitdef
trigger1 = 1
attr = A,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 190,55
pausetime = 0,8
sparkno = s7503
guard.sparkno = s8056
sparkxy = -15,25
getpower = 0,0
givepower = 0,0
hitsound = s1, 5
guardsound = S2,1
ground.type = High      
ground.slidetime = 0
ground.hittime = 21
guard.ctrltime = 21
air.hittime = 22
ground.velocity = -9.25,-4
air.velocity = -9.25,-4
airguard.velocity = -5.35,-3.10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1
yaccel = .47
kill = 1
id = 2021
persistent = 0
p2stateno = 2030
envshake.time = 8
envshake.freq = 12
envshake.ampl = 12
envshake.phase = 6

[State 2026, HitBy]
type = NotHitBy
trigger1 = 1 
value = SCA,NA,SA,HA,NT,ST,HT
time = 1
[State 2026, HitBy]
type = HitBy
trigger1 = 1 
value = SCA,NP,SP,HP
time = 1
[State 2026, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP
slot = 0
stateno = 2027
time = 1 
[State 2026, ChangeState]
type = Destroyself
trigger1 = Animtime = 0
ignorehitpause = 0 
;###########################################################################
; [ BURNING ] ; Have you had your daily intake of fire today?
;###########################################################################
[Statedef 2027]
type    = U
physics = N
anim = 9999  

[State 2027, DestroySelf]
type = DestroySelf
trigger1 = time
;=========================================================
; Custom State 1
;=========================================================
[Statedef 2030]
type    = A
movetype= H
physics = N
velset = 0,0

[State 2030, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 2030

[State 2030, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 2031
;=========================================================
; Custom State 2
;=========================================================
[Statedef 2031]
type    = A
movetype= H
physics = N

[State 2031, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = facing * gethitvar(xvel)
y =          gethitvar(yvel)

[State 2031, Gravity]
type = VelAdd
trigger1 = 1
x = -1

[State 2031, No scroll]
type = ScreenBound 
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 2031, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 2032

[State 2031, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos Y >= Const(movement.down.bounce.groundlevel))
value = 5100
;=========================================================
; Custom State 3
;=========================================================
[Statedef 2032]
type    = A
movetype= H
physics = N

[State 2032, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 2032, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 2032, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 2032, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 2032, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 697

[State 2032, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 2033
;=========================================================
; Custom State 4
;=========================================================
[Statedef 2033]
type    = A
movetype= H
physics = N

[State 2033, 1]
type = Hitby
trigger1 = 1
value = SCA ,NA,SA,HA

[State 2033, Vel Y]
type = VelSet
trigger1 = Time = 0
x = 3.45
y = -6.5

[State 2033, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 2033, Gravity]
type = VelAdd
trigger1 = 1
y = .52

[State 2033, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 2033, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 2033, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 2033, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 2033, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos Y >= Const(movement.down.bounce.groundlevel))
value = 5100 
;**************************************************************
; [ ANGRY EXPLOSION ]
;**************************************************************
[Statedef 2100]
type    = S                       
movetype= A                     
physics = N                       
juggle  = 0                       
ctrl = 0                          
anim = 2105                       
sprpriority = 2 
poweradd = -2000 

[State 2100, NotHitBy]
type = NotHitBy
trigger1 = Animelemtime(4) < 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2100, VarSet]
type = VarSet
trigger1 = 1 
fvar(6) = 1

[State 2100, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0
 
[State 2100, PosSet]
type = PosSet
trigger1 = time = 0
y = 0  

[State 2100, PlaySnd]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s0,7 
channel = 5

[State 2100, PlaySnd]
type = PlaySnd
trigger1 = Animelemtime(1) = 0
value = s206,0

[State 2100, HitDef]
type = Hitdef
trigger1 = Animelem = 3
attr = S,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA          ;HLA
animtype = Heavy          ;light,medium,hard,back,up,diagup
air.animtype = Heavy
priority = 4,Hit
damage = 50,6
pausetime = 4,4
sparkno = s7505
guard.sparkno = s7550
sparkxy = -45,-95
getpower = 0,0
givepower = 0,0
hitsound = S1,9
guardsound = S2,1
ground.type = Low      
ground.slidetime = 28
ground.hittime = 28
guard.hittime = 10
guard.ctrltime = 10
air.hittime = 29
ground.velocity = 0,-13
air.velocity = 0,-13
airguard.velocity = 5,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1
persistent = 0
yaccel = .47 
kill = 0
id = 2100
envshake.time = 8
envshake.freq = 14
envshake.ampl = 14
envshake.phase = 8
p2stateno = 2150
p1stateno = 2105
snap = 65, -95

[State 2100, 3]
type = ChangeState
triggerall = numtarget(2100)
trigger1 = target(2100),alive && movehit && animtime = 0
value = 2105  
ctrl = 0

[State 2100, 3]
type = ChangeState
trigger1 = numtarget(2100)
trigger1 = target,alive = 0 && animtime = 0
trigger2 = movehit = 0 && animtime = 0 
value = 0
ctrl = 1
;**************************************************************
; [ ANGRY EXPLOSION SUPERPAUSE]
;**************************************************************
[Statedef 2105]
type    = S                    
movetype= A                     
physics = N                       
juggle  = 0                       
ctrl = 0                           
sprpriority = 1  

[State 2105, EnvShake]
type = EnvShake 
trigger1 = Animelemtime(2) > 0 && Animelemtime(3) < 0
time = 8
ampl = -2 + (random%4) 
persistent = 5

[State 2105, Helper]
type = Helper 
triggerall = numhelper(10007) = 0 
trigger1 = Animelemtime(2) > 0 && Animelemtime(3) < 0
name = "POWER"
ID = 10007
stateno = 10007
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1 
pausemovetime = 99999999999999 
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 
persistent = 1

[State 2105, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 2105
value = 2106 
persistent = 0

[State 2105, AssertSpecial]
type = AssertSpecial
trigger1 = 1  
flag = noBG
flag2 = noFG 
flag3 = timerfreeze
ignorehitpause = 1

[State 2105, NotHitBy]
type = NotHitBy
trigger1 = 1 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT

[State 2105, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 2106 && Animtime =0 
value = 2100

[State 2105, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0
 
[State 2105, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1 

[State 2105, Helper]
type = Helper
trigger1 = Anim = 2100
trigger1 =  Animelemtime(1) = 0
name = "DRAGONTIME"
ID = 10050
stateno = 10050
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999 
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 0 

[State 2105, Helper]
type = Helper 
trigger1 = Animelemtime(4) = 75
name = "EXPLOSION"
ID = 8016
stateno = 8016
pos = 0,60
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 3
ignorehitpause = 0
persistent = 1

[State 2105, Helper]
type = Helper
triggerall = Animelemtime(4) < 70
trigger1 = Animelemtime(2) >= 50
name = "EXPLOSION I"
ID = 8017
stateno = 8016
pos = -45 + (random%90),60
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = 3
ignorehitpause = 0
persistent = 5

[State 2105, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 2105, PlaySnd]
type = PlaySnd
trigger1 = Anim = 2100
trigger1 = Animelemtime(2) = 0
value = S500,0 
channel = 5

[State 2105, Helper]
type = Helper
triggerall = Animelemtime(3) < 0
trigger1 = Animelemtime(2) = 50
name = "WEKAPIPO - LEFT SIDE ATAXIA"
ID = 20052
stateno = 20052
pos = 0,-55
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1  
size.yscale = 1
pausemovetime = 99999999999999 
ignorehitpause = 0
persistent = 1
 
[State 2105, Helper]
type = Helper
trigger1 = Animelemtime(4) = 45
name = "WEKAPIPO - LEFT SIDE ATAXIA"
ID = 20055
stateno = 20055
pos = 0,-55
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1  
size.yscale = 1
pausemovetime = 99999999999999 
ignorehitpause = 0
persistent = 1

[State 2105, Helper]
type = Helper
trigger1 =  numhelper(9998) = 0 && Animelemtime(4) = 1
name = "DIAMOND IS NOT CRASH"
ID = 9998
stateno = 30000
pos = 0,0
postype = front    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999 
size.xscale = 1
size.yscale = 1
ignorehitpause = 1 
persistent = 0

[State 2105, TargetLifeAdd]
type = TargetLifeAdd
triggerall = NumTarget(2100)
trigger1 = Animelemtime(4) = 75
ID = 2100
value = ceil(-225 * fvar(20)) 
persistent = 0
kill = 1

[State 2105, TargetState]
type = TargetState
triggerall = NumTarget(2100)
trigger1 = Animelemtime(4) = 75
value = 2155
ID = 2100

[State 2105, HitAdd]
type = HitAdd
trigger1 = Animelemtime(4) = 75
value = 1

[State 2105, 7]
type = ChangeState
triggerall = Anim = 2100
trigger1 = Animtime = 0
value = 0
ctrl = 1 
;=========================================================
; Custom State 1
;=========================================================
[Statedef 2150]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1
[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 2150

[State 0, VelSet]
type = VelSet
trigger1 = HitShakeOver = 1
x = facing * gethitvar(xvel)
y =          gethitvar(yvel)

[State 0, ScreenBound]
type = ScreenBound
trigger1 = alive
value = 0
movecamera = 0,0

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1 && alive 
value = 2151 
 
[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1 && alive = 0 
value = 697
;=========================================================
; Custom State 2
;=========================================================
[Statedef 2151]
type    = A
movetype= H
physics = N

[State 0, VelSet]
type = VelAdd
trigger1 = time > 35
y = .5 

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = time = 0
value = 2153

[State 0, SelfState]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos Y >= -10)
value = 2154

[State 1028, 1]
type = Hitby
trigger1 = 1
value = SCA ,NA,SA,HA,AP,SP,HP,NT,ST,HT  
;=========================================================
; Custom State 3
;=========================================================
[Statedef 2154]
type    = L
movetype= H
physics = N
sprpriority = 4 

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0 + (Prevstateno = 2155)
movecamera = 0 + (Prevstateno = 2155),0 

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = time = 0
value = 5085

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0 

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0 
y = 0

[State 1028, 1]
type = Hitby
trigger1 = 1
value = SCA ,NA,SA,HA,AP,SP,HP,NT,ST,HT

[State 1028, Hit ground]
type = SelfState
trigger1 = alive && ifelse((Prevstateno = 2155), time > 100,time > 425)
value = 5120

[State 1028, Hit ground]
type = SelfState
trigger1 = time && alive = 0
value = 5150
;=========================================================
; Custom State 4
;=========================================================
[Statedef 2155]
type    = A
movetype= H
physics = N
sprpriority = 2
   
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -9.5
y = -35.5

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .47

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 2154

[State 1028, 1]
type = Hitby
trigger1 = 1
value = SCA ,NA,SA,HA,AP,SP,HP,NT,ST,HT

[State 1028, 1]
type = NotHitby
trigger1 = 1
value = SCA ,AP,SP,HP

[State 0, SelfState]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos Y >= -10)
value = 2154 

;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Buu\Console/Build.cns}
;==============================================================================

;**************************************************************
; [ AirJump Start ]
;**************************************************************
[Statedef 75]
type    = A
physics = N
ctrl = 0
velset = 0,0
 
[State 101, Helper]
type = Helper 
trigger1 = (time = 0 ^^ time && (prevstateno = [110,111]) = 1)
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = 0,-10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1 
size.xscale = .3
size.yscale = .3
ignorehitpause = 0
persistent = 0

[State 75, 2]
type = ChangeAnim
trigger1 = time = 0
value = 41

[State 75, 3]
type = VarSet
trigger1 = time = 0
sysvar(1) = 0

[State 75, Limiter]
type = VarAdd
trigger1 = time = 0
var(2) = -1 - 3 * (prevstateno = [600,620])
ignorehitpause = 0 
persistent = 0
 
[State 75, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 75, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 75, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 75, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1
;**************************************************************
; [ Dash ]
;**************************************************************
[Statedef 100]
type    = S
physics = N
anim = 100
sprpriority = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = 1
value = 0 + Animelemtime(4)>5 

[State 100, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0  

[State 100, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 101, Helper]
type = Helper 
trigger1 = Animelemtime(4) > 0 
name = "GROUND CONST"
ID = 7111
stateno = 7111
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 0
persistent = 2

[State 100, 1]
type = VelSet
trigger1 = Animelem = 4
x = 7.82

[State 100, 1]
type = Veladd
trigger1 = Animelemtime(4)>0
x = .42

[State 100, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = S100,0 
channel = 0 

[State 100, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = S300,6 
channel = 10

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 107
;**************************************************************
; [ Power Dash ]
;**************************************************************
[Statedef 101]
type    = S
physics = N
anim = 101
sprpriority = 1
poweradd = -500

[State 101, Helper]
type = Helper 
trigger1 = prevstateno = 220 && numhelper(11112) = 0
name = "SHOW THE WORLD"
ID = 11112
stateno = 10002
pos = 0,-60
postype = p1    ;p2,front,back,left,right
facing = facing
ownpal = 1 
size.xscale = .2
size.yscale = .2
ignorehitpause = 0
persistent = 0

[State 101, PalFX]
type = PalFX
trigger1 = Prevstateno = 220
time = 5
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,3
invertall = 0
color = 256
persistent = 0

[State 101, CtrlSet]
type = CtrlSet
trigger1 = (Prevstateno = [120,153]) = 0
value = ifelse((Prevstateno =220),1,(0 + Animelemtime(5)>3)) 

[State 101, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0  

[State 101, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 101, Helper]
type = Helper 
trigger1 = Animelem = 3 
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0
 
[State 101, Helper]
type = Helper 
trigger1 = Animelemtime(5) > 0 
name = "GROUND CONST"
ID = 7111
stateno = 7111
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 0
persistent = 2

[State 101, 1]
type = VelSet
trigger1 = Animelem = 5
x = 8.82

[State 101, 1]
type = Veladd
trigger1 = Animelemtime(5)>0
x = .42

[State 101, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 5
value = S100,0
channel = 0 

[State 101, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 5
value = S300,6 
channel = 10

[State 101, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 101, 3] 
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 101, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 106
;**************************************************************
; [ Power Dash Back ]
;**************************************************************
[Statedef 102]
type    = S
physics = N
anim = 102
sprpriority = 1
poweradd = -500 * 2 * (Prevstateno = [150,153]) 

[State 102, Helper]
type = Helper 
trigger1 = (Prevstateno = [150,153]) && numhelper(11112) = 0
name = "SHOW THE WORLD"
ID = 11112
stateno = 10002
pos = 0,-60
postype = p1    ;p2,front,back,left,right
facing = facing
ownpal = 1 
size.xscale = .2
size.yscale = .2
ignorehitpause = 0
persistent = 0

[State 102, Pause]
type = Pause
trigger1 = time = 0 && (Prevstateno = [150,153]) 
time = 5
movetime = 5   

[State 102, PalFXWiz]
type = PalFX
triggerall = (Prevstateno = [150,153]) 
trigger1 = time = 0
time = 3
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,3
invertall = 0
color = 256

[State 102, NotHitBy]
type = NotHitBy
trigger1 = Animelemtime(4)<2 
value = ,AT,AP,AA 

[State 102, CtrlSet]
type = CtrlSet
trigger1 = 1
value = 0

[State 102, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0  

[State 102, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 102, Helper]
type = Helper 
trigger1 = Animelem = 3 
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0

[State 101, Helper]
type = Helper 
trigger1 = Animelemtime(4) > 0 
name = "GROUND CONST"
ID = 7111
stateno = 7111
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = -1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 0
persistent = 2

[State 102, 1]
type = VelSet
trigger1 = Animelem = 4
x = -2.22

[State 102, 1]
type = Veladd
trigger1 = Animelemtime(4)>0
x = -.42

[State 102, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = S100,0 
channel = 0 

[State 102, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = S300,6 
channel = 10

[State 102, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 102, 3] 
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 102, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 106
;**************************************************************
; [ Back Dash ]
;**************************************************************
[Statedef 105]
type    = S
physics = N
anim = 105
sprpriority = 1

[State 105, NotHitBy]
type = NotHitBy
trigger1 = Animelemtime(3)<0 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 105, CtrlSet]
type = CtrlSet
trigger1 = 1
value = 0

[State 105, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0  

[State 105, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 

[State 101, Helper]
type = Helper 
trigger1 = Animelemtime(4) > 0 
name = "GROUND CONST"
ID = 7111
stateno = 7111
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = -1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 0
persistent = 2

[State 105, 1]
type = VelSet
trigger1 = Animelem = 4
x = -1.42

[State 105, 1]
type = Veladd
trigger1 = Animelemtime(4)>0
x = -.42

[State 105, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = S100,0  
channel = 0 

[State 105, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = S300,6 
channel = 10

[State 105, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 105, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 105, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 107
;**************************************************************
; [ Back Dash Land ]
;**************************************************************
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106 

[State 106, CtrlSet]
type = CtrlSet
trigger1 = 1
value = 0 + Animelemtime(3)>0 

[State 106, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 106, 1]
type = VelSet
trigger1 = Animtime = 0
y = 0

[State 106, 1]
type = VelMul
trigger1 = 1
x = .93

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;**************************************************************
; [ Dash / Power Dash Land ]
;**************************************************************
[Statedef 107]
type    = S
physics = S
ctrl = 0
anim = 107 + (prevstateno = 101)
 
[State 107, 1]
type = VelSet
trigger1 = Animtime = 0
y = 0

[State 107, 1]
type = VelMul
trigger1 = 1
x = .93

[State 107, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 107, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;**************************************************************
; [ Air Dash ]
;**************************************************************
[Statedef 110]
type    = A
physics = N
anim = 110
sprpriority = 1

[State 110, Turn]
type = Turn
trigger1 = Animtime = 0 && p2dist x <= 0 
persistent = 0

[State 110, Helper]
type = Helper 
trigger1 = Animelemtime(3) = 1  
name = "Ground Charge"
ID = 7103
stateno = 7102
pos = -20,-40
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .3
size.yscale = .3
ignorehitpause = 0
persistent = 1

[State 110, Limiter]
type = VarAdd
trigger1 = time = 0
var(2) = -1 
ignorehitpause = 0 
persistent = 0

[State 110, Limiter]
type = VarSet
trigger1 = time = 0
var(4) = 0
ignorehitpause = 0 
persistent = 0

[State 110, CtrlSet]
type = CtrlSet
trigger1 = Animelem = 3
value = 1

[State 110, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0  

[State 110, 1]
type = VelAdd
trigger1 = Animelem = 3
x = 8.82

[State 110, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = S100,0  
channel = 0 

[State 110, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = S300,6 
channel = 10

[State 110, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noairguard

[State 110, VelMul]
type = VelMul
trigger1 = Animtime = 0 
x = .78

[State 110, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1
;**************************************************************
; [ Air Dash ]
;**************************************************************
[Statedef 111]
type    = A
physics = N
anim = 111
sprpriority = 1

[State 111, Turn]
type = Turn
trigger1 = Animtime = 0 && p2dist x <= 0 
persistent = 0

[State 111, Helper]
type = Helper 
trigger1 = Animelemtime(3) = 1 
name = "Ground Charge"
ID = 7103
stateno = 7102
pos = 20,-40
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .3
size.yscale = .3
ignorehitpause = 0
persistent = 1

[State 111, Limiter]
type = VarAdd
trigger1 = time = 0
var(2) = -1 
ignorehitpause = 0 
persistent = 0

[State 111, Limiter]
type = VarSet
trigger1 = time = 0
var(4) = 0
ignorehitpause = 0 
persistent = 0

[State 111, CtrlSet]
type = CtrlSet
trigger1 = Animelem = 3
value = 1

[State 111, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0  

[State 111, 1]
type = VelAdd
trigger1 = Animelem = 3
x = -4.82

[State 111, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = S100,0  
channel = 0 

[State 111, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = S300,6 
channel = 10

[State 111, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noairguard

[State 0, VelMul]
type = VelMul
trigger1 = Animtime = 0 
x = .78

[State 111, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1
;**************************************************************
; [ Power Charge ]
;**************************************************************
[Statedef 700]
type    = S
movetype = I
physics = S
anim = 700
sprpriority = 1
ctrl = 0
 
[State 700, PowerAdd]
type = PowerAdd
trigger1 = Animelemtime(4)>=0 
value = 4

[State 700, ChangeAnim]
type = ChangeAnim
trigger1 = Animtime = 0 && Anim = 700 
trigger1 = (command = "holdZ") = 0 && (command = "holdC") = 0
trigger2 = Power = Powermax
value = 701 
persistent = 0

[State 700, PalFX]
type = PalFX
trigger1 = Animelem = 4,1
time = 10
add = 0,0,0
mul = 256,256,256
sinadd = 10,10,10,4
invertall = 0
color = 256

[State 700, Helper]
type = Helper 
trigger1 = Anim = 700 && Animelem = 4,1 
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = -12,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0
 
[State 700, Helper]
type = Helper 
trigger1 = Anim = 700 && Animelem = 4,1 && numhelper(7110) = 0 
name = "Ground Charge"
ID = 7110
stateno = 7110
pos = -75,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = 1
size.yscale = 1
ignorehitpause = 0

[State 700, Helper]
type = Helper 
trigger1 = Anim = 700 && Animelem = 4,1 && numhelper(7111) = 0 
name = "Ground Charge"
ID = 7111
stateno = 7110
pos = 45,0
postype = p1    ;p2,front,back,left,right
facing = -1 
ownpal = 1 
size.xscale = 1
size.yscale = 1
ignorehitpause = 0

[State 700, Charge Sound]
type = PlaySnd
trigger1 = Anim = 700 && Animelem = 4
value = s305, 0
channel = 10

[State 700, Charge Sound]
type = PlaySnd
trigger1 = Anim = 701 && Power = Powermax
value = s305, 1
channel = 10
persistent = 0

[State 700, Charge Sound]
type = PlaySnd
trigger1 = Anim = 701 && Power = Powermax
value = s200, 0
persistent = 0 
channel = 0 

[State 700, Charge Sound]
type = PlaySnd
trigger1 = Anim = 700 && Animelem = 4
value = s100, 1 
channel = 0 

[State 700, PlaySnd]
type = PlaySnd
trigger1 = Anim = 700 && (Animelem = 5)  
value = S100,2
channel = 20 
persistent = 0
loop = 1

[State 700, ChangeState]
type = ChangeState
trigger1 = Animtime = 0 
trigger1 = Anim = 701  
value = 0
ctrl = 1
;**************************************************************
; [ THROW ]
;**************************************************************
[Statedef 750]
type    = S                       
movetype= A                     
physics = S                       
juggle  = 0                        
ctrl = 0                          
anim = 750                       
sprpriority = 1   

[State 740, VarSet]
type = VarSet
trigger1 = time = 0
v = 28   
value = ifelse(command = "holdback",-1,1) 

[State 740, 1]
type = HitDef
triggerall = numenemy
triggerall = (enemynear,stateno = [5000,5999]) = 0 || (enemynear,movetype = H) = 0
Trigger1 = Animelem = 2
attr = S, NT         
hitflag = M-       
priority = 1, Miss   
sparkno = -1          
p1sprpriority = 1     
p1facing = 1
p2facing = var(28)         
p1stateno = 751      
p2stateno = 760     
guard.dist = 0     
fall = 1            
ID = 750

[State 200, VelAdd]
type = VelSet 
trigger1 = time = 0 
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0  

[State 200, 2]
type = PlaySnd
trigger1 = Animelemtime(3) = 0
value = s300, 10
channel = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(3) = 0
movetype = I   

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;**************************************************************
; [ THROW 2 ]
;**************************************************************
[Statedef 751]
type    = S                       
movetype= A                     
physics = S                       
juggle  = 0                        
ctrl = 0                          
anim = 751                     
sprpriority = 1   

[State 1000, Helper]
type = Helper   
trigger1 = Animelemtime(2) = 4
name = "Light"
ID = 20062
stateno = 20062
pos = 65,45
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1 
ignorehitpause = 0
persistent = 1

[State 751, Turn]
type = Turn
trigger1 = var(28) = -1
persistent = 0

[State 751, EnvShake]
type = EnvShake
triggerall = numtarget(750)
trigger1 = Animelemtime(2) = 0 
time = 4 
ampl = 4

[State 751, EnvShake]
type = EnvShake
triggerall = numtarget(750)
trigger1 = Animelemtime(6) = 0 
time = 4 
ampl = 10

[State 751, TargetBind]
type = TargetBind
trigger1 = Animelem = 1  && numtarget(750) 
time = 1
id = 750
pos = 60,0
persistent = 1

[State 751, TargetBind]
type = TargetBind
triggerall = numtarget(750)
trigger1 = Animelem = 5
time = 1
id = 750
pos = 45,-105
persistent = 0

[State 751, TargetBind]
type = TargetBind
triggerall = numtarget(750)
trigger1 = Animelemtime(9) = 0
time = 1
id = 750
pos = 50,-80
persistent = 0

[State 751, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Animelemtime(6) = 0 
value = -15
ID = 750
kill = 0

[State 751, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Animelemtime(8) = 0 
value = -65
ID = 750
kill = 0

[State 751, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Animelemtime(9) = 1 
value = -65
ID = 750
kill = 1  

[State 751, Explod]
type = Explod
triggerall = NumTarget(750)
trigger1 = Animelemtime(6) = 0
anim = 7503
ID = 7503
pos = 5,-105
postype = p1  ;p2,front,back,left,right
facing = 1 
bindtime = 1 
removetime = 18
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
trans = add
persistent = 0

[State 751, Explod]
type = Explod
triggerall = NumTarget(750)
trigger1 = Animelemtime(8) = 0
anim = 7503
ID = 7503
pos = 5,-105
postype = p1  ;p2,front,back,left,right
facing = 1 
bindtime = 1 
removetime = 18
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
trans = add
persistent = 0

[State 751, VelAdd]
type = VelSet 
trigger1 = time = 0 
x = 0
y = 0

[State 751, PosSet]
type = PosSet
trigger1 = time = 0
y = 0  

[State 1000, Helper]
type = Helper   
trigger1 = Animelemtime(2) = 1
name = "CANNON"
ID = 8060
stateno = 8060
pos = 65,45
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .75
size.yscale = 1 
ignorehitpause = 0
persistent = 1

[State 751, 2]
type = PlaySnd
trigger1 = Animelemtime(2) = 0
value = s205, 2 

[State 751, 2]
type = PlaySnd
trigger1 = Animelemtime(6) = 0
trigger2 = Animelemtime(8) = 0
value = s1, 4
channel = 0 

[State 751, 2]
type = PlaySnd
trigger1 = Animelemtime(9) = 0
value = s305, 4
channel = 10

[State 751, Width]
type = Width
trigger1 = time = 0 
edge = 65,0

[State 751, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;=========================================================
; Custom Hit 1
;=========================================================
[Statedef 760]
type    = S
movetype= H
physics = N 
sprpriority = 2 

[State 0]
type = PalFX
trigger1 = Animelemtime(2) = 5
time = 55
add = 0,0,0
mul = 200,95,50
sinadd = 0,0,0,1 
color = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0  

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = time = 0
value = 760

[State 100, 4]
type = ChangeState
trigger1 = Animelemtime(9) = 1
value = 761
;=========================================================
; Custom Hit 2
;=========================================================
[Statedef 761]
type    = A
movetype= H
physics = N
facep2 = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, VelAdd]
type = VelSet
trigger1 = time = 0
x = -5.25 
y = 9.5

[State 0, VelMul]
type = VelAdd
trigger1 = time
y = .79

[State 1028, 1]
type = NotHitby
trigger1 = 1
value = SCA , AT

[State 1028, Hit ground]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos Y >= -15)
value = 762
;=========================================================
; Custom State 7
;=========================================================
[Statedef 762]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, 14] ;Friction
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim2
trigger1 = time = 0
value = 5110
persistent = 0

[State 1025, State]
type = SelfState
trigger1 = Alive = 0  
value = 5150

[State 1025, State]
type =SelfState
trigger1 = Alive && time > 45
value = 5120
;###########################################################################
; [ METTLE PROJECTILE ] ;  
;###########################################################################
[Statedef 8005]
type    = A
physics = N
anim = 1015 

[State 8005, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA 

[State 8005, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP

[State 8005, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP       ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT 
stateno = 8006 
ignorehitpause = 1
persistent = 1

[State 8005, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
pos = 30,-25

[State 8005, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
trigger2 = root,movetype = H
trigger3 = (root,stateno = 1000) = 0
;###########################################################################
; [ METTLE PROJECTILE DESTROY ] ;  
;###########################################################################
[Statedef 8006]
type    = U
physics = N
anim = 9999  

[State 8006, DestroySelf]
type = DestroySelf
trigger1 = time
;****************************************************************************************************************************  
[Statedef -2] 

;#ADD004BASIC PIEs#
;//==========================
;// add004 supplementary sctrls v1.103
;//==========================

;// partner jump-out ; ???????
[state 0]
	type=selfstate
	triggerall=!ishelper && numpartner && roundstate=2
	triggerall=(stateno!=[190190,190199]) && alive && sysfvar(0)>0 && playeridexist(floor(sysfvar(0)))
	triggerall=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(22)=4
	;;---// change ;(??)
	trigger1=sysfvar(4)<1 && movetype!=h && gethitvar(isbound)=0 && (pos y>=0) && (ctrl||(stateno<600&&time<2)) && (playerid(floor(sysfvar(0))),var(48)=11)
	;;---// as partner-asist ;(??)
	trigger2=sysfvar(4)>0 && (movetype!=h||(stateno=[120,149])) && (ctrl||stateno<600)
	;;---// player priority ;(??)
	trigger3=sysfvar(4)<1 && playerid(floor(sysfvar(0))),var(15)!=id
	value=190190
	ignorehitpause=1

;// edited life & power bar ; ?????
[state 0]
	type=helper
	triggerall=!ishelper && !numhelper(90900)
	trigger1=numpartner
	trigger1=id<(partner,id) && partner,numhelper(90900)=0
	trigger2=!numpartner
	id=90900
	stateno=90900
	helpertype=normal
	ownpal=1
	size.air.front=1602150 ;; <<-version
	size.height=0 ;; 1;; <<-powerbar off mode
	ignorehitpause=1
	supermovetime=88888
	pausemovetime=88888
	pos=0,88888

;// input players id ; ID??
[state 0]
	type=varset
	trigger1=!ishelper && numhelper(90900)
	trigger1=(helper(90900),var(0)=90900) && (sysfvar(0)!=helper(90900),id)
	sysfvar(0)=(helper(90900),id)
[state 0]
	type=varset
	trigger1=!ishelper && numpartner
	trigger1=!numhelper(90900) && (partner,numhelper(90900)) && (sysfvar(0)!=(partner,sysfvar(0)))
	sysfvar(0)=(partner,sysfvar(0))

;// bk/jd system ; ?????/????D
[state 0]
	type=hitoverride
	trigger1=(numprojid(195502)||numprojid(195503)) && !ishelper && roundstate=2 && alive && (ctrl || stateno=52)
	attr=sca,na,sa,ha,np,sp,hp
	stateno=195500
	time=1
	ignorehitpause=1

;//==========================
;;>>@Config.Face>>
;; face / portrait (?)
[state 0]
	type=explod
	trigger1=!ishelper && roundstate=2 && alive && !numexplod(490600) && selfanimexist(909002)
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),numexplod(490600)
	id=490600
	anim=909002
	space=screen
	postype=left
	facing=ifelse(teamside=1,1,-1)
	scale=0,0 ;; <- default
	ownpal=1
	bindtime=-1
	removetime=-1
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1

[state 0] ;; player is NOT in a custom state 
	type=modifyexplod
	trigger1=numexplod(490600) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	trigger1=movetype!=h || (stateno=[120,159]) || (stateno=[5000,5199]) || (stateno=[190190,190196])
	id=490600
	scale=playerid(floor(sysfvar(0))),fvar(32-(id=playerid(floor(sysfvar(0))),var(15))*10), playerid(floor(sysfvar(0))),fvar(33-(id=playerid(floor(sysfvar(0))),var(15))*10)
	ignorehitpause=1

[state 0]
	type=modifyexplod
	trigger1=numexplod(490600) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	id=490600
	space=screen
	postype=left
	pos=floor(const240p(playerid(floor(sysfvar(0))),fvar(30-(id=playerid(floor(sysfvar(0))),var(15))*10))), floor(const240p(playerid(floor(sysfvar(0))),fvar(31-(id=playerid(floor(sysfvar(0))),var(15))*10) -(roundstate!=2||(!alive&&stateno=5150))*88888))
;;(* if the player has been placed in a custom state, the result of "scale" is affected" by the different player's local coordinate space
	sprpriority=floor(playerid(floor(sysfvar(0))),fvar(36-(id=playerid(floor(sysfvar(0))),var(15))*10))
	trans=addalpha
	alpha=floor(playerid(floor(sysfvar(0))),fvar(34-(id=playerid(floor(sysfvar(0))),var(15))*10)), floor(playerid(floor(sysfvar(0))),fvar(35-(id=playerid(floor(sysfvar(0))),var(15))*10))
	ignorehitpause=1

;//==========================
;;>>@Config.Camera>>
;; change camera / ????
[state 0]
	type=screenbound
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	movecamera=0,0
	ignorehitpause=1
[state 0]
	type=playerpush
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	ignorehitpause=1
[state 0]
	type=screenbound
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && (playerid(floor(sysfvar(0))),var(7)&65536) ;; system_switch
	value= ((numpartner && sysfvar(4)<1) || !numpartner) ;; [def=0]
	movecamera=0,0 ;; [x,y]
	ignorehitpause=1

;//==========================
;; optional settings
;//==========================
;;--- guard crush ; ????????
[state 0]
	type=palfx
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && (gametime%5=0) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=40)
	time=2
	add=200,0,0
[state 0]
	type=changestate
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=50)
	value=190010
	ignorehitpause=1
;;--- dizzy
[state 0]
	type=changestate
	trigger1=stateno=5120 && (animtime=0) && !ishelper && numhelper(403000) ;;<-dizzy birds
	value=190116 ;;<- goto dizzy/stun state
;;--- fadeout when KOed ; KO????
[state 0]
	type=varset
	trigger1=stateno=5150 && time=1 && alive=0 && !ishelper && numpartner
	sysvar(1)=(roundstate<=2)
[state 0]
	type=assertspecial
	trigger1=stateno=5150 && alive=0 && !ishelper && numpartner && sysvar(1) && (((time=[80,150]) && time%10<5) || time>150)
	flag=invisible
	flag2=noshadow
[state 0]
	type=posset
	trigger1=stateno=5150 && time>=80 && alive=0 && !ishelper && numpartner && sysvar(1)
	y=(800-partner,pos y) *(((time=[80,150]) && time%10<5) || time>150)

;;--- pos reset debug (for mugen only) ---
[state 0]
	type=turn
	trigger1=roundstate=1 && time=1 && !ishelper && numpartner>1
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && id>playerid(floor(sysfvar(0))),sysvar(0)+1
	trigger1=facing=ifelse(teamside=1,-1,1) && cond(teamside=1, screenpos x>playerid(id-2),screenpos x, screenpos x<playerid(id-2),screenpos x)
	persistent=0
[state 0]
	type=posset
	trigger1=roundstate=1 && time=1 && !ishelper && numpartner>1
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && id>playerid(floor(sysfvar(0))),sysvar(0)+1
	trigger1=cond(teamside=1, screenpos x>playerid(id-2),screenpos x, screenpos x<playerid(id-2),screenpos x)
	x= playerid(id-1),pos x+const240p(20) *ifelse(teamside=1,-1,1)
	persistent=0
;//==========================
;//==========================


;****************************************************************************************************************************  
[State -2, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "<%d><%d><%d>"
params = var(2),var(3),var(4)
;=========================:[ HELPER SPAWN ]:=========================
[State -2, System Generator]
type = Helper
trigger1 = numhelper(600) = 0
name = "SOUNDMAN - IN A SILENT WAY"
ID = 600
stateno = 6000
pos = 0,0
postype = p2   ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = 1
size.yscale = 1
persistent = 0
;=========================:[ Juggle System ]:=========================
[State -2, JUGGLE SYSTEM]
type = VarSet
trigger1 = numtarget = 0
trigger2 = var(15) > 25
var(15) = 15

[State -2, JUGGLE SAFETY]
type = VarSet
trigger1 = var(15) < 1
var(15) = 0

[State -2, JUGGLE DEDUCTION]
type = VarAdd 
triggerall = numtarget && var(15) >= 1 
trigger1 = movehit = 1
trigger1 = target,statetype = A
var(15) = -var(16)

[State -2, MissFlag]
type = VarSet
trigger1 = 1
var(17) = ifelse(var(15) = 0 && p2statetype = A,0,1)
;=========================:[ NO METTLE TIMES 2]:=========================
[State -2, BANG]
type = VarSet
trigger1 = numtarget = 0
var(19) = 0
ignorehitpause = 1
persistent = 1  
 
[State -2, BANG]
type = VarSet
trigger1 = numtarget(1200)
var(19) = 1
ignorehitpause = 1
persistent = 1    
;=========================:[ TARGET FACING/BIND ]:=========================
[State -2, TargetBind]
type = TargetBind
triggerall = numtarget(220) = 0
triggerall = numtarget 
triggerall = numenemy
trigger1 = target,statetype = A && movehit && target,pos y >= 0 && target,time <= 1  
trigger1 = p2dist x >= 0
time = target,hitpausetime
pos = ceil(p2dist x),-5
ignorehitpause = 1

[State -2, TargetFacing]
type = TargetFacing
triggerall = numtarget
trigger1 = (movehit && target,time<=1 && target,facing !=-1 * facing)
value = -1 * facing  
ignorehitpause = 1
;=========================:[ HELPER HIT ]:=========================
[State -2, VarSet]
type = VarSet
trigger1 = numhelper(8052)
var(11) = (helper(8052),var(18))
ignorehitpause = 1
[State -2, VarSet]
type = VarSet
trigger1 = (numhelper(8052) = 0)
var(11) = 0
ignorehitpause = 1
;=========================:[ WALLHIT ]:=========================
[State -2, TARGETBOUND]
type = VarSet
trigger1 = numtarget = 0  
trigger2 = numtarget
trigger2 = target,statetype = L
var(6) = 1
ignorehitpause = 0 
persistent = 1 
;=========================:[ INFINITE ATTACK/SCRAMBLE ]:=========================
[State -2, BANG]
type = VarSet
trigger1 = numtarget(300) = 1
var(10) = 0
ignorehitpause = 0 
persistent = 1   

[State -2, BANG BANG RESET]
type = VarrangeSet
trigger1 = numtarget = 0
value = 1
first = 9
last = 10
ignorehitpause = 0 
persistent = 1  
  
[State -2, BANG]
type = VarSet
trigger1 = numtarget(351) = 1
var(9) = 0
ignorehitpause = 0 
persistent = 1  
;=========================:[ MOVEMENT ]:=========================
[State -2, Double Jump Controller]
type = VarSet 
trigger1 = statetype != A 
var(4) = 1
ignorehitpause = 0 
persistent = 0

[State -2, VarSet]
type = VarSet
trigger1 = 1
var(3) = ifelse(((stateno = [100,101]) && (Anim = 100 && Animelemtime(4)>0 || Anim = 101 && Animelemtime(5)>0)),1,0)

[State -2, Double Jump Controller]
type = VarSet
trigger1 = statetype !=A
trigger1 = ctrl && (stateno =[1000,2999]) = 0 || stateno = 52 && time 
var(2) = 2
ignorehitpause = 0 
persistent = 1 
;=========================:[ SUPER MESSAGE ]:=========================
[State -2, SuperMessage]
type = Null
trigger1 = (stateno != [2000,2999]) && var(30):=0 
trigger2 = (stateno = 2000 && var(30)	:=20062) ; [ Riot Javelin       ]
trigger3 = (stateno = 2020 && var(30)	:=20061) ; [ Riot Javelin       ] 
trigger4 = (stateno = 2100 && var(30)	:=20060) ; [ Spirit of a Saiyan ] 
 
[State -2, SUPER MESSAGE P1]
type = Explod
triggerall = teamside = 1
trigger1 = numexplod(var(30)) = 0  && (stateno = 2000 || stateno = 2020 || stateno = 2100) && time <=1
anim = var(30)
ID = var(30)
pos = 43,185
postype = left  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
ontop = 1
shadow = 0,0,0
ownpal = 1
persistent = 0
sprpriority = 5
scale = .5,.5
trans = none
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State -2, SUPER MESSAGE P2]
type = Explod
triggerall = teamside = 2
trigger1 = numexplod(var(30)) = 0  && (stateno = 2000 || stateno = 2020 || stateno = 2100) && time <=1
anim = var(30)
ID = var(30)
pos = -43,185
postype = right  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
ontop = 1
shadow = 0,0,0
ownpal = 1
persistent = 0
sprpriority = 5
scale = .5,.5
trans = none
supermovetime = 9999999999999
pausemovetime = 9999999999999
;=========================:[ NO X ]:=========================
[State -2, NO EDGE CROSSING]
type = Width
trigger1 = (movetype != h) 
edge = 8,0  
ignorehitpause = 1
;=========================:[ UR FUKKIN DED ]:=========================
[State -2, VarSet]
type = VarSet 
triggerall = numenemy
trigger1 = p2life > 0 && enemynear,alive = 1
var(29) = 0
persistent = 0
ignorehitpause = 1

[State -2, VarAdd]
type = VarAdd
triggerall = numenemy
trigger1 = p2life = 0 && enemynear,alive = 0 && var(29) > -3
var(29) = -1
ignorehitpause = 1

[Statedef -3]

[State -3, AfterImageTime]
type = AfterImageTime
trigger1 = stateno !=50 
trigger1 = stateno !=[1500,1502]
time = 1  
;=========================:[ SOUND STUFF ]:=========================
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52  
trigger2 = stateno = 1004
trigger3 = stateno = 1402
value = s10, 0

[State -3, Jumping Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 50 && (Prevstateno = 110 || Prevstateno = 111) = 0 
value = s10, 1

[State -3, BLOCKING]
type = PlaySnd
triggerall = numenemy
triggerall = Time = 1
trigger1 = (stateno = 150 || stateno = 152 || stateno = 154) && (random = [0,100]) 
value = s300, 16 + 2 * (random%2)

[State -3, StopSnd]
type = StopSnd
trigger1 = stateno !=700
trigger2 = anim    !=700
channel = 20
ignorehitpause = 1
;=========================:[ EFFECTS ]:=========================
[State 700, Helper]
type = Helper 
triggerall = Time = 1
trigger1 = stateno = 52  
trigger2 = stateno = 1004
trigger3 = stateno = 1402
name = "Ground Charge"
ID = 7110
stateno = 7110
pos = -45,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1 
size.xscale = .6
size.yscale = .6
ignorehitpause = 0

[State 700, Helper]
type = Helper 
triggerall = Time = 1
trigger1 = stateno = 52  
trigger2 = stateno = 1004
trigger3 = stateno = 1402
name = "Ground Charge"
ID = 7111
stateno = 7110
pos = 45,0
postype = p1    ;p2,front,back,left,right
facing = -1
ownpal = 1 
size.xscale = .6
size.yscale = .6
ignorehitpause = 0
;=========================:[ HELPER SPAWN ]:=========================
[State -3, :Get Hurt Snd]
type = PlaySnd
triggerall = statetype != A
triggerall = random = [0,500]
triggerall = alive && time = 1
trigger1 = (stateno = 5000 ||   stateno = 5010) 
value = S5000,0+(random%5) 
channel = 1
persistent = 0
ignorehitpause = 0
persistent = 0

[State -3, :Get Hurt Snd Air]
type = PlaySnd 
triggerall = random = [0,600]
triggerall = alive && time = 1
trigger1 = GetHitVar(type) = 3 
trigger1 = statetype = A
value = S5000,6+(random%2)
channel = 1
persistent = 0
ignorehitpause = 1
persistent = 0

[State -3, :Stop Snd]
type = StopSnd
triggerall = !time
trigger1 = !alive
trigger2 = movetype = h
channel = 10
persistent = 0
;=========================:[ DAMAGE ]:=========================
[State -3, HitAdd]
type = VarSet
trigger1 = numenemy
var(40) = ifelse(numtarget = 0,0,enemynear,gethitvar(hitcount))
ignorehitpause = 1

[State -3, No Target Holder]
type = VarSet
trigger1 = numtarget = 0
fvar(20) =  1  
ignorehitpause = 1

[State -3, Target Holder]
type = VarSet
trigger1 = numtarget
fvar(20) =  ifelse((stateno=[200,699]),.80,ifelse((stateno=[1100,1999]),.85,.95)) ** var(40) 
ignorehitpause = 1

[state -3, Multiplier]
type = attackmulset
trigger1 = 1
value = fvar(20) 
;=========================:[ YONGMING CORNERPUSH ]:=========================
[State -3, VarAdd]
type = VarSet
trigger1 = stateno !=2000
trigger2 = stateno !=2020
trigger3 = stateno !=2050
trigger4 = stateno !=2100 
fvar(6) = 0

[State -3, Corner Push]
type = Varset
triggerall = (stateno = 2000 || stateno = 2020 || stateno = 2100 || stateno = 365 || stateno = 370 || numtarget(8051) || (stateno = [1000,1010]) || stateno = 1200) = 0
triggerall = statetype !=A 
triggerall = numtarget  
triggerall = (target, BackEdgeBodyDist <= 0) || (target, FrontEdgeBodyDist <= 0) 
trigger1 = target, statetype != A
fvar(25) = ifelse(target, BackEdgeBodyDist < 1,target, vel x,-target, vel x)
ignorehitpause = 1

[State -3, Corner Push]
type = VarSet
triggerall = (stateno = 2000 || stateno = 2020 || stateno = 2100 || stateno = 365 || stateno = 370 || numtarget(8051) || (stateno = [1000,1010]) || stateno = 1200) = 0
triggerall = statetype = S || statetype = C 
triggerall = numtarget 
triggerall = (target, BackEdgeBodyDist <= 0) || (target, FrontEdgeBodyDist <= 0)
triggerall = target, gethitvar(hitshaketime) = 0
triggerall = target, GetHitVar(yvel) = 0 
trigger1 = target, Stateno = 5000
trigger2 = target, Stateno = 5010
trigger3 = target, Stateno = 150
trigger4 = target, Stateno = 152
fvar(25) = ifelse(facing = -1 && target, BackEdgeBodyDist <= 0,target, gethitvar(xvel),-target, gethitvar(xvel))
ignorehitpause = 1
persistent = 0

[State -3, Actual Push]
type = Posadd 
triggerall = numtarget  
triggerall = (stateno = 2000 || stateno = 2020 || stateno = 2100 || stateno = 365 || stateno = 370 || numtarget(8051) || (stateno = [1000,1010]) || stateno = 1200) = 0
triggerall = target,statetype !=A 
triggerall = (target, BackEdgeBodyDist <= 0) || (target, FrontEdgeBodyDist <= 0)
triggerall = statetype = S || statetype = C
triggerall = target,statetype =S || target,statetype =C 
trigger1 =  (target,Stateno !=[805,808]) 
trigger2 = target,hitshakeover
x = fvar(25)

;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Buu\Console/Helpers.cns}
;==============================================================================

;***********************************************************************
;
; This .cns is mostly for superficial stuff like effects
;
;***********************************************************************
;###########################################################################
; [ FALLEN ]
;###########################################################################
[Statedef 2200]
type    = U
physics = N
sprpriority = 3

[State 2200, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(2200)
value = 2200 
[State 2200, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(2201)
value = 2201 
[State 2200, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(2202)
value = 2202 
[State 2200, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(2203)
value = 2203  

[State 2200, AngleDraw]
type = AngleDraw
trigger1 = 1 
scale = .6 - .017 * (time),.6 - .017 * (time)
ignorehitpause = 0

[State 2200, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - 15 * (time-2),256

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 2200, DestroySelf]
type = DestroySelf
trigger1 = time > 60
;###########################################################################
; Like the fire needs the air
;###########################################################################
[Statedef 6000]
type    = A 
physics = N 
anim = 9999

[State 6000, Explod]
type = Explod
triggerall = facing = 1  
trigger1 = numexplod(30008) = 0 && (root,stateno = [2105,2113])
anim = 30003
ID = 30008
pos = -180,110
postype = front  ;p2,front,back,left,right
facing = 1
bindtime = -1 
removetime = 9999 
pausemovetime = 99999999
scale = .001875 * (gamewidth),.00342857   * (gameheight)
sprpriority = -999 
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1 

[State 6000, Explod]
type = Explod
triggerall = facing = -1 
trigger1 = numexplod(30008) = 0 && (root,stateno = [2105,2113])
anim = 30003
ID = 30008
pos = 180,110
postype = back  ;p2,front,back,left,right
facing = -1
bindtime = -1 
removetime = 9999 
pausemovetime = 99999999
scale = .001875 * (gamewidth),.00342857   * (gameheight)
sprpriority = -999 
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1 

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 2114
trigger2 = root,movetype = h
trigger3 = (root,stateno = [2105,2113]) = 0
id = 30008
ignorehitpause = 1
persistent = 1 

[State 6000, Helper]
type = Helper 
triggerall = (root,Winko)
trigger1 = (root,var(29) = -1)
name = ".SUPER KO FINISH."
ID = 9999
stateno = 9999
pos = 0,0
postype = front    ;p2,front,back,left,right
facing = facing
supermovetime = 999999
pausemovetime = 999999
size.xscale = 1
size.yscale = 1
persistent = 0
ignorehitpause = 1 

[State 6000, Helper]
type = Helper 
triggerall = numenemy
trigger1 = (enemynear,stateno = 698 || enemynear,stateno = 2007 || enemynear,stateno = 2032) 
trigger1 = enemynear,time <= 1 
name = "Ground Charge"
ID = 7103
stateno = 7102
pos = -10,-45
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 0 

[State 6000, Helper]
type = Helper 
triggerall = root,numtarget && numenemy 
trigger1 = (enemynear,statetype = L) = 0 && (enemynear,movetype = H) && (enemynear,stateno = [120,159]) = 0
trigger1 = root,numtarget(2051) 
name = "GRATEFUL DEAD"
ID = 7502
stateno = 7502
pos = 25 -(random%60) + ceil(p2dist x),-35 -(random%75) + ceil(p2dist y)
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1 
size.xscale = .099
size.yscale = .099
ignorehitpause = 0 
persistent = 1

[State 6000, Helper]
type = Helper 
triggerall = root,numtarget && numenemy
trigger1 = (enemynear,statetype = L) = 0 && (enemynear,movetype = H) && (enemynear,stateno = [120,159]) = 0
trigger1 = root,numtarget(1001)    
name = "GRATEFUL DEAD"
ID = 7502
stateno = 7502
pos = 35 -(random%60) + ceil(p2dist x),-35 -(random%75) + ceil(p2dist y)
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1   
size.xscale = .085
size.yscale = .085
ignorehitpause = 0 
persistent = 3

[State 6000, PosSet]
type = PosSet
trigger1 = numenemy
x = ceil(enemynear,pos x)
y = ceil(enemynear,pos y)
ignorehitpause = 1
persistent = 1

[State 6000, PlaySnd]
type = PlaySnd
triggerall = numenemy
trigger1 = (p2stateno = 698 || p2stateno = 2007 || p2stateno = 2032) && p2movetype = H
trigger1 = enemynear,time <= 1
value = S200,0 
 
[State 6000, PlaySnd]
type = PlaySnd
triggerall = numenemy
trigger1 = (enemynear,stateno = 393) && p2movetype = H
trigger1 = enemynear,pos y >=(enemynear,Const(movement.down.bounce.groundlevel)) && enemynear,vel y >=0 && p2statetype = A 
trigger2 = (p2stateno = 397 || p2stateno = 762 || p2stateno = 1422 || p2stateno = 2154) && p2movetype = H && enemynear,time = 1
value = S3,1
persistent = 2

[State 6000, EnvShake]
type = EnvShake
triggerall = numenemy
trigger1 = (enemynear,stateno = 393) && p2movetype = H
trigger1 = enemynear,pos y >=(enemynear,Const(movement.down.bounce.groundlevel)) && enemynear,vel y >=0 && p2statetype = A 
trigger2 = (p2stateno = 397 || p2stateno = 762 || p2stateno = 1422 || p2stateno = 2154) && p2movetype = H && enemynear,time = 1
time = 8 
ampl = 15
persistent = 2
;###########################################################################
; [ JUMP FX ]
;###########################################################################
[Statedef 7100]
type    = A
physics = N
anim = 7100
sprpriority = 0
ctrl = 0 

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 7100, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;###########################################################################
; [ DASH/JUMP FX ]
;###########################################################################
[Statedef 7102]
type    = A
physics = N
anim = 7102
sprpriority = -10 

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 7102, AngleSet]
type = AngleSet
trigger1 = Ishelper(7103) || Ishelper(7104)
value = 90 

[State 7102, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .01 + (time * .06),.01 + (time * .06)
ignorehitpause = 0 

[State 7102, ModifyExplod]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - (20 * time),256
persistent = 1 
ignorehitpause = 0 

[State 7102, DestroySelf]
type = DestroySelf
trigger1 = time > 25
;###########################################################################
; [ POWER ] ; I'm Wondering Free
;###########################################################################
[Statedef 7103]
type    = A
physics = N
anim = 8050
sprpriority = 0 

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 7103, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .09 - (time * .06),.09 - (time * .06)
ignorehitpause = 0 

[State 7103, ModifyExplod]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - (20 * time),256
persistent = 1 
ignorehitpause = 0 

[State 7103, DestroySelf]
type = DestroySelf
trigger1 = time > 25
;###########################################################################
; [ ?????????? ] ; Check sir
;###########################################################################
[Statedef 7104]
type    = A
physics = N
anim = 7104
sprpriority = -1

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 7104, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5 + (time * .01),.5 + (time * .01)
ignorehitpause = 0 

[State 7104, ModifyExplod]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 128,256
persistent = 1 
ignorehitpause = 1

[State 7104, DestroySelf]
type = DestroySelf
trigger1 = time > 4
;###########################################################################
; [ Seriously, what the hell is anim 7104? ] ; 
;###########################################################################
[Statedef 7105]
type    = A
physics = N
anim = 7104
sprpriority = 2

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 7105, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5 + (time * .01),.5 + (time * .01)
ignorehitpause = 0 

[State 7105, ModifyExplod]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 128,256
persistent = 1 
ignorehitpause = 1

[State 7105, DestroySelf]
type = DestroySelf
trigger1 = time > 4
;###########################################################################
; [ EXPLOSION ] ; Art is. . .
;###########################################################################
[Statedef 7502]
type    = A
physics = N
anim = 1006
sprpriority = 7

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 7007, SPECIAL]   
type = Afterimage
trigger1 = time = 1
length = 9
PalBright = 0,0,0
PalContrast =128,0,50
PalAdd = 0,0,0
PalMul = .5,.5,.5
timeGap = 1
frameGap = 2
trans = add
time = 999
palcolor = 0 

[State 7502, ModifyExplod]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
persistent = 1 
ignorehitpause = 1

[State 7502, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;###########################################################################
; [ DASH FX ] ; MOTW
;###########################################################################
[Statedef 7110]
type    = A
physics = N
anim = 705
sprpriority = 4

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 7110, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;###########################################################################
; [ CONST DUST ] ;  
;###########################################################################
[Statedef 7111]
type    = A
physics = N
anim = 706
sprpriority = 2

[State 2010, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause =  1

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 7111, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;###########################################################################
; [ CONFESS ] ;  
;###########################################################################
[Statedef 8000]
type    = U
physics = N
anim = 1005
sprpriority = 3 

[State 8000, BindToRoot]
type = BindToRoot
trigger1 = Ishelper(8000) && root,stateno = 1000
pos = 45,-75
ignorehitpause = 1
persistent = 1 

[State 8000, BindToRoot]
type = BindToRoot
trigger1 = Ishelper(8030) 
pos = 5,-120
ignorehitpause = 1
persistent = 1 

[State 8000, Trans]
type = Trans
trigger1 = 1
trans = add 

[State 8000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 8000, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;###########################################################################
; [ VELOCITY ]  
;###########################################################################
[Statedef 8001]
type    = U
physics = N
anim = 1006
sprpriority = 3
ctrl = 0
  
[State 8001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 8001, Trans]
type = Trans
trigger1 = 1
trans = add

[State 8001, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;###########################################################################
; [ MORE FIRE ] ; Is it hot in here or is that just you, burning to a crisp? 
;###########################################################################
[Statedef 8002]
type    = A
movetype = I
physics = N 
anim = 1011
sprpriority = 7  
velset = 0,0

[State 8002, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 8002, VelSet]
type = VelSet
trigger1 = time 
x = 1.3
ignorehitpause = 0

[State 8002, PosFreeze]
type = PosFreeze
triggerall = numhelper(8003)
trigger1 = helper(8003),hitpausetime
value = 1
ignorehitpause = 1
persistent = 1

[State 8002, Helper]
type = Helper 
trigger1 = time = 0 
name = "PROJECTILE"
ID = ifelse(Ishelper(8020),8033,8003) 
stateno = 8003
pos = 0,0
postype = p1     ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = 1 * root,const(size.xscale) 
size.yscale = 1 * root,const(size.yscale) 
ignorehitpause = 0
persistent = 0
 
[State 8002, Trans]
type = Trans
trigger1 = 1 
trans = add

[State 8002, AngleDraw]
type = AngleDraw
trigger1 = 1 
scale =  1,1

[State 8002, 2]
type = PlaySnd  
trigger1 = time = 5
value = s205, 7 

[State 8002, DestroySelf]
type = DestroySelf
trigger1 = (screenpos x !=[-415,415]) 
trigger2 = numhelper(8006) 
;=======================================================
; [ EVIL HELPER 3 ]
;=======================================================
[Statedef 8003]
type    = A
movetype = A
physics = N 
anim = 1012
sprpriority = 7

[State 8003, AssertSpecial]
type = AssertSpecial
trigger1 = Ishelper(8033)
flag = Unguardable
ignorehitpause = 1

[state 8003, Multiplier]
type = attackmulset
triggerall = numenemy
trigger1 = enemynear,movetype = H
value = root,fvar(20)
ignorehitpause = 1

[State 8003, VelSet]
type = Bindtoparent
triggerall = numhelper(8003) || numhelper(8033) 
trigger1 = time
pos = 0,0

[State 8003, HitDef]
type = Hitdef 
trigger1 = 1
attr = A,SP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = M         ;HLAFD+-
guardflag = M          ;HLA
animtype = heavy          ;light,medium,hard,back,up,diagup
air.animtype = heavy
priority = 4,Hit
damage = 40,10
pausetime = 0,6
sparkno = s9999
guard.sparkno = s7550
sparkxy = 20,-10
getpower = 6,0
givepower = 0,0
hitsound = S205,4
guardsound = S2,1
ground.type = High      
ground.slidetime = 44
ground.hittime = 44
guard.ctrltime = 44
air.hittime = 45
ground.velocity = -1.3,-13.75
air.velocity = -3.6,-3.35
airguard.velocity = -6.3,-2.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
fall.recovertime = 0
fall.damage = 0
air.fall = 1 
yaccel = .47 
kill = 1
id = 1001
envshake.time = 4 
envshake.ampl = 6
hitonce = 1
persistent = 0

[State 8003, Helper]
type = Helper 
trigger1 = movecontact
name = "WHAT HAPPENED?!"
ID = 8006
stateno = 8001
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .28
size.yscale = .28
ignorehitpause = 1
persistent = 0

[State 8003, HitBy]
type = NotHitBy
trigger1 = 1 
value = SCA,NA,SA,HA,NT,ST,HT
time = 1
[State 8003, HitBy]
type = HitBy
trigger1 = 1 
value = SCA,NP,SP,HP
time = 1
[State 8003, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP
slot = 0
stateno = 8003
time = 1 
[State 8003, ChangeState]
type = Destroyself
trigger1 = (screenpos x !=[-410,410]) || (numhelper(8003) || numhelper(8033)) = 0 
ignorehitpause = 0

[State 8003, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 8004
;###########################################################################
; [ BURNING ] ; Have you had your daily intake of fire today?
;###########################################################################
[Statedef 8004]
type    = U
physics = N
anim = 9999 

[State 6000, Helper]
type = Helper 
triggerall = numtarget && numenemy
trigger1 = (enemynear,statetype = L) = 0 && (enemynear,movetype = H) && (enemynear,stateno = [120,159]) = 0
trigger1 = numtarget(1001) && time < 45   
name = "GRATEFUL DEAD"
ID = 7502
stateno = 7502
pos = 25 -(random%60) + ceil(p2dist x),-35 -(random%75) + ceil(p2dist y)
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1   
size.xscale = .085
size.yscale = .085
ignorehitpause = 0 
persistent = 3

[State 8004, DestroySelf]
type = DestroySelf
trigger1 = (numtarget = 0 && root,numtarget = 0)
;###########################################################################
; [ LIGHTNING ] ; Have you had your daily intake of fire today?
;###########################################################################
[Statedef 8015]
type    = U
physics = N
anim = 8000  
sprpriority = 6  

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 8015]
type = Afterimage
trigger1 = time = 1
time = 18
length = 5
PalBright   =  25, 25, 0
PalContrast =  25, 25, 0 
PalMul      = .85,.85,.50
palcolor = 200
TimeGap  = 1
FrameGap = 3
Trans = Add 

[State 8015, ModifyExplod]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - (10 * time),256
persistent = 1 
ignorehitpause = 0  
 
[State 8015, DestroySelf]
type = DestroySelf
trigger1 = time > 25
;###########################################################################
; [ VELOCITY ]  
;###########################################################################
[Statedef 8016]
type    = U
physics = N
anim = 30216
sprpriority = 5 
ctrl = 0 

[State 0, SprPriority]
type = SprPriority
triggerall = ishelper(8017)
trigger1 = random < 501  
value = 0

[State 0, SprPriority]
type = SprPriority
triggerall = ishelper(8017)
trigger1 = random > 500  
value = 6

[State 8015, ModifyExplod]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - 25 * (time),256
persistent = 1 
ignorehitpause = 0 

[State 7104, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1 - (time * .09),2
ignorehitpause = 0 

[State 8001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 8001, Trans]
type = Trans
trigger1 = 1
trans = add

[State 8001, DestroySelf]
type = DestroySelf
trigger1 = time > 10
;###########################################################################
; [ CONFESS ] ;  
;###########################################################################
[Statedef 8060]
type    = U
physics = N
anim = 2060
sprpriority = 3 

[State 0, Trans]
type = Trans
trigger1 = 1 
trans = add

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 8001, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;***********************************************************************
; [ .SUPER END. ] 
;***********************************************************************
[Statedef 9999]
type    = A    
physics = N           
sprpriority = -1
anim = 9999

[State 9999, Null]
type = Null
trigger1 = (root,stateno = [2000,2019]) && var(1) 		:= 10045 ; Innocence Wind
trigger2 = (root,stateno = [2020,2021]) && var(1)		:= 10046 ; Ready Set Go!!!!!!!
trigger3 = (root,stateno = [2100,2199]) && var(1) 		:= 10047 ; GO AWAY
trigger4 = (root,stateno = [1000,1999]) && var(1) 		:= 0
trigger5 = (root,stateno = [0,    999]) && var(1) 		:= -1

[State 9999, Helper]
type = Helper
trigger1 =  numhelper(9996) = 0 && (var(1) = [10045,10047])   
name = "DIAMOND IS NOT CRASH"
ID = 9996
stateno = 30001
pos = 0,0
postype = front    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1 
persistent = 0

[State 9999, Explod]
type = Explod
triggerall = (var(1) = [10045,10047]) && numexplod(10001) = 0 
trigger1 = facing = 1 && time = 0
ID = 10001
pos = -170,110
anim = var(1)
postype = front  ;p2,front,back,left,right
facing = facing 
removetime = 25
pausemovetime = 99999
supermovetime = 99999
sprpriority = 999999
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 9999, Explod]
type = Explod
triggerall = (var(1) = [10045,10047]) && numexplod(10001) = 0 
trigger1 = facing = -1 && time = 0
ID = 10001
pos = 170,110
anim = var(1)
postype = back  ;p2,front,back,left,right
facing = facing 
removetime = 25
pausemovetime = 99999
supermovetime = 99999
sprpriority = 9999999999
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 9999, Trans]
type = modifyexplod
trigger1 = numexplod(10001) 
trans = addalpha
alpha = 256 - 50 * (time-20),256
scale = 1,1
ID = 10001

[State 9999, AllPalFX]
type = BgPalFX
triggerall = (var(1) = [10045,10047]) 
trigger1 = time < floor(257/5)
time = 1
add = 0,0,0
mul = 0 + 5 * (time),0 + 5 * (time),0 + 5 * (time)
invertall = 0
color = 0 + 5 *( time )
ignorehitpause = 1 

[State 9999, PlaySnd]
type = PlaySnd
triggerall = root,stateno = [1000,2999]
trigger1 = time = 0
value = S9000,9000  

[State 9999, PlaySnd]
type = PlaySnd
triggerall = root,stateno = [1000,2999]
trigger1 = time = 0
value = S9000,9999 - ((root,life = lifemax))

[State 9999, Pause]
type = Pause
trigger1 = time = 0 && root,stateno = [1000,2999]
time = 51
movetime = 51

[State 9999, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow  

[State 9999, DestroySelf]
type = DestroySelf
trigger1 = roundstate != [3,4]
;***********************************************************************
; [ LET'S START THE SHOW ]
;***********************************************************************
[Statedef 10000]
type    = U
physics = N
anim = 9999 
sprpriority = 3 

[State 10000, AssertSpecial]
type = AssertSpecial
trigger1 = 1 
flag = timerfreeze 

[State 10000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S206,1
 
[State 10000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S206,1

[State 10000, Helper]
type = Helper 
trigger1 = 1 
name = "IM HERE"
ID = 10001
stateno = 10001
pos = -60+(random%120),-80+(random%90)
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = .2 + ((random%10)/10)
size.yscale = .2 + ((random%10)/10)
ignorehitpause = 0
persistent = 2
 
[State 10000, Helper]
type = Helper 
trigger1 = numhelper(10002) = 0 
name = "SHOW THE WORLD"
ID = 10002
stateno = 10002
pos = 0,-60
postype = p1    ;p2,front,back,left,right
facing = facing
ownpal = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = .2
size.yscale = .2
ignorehitpause = 0
persistent = 0

[State 10000, Helper]
type = Helper 
trigger1 = numhelper(10003) = 0 
name = "POWER"
ID = 10003
stateno = 10003
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1 
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
ignorehitpause = 0
persistent = 0
 
[State 10000, Helper]
type = Helper 
trigger1 = numhelper(10004) = 0 
name = "POWER"
ID = 10004
stateno = 10003
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1 
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
ignorehitpause = 0
persistent = 0

[State 10000, AllPalFX]
type = bgpalfx
trigger1 = 1
time = 1 
invertall = 0
color = ifelse(time<=10,256 - 10 * (time),0)
ignorehitpause = 1

[State 10000, DestroySelf]
type = DestroySelf
trigger1 = time > 50
;***********************************************************************
; [ RAGE ]
;***********************************************************************
[Statedef 10001]
type    = U
physics = N
anim = 10001  
sprpriority = 2 - (random%3)

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1
 
[State 10001, AngleSet]
type = AngleSet
trigger1 = Ishelper(10001) || Ishelper(10003)
value = 105 
[State 10001, VelSet]
type = VelSet
trigger1 =  1
y = -(random%11) 
persistent = 0

[State 10001, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - 17 * (time),256

[State 10001, DestroySelf]
type = DestroySelf
trigger1 = time > 17
;***********************************************************************
; [ Z ]
;***********************************************************************
[Statedef 10002]
type    = U
physics = N
anim = 10002 + 23 * ishelper(11112)
sprpriority = 999

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 10002, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - 10 * (time-10),256

[State 10002, DestroySelf]
type = DestroySelf
trigger1 = time > 50
;***********************************************************************
; [ AFTERIMAGE ]
;***********************************************************************
[Statedef 10003]
type    = U
physics = N
sprpriority = 0

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 10003, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10003, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT 

[State 10003, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - 6 * (time),256

[State 10003, PalFXWiz]
type = PalFX
trigger1 = 1 
time = 1  
mul = 256,0,0 
color = 0

[State 10003, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = root,anim
elem = root,animelemno(0)
persistent = 0

[State 10003, BindToRoot]
type = BindToRoot
trigger1 = time = 0
time = 1    
pos = -1 + 2 * Ishelper(10004),0
ignorehitpause = 1
persistent = 1 

[State 10003, PosAdd]
type = PosAdd
trigger1 = time
x = -2 + 4 * Ishelper(10004)
 
[State 10003, DestroySelf]
type = DestroySelf
trigger1 = time > 50
;***********************************************************************
; [ AFTERIMAGE ]
;***********************************************************************
[Statedef 10005]
type    = U
physics = N
sprpriority = 0

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 10005, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10005, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT 

[State 10005, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - 6 * (time),256

[State 10005, PalFXWiz]
type = PalFX
trigger1 = 1 
time = 1  
mul = 256,0,0 
color = 0

[State 10005, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = root,anim
elem = root,animelemno(0)
persistent = 0

[State 10005, BindToRoot]
type = BindToRoot
trigger1 = time = 0
time = 1   
facing = root,facing
pos = -1 + 2 * Ishelper(10006),0
ignorehitpause = 1
persistent = 1

[State 10005, PosAdd]
type = PosAdd
trigger1 = time
x = -2 + 4 * Ishelper(10006)
 
[State 10005, DestroySelf]
type = DestroySelf
trigger1 = (root,stateno = 2100) = 0
;***********************************************************************
; [ AFTERIMAGE ]
;***********************************************************************
[Statedef 10006]
type    = U
physics = N
sprpriority = -1

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 10006, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10006, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT 

[State 10006, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - 24 * (time),256

[State 10006, AngleDraw]
type = AngleDraw
trigger1 = 1
scale =  root,const(size.xscale) + (time * .03),  root,const(size.yscale) + (time * .03)
ignorehitpause = 0

[State 10006, PalFX]
type = PalFX
trigger1 = 1
time = 1 
add = 256,256,256 
invertall = 0
color = 0 

[State 10006, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = root,anim
elem = root,animelemno(0)
persistent = 1 

[State 10006, DestroySelf]
type = DestroySelf
trigger1 = time > 16
;***********************************************************************
; [ AFTERIMAGE ]
;***********************************************************************
[Statedef 10007]
type    = U
physics = N
sprpriority = 2

[State 10007, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 10007, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10007, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT 

[State 10007, Offset]
type = Offset
trigger1 = 1
x = -4 + (random%8)
ignorehitpause = 0

[State 10007, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - 6 * (time),256

[State 10007, PalFXWiz]
type = PalFX
trigger1 = 1 
time = 1  
mul = 256,0,150 
color = 0

[State 10007, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = root,anim
elem = root,animelemno(0)
persistent = 1
 
[State 10007, DestroySelf]
type = DestroySelf
trigger1 =  time > 3
;***********************************************************************
; [ LET'S END THE SHOW ]
;***********************************************************************
[Statedef 10050]
type    = U
physics = N
anim = 9999 
sprpriority = 3 

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 10050, Helper]
type = Helper 
trigger1 = numhelper(10002) = 0 
name = "SHOW THE WORLD"
ID = 10002
stateno = 10002
pos = 0,-60
postype = p1    ;p2,front,back,left,right
facing = facing
ownpal = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = .2
size.yscale = .2
ignorehitpause = 0
persistent = 0

[State 10050, Helper]
type = Helper 
trigger1 = numhelper(10006) = 0 
name = "POWER"
ID = 10006
stateno = 10005
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1 
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
ignorehitpause = 0
persistent = 0
 
[State 10050, Helper]
type = Helper 
trigger1 = numhelper(10005) = 0 
name = "POWER"
ID = 10005
stateno = 10005
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1 
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
ignorehitpause = 0
persistent = 0

[State 10050, Helper]
type = Helper 
trigger1 = 1 
name = "IM HERE"
ID = 10003
stateno = 10001
pos = -60+(random%120),-80+(random%90)
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = .2 + ((random%10)/10)
size.yscale = .2 + ((random%10)/10)
ignorehitpause = 0
persistent = 1

[State 10050, AssertSpecial]
type = AssertSpecial
trigger1 = 1 
flag = timerfreeze
flag2 = nobg
flag3 = nofg

[State 10050, DestroySelf]
type = DestroySelf
trigger1 = time > 200
;###########################################################################
; [ BG FX ]
;###########################################################################
[Statedef 30000]
type    = U 
physics = N 
anim = 9999

[State 30000, Explod]
type = Explod
triggerall = facing = 1
triggerall = time = 0
trigger1 = ishelper(9998) 
trigger2 = ishelper(9999) 
anim = ifelse(ishelper(9999),30001,30000) 
ID = 30000 + ishelper(9999)
pos = -180,220
postype = front  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1 
removetime = 14
pausemovetime = 99999999
scale = .00142857 * (gamewidth),.001875   * (gameheight)
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
trans = add
persistent = 0 

[State 30000, Explod]
type = Explod
triggerall = facing = -1
triggerall = time = 0
trigger1 = ishelper(9998)  
trigger2 = ishelper(9999)
anim = ifelse(ishelper(9999),30001,30000) 
ID = 30000 + ishelper(9999)
pos = 180,220
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1 
removetime = 14
pausemovetime = 99999999
scale = .00142857 * (gamewidth),.001875   * (gameheight)
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
trans = add
persistent = 0

[State 30000, Explod]
type = Explod
triggerall = facing = 1
triggerall = time = 0
trigger1 = ishelper(9997)  
anim = 30000
ID = 30002
pos = -180,220
postype = front  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1 
removetime = 14
pausemovetime = 99999999
scale = .00142857 * (gamewidth),.001875   * (gameheight)
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
trans = sub
persistent = 0

[State 30000, Explod]
type = Explod
triggerall = facing = -1
triggerall = time = 0
trigger1 = ishelper(9997)  
anim = 30000
ID = 30002
pos = 180,220
postype = front  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1 
removetime = 14
pausemovetime = 99999999
scale = .00142857 * (gamewidth),.001875   * (gameheight)
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
trans = sub
persistent = 0

[State 30000, Trans]
type = modifyexplod
trigger1 = numexplod(30000)
trans = addalpha
alpha = 256 - 32 * (time-8),256
ignorehitpause = 1  
ID = 30000
[State 30000, Trans]
type = modifyexplod
trigger1 = numexplod(30001)
trans = addalpha
alpha = 256 - 32 * (time-8),256
ignorehitpause = 1  
ID = 30001
[State 30000, Trans]
type = modifyexplod
trigger1 = numexplod(30002)
trans = addalpha
alpha = 256 - 32 * (time-8),256
ignorehitpause = 1  
ID = 30002

[State 30000, ChangeState]
type = DestroySelf
trigger1 = time > 13
;***********************************************************************
[Statedef 30001]
type    = U 
physics = N 
anim = 9999

[State 30001, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 30001, Explod]
type = Explod
triggerall = facing = 1
trigger1 = time = 0
anim = 30001 
ID = 30001
pos = -180,220
postype = front  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1 
removetime = 35
supermovetime = 99999999
pausemovetime = 99999999
scale = .00142857 * (gamewidth),.001875   * (gameheight)
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
trans = add
persistent = 0 

[State 30001, Explod]
type = Explod
triggerall = facing = -1
trigger1 = time = 0
anim = 30001 
ID = 30001
pos = 180,220
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1 
removetime = 35
supermovetime = 99999999
pausemovetime = 99999999
scale = .00142857 * (gamewidth),.001875   * (gameheight)
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
trans = add
persistent = 0

[State 30001, Trans]
type = modifyexplod
trigger1 = 1
trans = addalpha
alpha = 256 - 7 * (time-8),256
ignorehitpause = 1  

[State 30001, ChangeState]
type = DestroySelf
trigger1 = time > 35
;***********************************************************************
[Statedef 30005]
type    = U 
physics = N 
anim = 9999

[State 30005, Explod]
type = Explod
triggerall = facing = 1 && ishelper(30006)
trigger1 = (root,stateno = [000,999]) && time = 0 
anim = 30002
ID = 30005
pos = -180,110
postype = front  ;p2,front,back,left,right
facing = 1
bindtime = -1 
removetime = 60
supermovetime = 99999999
pausemovetime = 99999999
scale = .00142857 * (gamewidth),.001875   * (gameheight)
sprpriority = -999 
shadow = 0,0,0
ownpal = 0
ontop = 0
removeongethit = 0
ignorehitpause = 1 

[State 30005, Explod]
type = Explod
triggerall = facing = -1 && ishelper(30006)
trigger1 = (root,stateno = [000,999]) && time = 0 
anim = 30002
ID = 30005
pos = 180,110
postype = back  ;p2,front,back,left,right
facing = -1
bindtime = -1 
removetime = 60
supermovetime = 99999999
pausemovetime = 99999999
scale = .00142857 * (gamewidth),.001875   * (gameheight)
sprpriority = -999 
shadow = 0,0,0
ownpal = 0
ontop = 0
removeongethit = 0
ignorehitpause = 1 

[State 30005, Explod]
type = Explod
triggerall = facing = 1 && (ishelper(30005) || ishelper(30007))
trigger1 = (root,stateno = [000,2999]) && time = 0 
anim = 30003
ID = 30005
pos = -180,110
postype = front  ;p2,front,back,left,right
facing = 1
bindtime = -1 
removetime = 60
supermovetime = 99999999
pausemovetime = 99999999
scale = .001875 * (gamewidth),.00342857   * (gameheight)
sprpriority = -999 
shadow = 0,0,0
ownpal = 0
ontop = 0
removeongethit = 0
ignorehitpause = 1 

[State 30005, Explod]
type = Explod
triggerall = facing = -1 && (ishelper(30005) || ishelper(30007))
trigger1 = (root,stateno = [000,2999]) && time = 0 
anim = 30003
ID = 30005
pos = 180,110
postype = back  ;p2,front,back,left,right
facing = -1
bindtime = -1 
removetime = 60
supermovetime = 99999999
pausemovetime = 99999999
scale = .001875 * (gamewidth),.00342857   * (gameheight)
sprpriority = -999 
shadow = 0,0,0
ownpal = 0
ontop = 0
removeongethit = 0
ignorehitpause = 1 

[State 30005, Trans]
type = ModifyExplod
trigger1 = numexplod(30005) && (root,stateno = [2100,2999]) = 0
trans = addalpha
alpha = 256 - 20 * (time-45),256
ignorehitpause = 1  
ID = 30005

[State 30005, ChangeState]
type = DestroySelf
trigger1 = time > 60 && (ishelper(30005) || ishelper(30006)) 
;***********************************************************************
[Statedef 30006]
type    = U 
physics = N 
anim = 9999

[State 30006, ChangeState]
type = DestroySelf
trigger1 = root,movetype = H || (root,stateno = [2100,2114]) = 0
;###########################################################################
; [ POWER ] ;  
;###########################################################################
[Statedef 20052]
type    = U
physics = N
anim = 9999
sprpriority = 3 

[State 20052, Helper]
type = Helper 
trigger1 = numhelper(20053) = 0 
name = "WEKAPIPO - LEFT SIDE ATAXIA"
ID = 20053
stateno = 20053
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1  
size.yscale = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
ignorehitpause = 0
persistent = 1

[State 20052, DestroySelf]
type = DestroySelf
trigger1 = (root,stateno = 2105) = 0 || (root,stateno = 2105) = 1 && (root,animelemno(0) > 2)  
;###########################################################################
; [ UHHH POWER X2 DUST ] ;  
;###########################################################################
[Statedef 20053]
type    = U
physics = N
anim = 30215
sprpriority = 3  

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 2010, SPECIAL]   
type = Afterimage
trigger1 = time = 1
length = 9
PalBright = 0,0,0
PalContrast = 156,0,50
PalAdd = 0,0,0
PalMul = .5,.5,.5
timeGap = 1
frameGap = 2
trans = add
time = 999
palcolor = 0  

[State 20053, Trans]
type = Trans
trigger1 = 1
trans = add

[State 20053, AngleDraw]
type = AngleDraw
trigger1 = root,animelemno(0) = 2 
scale = .15 + .15 * (time),.15 + .15 * (time)
ignorehitpause = 0

[State 20053, AngleDraw]
type = AngleDraw
trigger1 = root,animelemno(0) = 4 
scale = .15 + .09 * (time),.15 + .09 * (time)
ignorehitpause = 0

[State 20053, DestroySelf]
type = DestroySelf
trigger1 = (root,animelemno(0) = 2 && time > 5) 
trigger2 = (root,stateno = 2105) = 0 || (root,stateno = 2105) = 1 && (root,animelemno(0) > 2)  
;###########################################################################
; [ WTF IS UP WITH ALL THESE FX ] ;  
;###########################################################################
[Statedef 20054]
type    = U
physics = N
anim = 9999
sprpriority = 3 

[State 20054, Helper]
type = Helper 
trigger1 = numhelper(20056) = 0 
name = "WEKAPIPO - LEFT SIDE ATAXIA"
ID = 20056
stateno = 20053
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1  
size.yscale = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
ignorehitpause = 0
persistent = 1

[State 20054, DestroySelf]
type = DestroySelf
trigger1 = (root,stateno = 2112 && (root,animelemtime(2)<=0)) = 0  
 
;###########################################################################
; [ UHHH POWER X2 DUST ] ;  
;###########################################################################
[Statedef 20055]
type    = U
physics = N
anim = 30215
sprpriority = 8  

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1  

[State 20053, Trans]
type = Trans
trigger1 = 1
trans = add 

[State 20053, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .15 + .09 * (time),.15 + .09 * (time)
ignorehitpause = 0 

[State 20053, DestroySelf]
type = DestroySelf
trigger1 = time > 56 
;=============================================================================================
; ( PHALANX )
[Statedef 20056]
type    = U
physics = N
anim = 9999
sprpriority = 7 

[State 20056, Helper]
type = Helper 
trigger1 = numhelper(20057) = 0
name = "WEKAPIPO - LEFT SIDE ATAXIA"
ID = 20057
stateno = 20057
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .4 * root,const(size.xscale)
size.yscale = .4 * root,const(size.yscale)
pausemovetime = 99999999999999
supermovetime = 99999999999999
ignorehitpause = 0
persistent = 1

[State 20056, DestroySelf]
type = DestroySelf
trigger1 = (parent,animelem = 3) = 0
;###########################################################################
; [ AFTERSHOCK ] ;  
;###########################################################################
[Statedef 20057]
type    = U
physics = N
anim = 30215 
sprpriority = -5

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 20057, SPECIAL]   
type = Afterimage
trigger1 = time = 1
length = 9
PalBright = 0,0,0
PalContrast =256,0,100
PalAdd = 0,0,0
PalMul = .5,.5,.5
timeGap = 1
frameGap = 2
trans = add
time = 999
palcolor = 0 

[State 20057, Trans]
type = Trans
trigger1 = 1
trans = add

[State 20057, AngleDraw]
type = AngleDraw
trigger1 = 1 
scale = .1 + .1 * (time),.1 + .1 * (time)
ignorehitpause = 0

[State 20057, DestroySelf]
type = DestroySelf
trigger1 = time > 4 
trigger2 = (parent,stateno = 20056) = 0
;###########################################################################
; [ FINAL SHINE FX ] ;  
;###########################################################################
[Statedef 20058]
type    = U
physics = N
anim = 9999
sprpriority = 7 

[State 20056, Helper]
type = Helper 
trigger1 = numhelper(20059) = 0 && parent,animelemtime(2) < 0
name = "WEKAPIPO - LEFT SIDE ATAXIA"
ID = 20059
stateno = 20059
pos = -7,15
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .4 * root,const(size.xscale)
size.yscale = .4 * root,const(size.yscale) 
ignorehitpause = 0
persistent = 1

[State 20056, DestroySelf]
type = DestroySelf
trigger1 = (parent,animelemno(0) = 1) = 0
;###########################################################################
; [ Something something Shine FX ]
;###########################################################################
[Statedef 20059]
type    = U
physics = N
anim = 202073 
sprpriority = 7

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 20057, SPECIAL]   
type = Afterimage
trigger1 = time = 1
length = 9
PalBright = 0,0,0
PalContrast =0,256,100
PalAdd = 0,0,0
PalMul = .5,.5,.5
timeGap = 1
frameGap = 2
trans = add
time = 999
palcolor = 0 

[State 20057, Trans]
type = Trans
trigger1 = 1
trans = add

[State 20057, AngleDraw]
type = AngleDraw
trigger1 = 1 
scale = .1 + .1 * (time),.1 + .1 * (time)
ignorehitpause = 0

[State 20057, DestroySelf]
type = DestroySelf
trigger1 = time > 4 
trigger2 = (parent,stateno = 20058) = 0
;###########################################################################
; [ CHARGING FX ]
;###########################################################################
[Statedef 20060]
type    = U
physics = N
anim = 9999
sprpriority = 3 

[State 20056, Helper]
type = Helper 
trigger1 = numhelper(20061) = 0 && parent,animelemtime(2) < 0
name = "WEKAPIPO - LEFT SIDE ATAXIA"
ID = 20061
stateno = 20061
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = .4 * root,const(size.xscale)
size.yscale = .4 * root,const(size.yscale)
ignorehitpause = 0
persistent = 1

[State 20056, DestroySelf]
type = DestroySelf
trigger1 = (parent,animelemno(0) = 2)
;###########################################################################
; [ ACTUAL CHARGE FX ]
;###########################################################################
[Statedef 20061]
type    = U
physics = N
anim = 202073 
sprpriority = 5

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1

[State 20061, SPECIAL]   
type = Afterimage
trigger1 = time = 1
length = 9
PalBright = 0,0,0
PalContrast =0,256,100
PalAdd = 0,0,0
PalMul = .5,.5,.5
timeGap = 1
frameGap = 2
trans = add
time = 999
palcolor = 0 

[State 20061, Trans]
type = Trans
trigger1 = 1
trans = add

[State 20061, AngleDraw]
type = AngleDraw
trigger1 = 1 
scale = .1 + .1 * (time),.1 + .1 * (time)
ignorehitpause = 0

[State 20061, DestroySelf]
type = DestroySelf
trigger1 = time > 4 
trigger2 = (parent,stateno = 20060) = 0
;###########################################################################
; [ ACTUAL CHARGE FX ]
;###########################################################################
[Statedef 20062]
type    = U
physics = N
anim = 9999 
sprpriority = 999

[State 0, PalFXWiz]
type = null
trigger1 = 1
time = 1
add = 256 - 44 * (time),256,256 - 44 * (time)
mul = 256,0,256
color = 256
persistent = 1

[State 0, PalFXWiz]
type = AllPalfx
trigger1 = 1
time = 1
add = 256,256,256
mul = 256,256,256
color = 256
persistent = 2

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1 

[State 20061, Trans]
type = Trans
trigger1 = 1
trans = add 

[State 20061, DestroySelf]
type = DestroySelf
trigger1 = time > 5  
;###########################################################################
; [ ACTUAL CHARGE FX ]
;###########################################################################
[Statedef 20063]
type    = U
physics = N
anim = 9999 
sprpriority = 5

[State 0, PalFXWiz]
type = AllPalFX
trigger1 = time < 4
time = 1
add = 256 - 64 *(time),256 - 64 *(time),256 - 64 *(time)
mul = 256 - 64 *(time),256 - 64 *(time),256 - 64 *(time)
sinadd = 0,0,0,1
color = 256
 
[State 0, PalFXWiz]
type = AllPalFX
trigger1 = time = 4
time = 1
add = 0,0,0
mul = 0,0,0
sinadd = 0,0,0,1
color = 256

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow 
ignorehitpause = 1 

[State 20061, Trans]
type = Trans
trigger1 = 1
trans = add 

[State 20061, DestroySelf]
type = DestroySelf
trigger1 = time > 4  
;###########################################################################
[Statedef 40000]
type    = A 
physics = N 
anim = 9999 

[State 40000, PosSet]
type = PosSet
trigger1 = numenemy
x = ceil(enemynear,pos x)
y = ceil(enemynear,pos y)
ignorehitpause = 1
persistent = 1

[State 40000, VarSet]
type = null
trigger1 = var(50):=numhelper(20200)

[State 40000, DestroySelf]
type = destroyself
trigger1 = var(50) = 1
;###########################################################################

;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Buu\Console/Common.cns}
;==============================================================================

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0 

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

[State 10, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

[State 11, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Wall Jump
[Statedef 39]
type    = A
physics = N
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0 

[State 40, 1]
type = Changestate
trigger1 = !animtime
value = 40
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1

[State 40, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA, NT,ST,HT
time = 3

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0 

[State 40, 1]
type = VarSet
trigger1 = Time = 0 
fvar(3) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd" 
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 1]
type = VarSet
trigger1 = !time  
fvar(3) = ifelse((command = "up+s"),1.6,1) 

[State 40, 1]
type = VarAdd
trigger1 = fvar(3)>1
var(2) = -1
persistent = 0

[State 40, 4]
type = VelSet
trigger1 = (Prevstateno = 300) = 0 && AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y) * fvar(3)

[State 40, 4]
type = VelSet
trigger1 = (Prevstateno = 300) = 1 && numtarget(300) = 1 && AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = target(300),vel y 

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; AirJump Start
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, AfterImage] ;Piece of garbage state controller.
type = AfterImage
triggerall = fvar(3)>1 
trigger1 = time = 1
time = 999
length = 8
palcolor = 256
palbright = 0,0,0
palcontrast = 115,115,115
palpostbright = 0,0,0 
timegap = 1
framegap = 2
trans = add1 ;"none","add1","sub"
ignorehitpause = 0
persistent = 0
 
[State 101, Helper]
type = Helper 
trigger1 = (Prevstateno = 75 || Prevstateno = 50 || (Prevstateno = [110,111]) || (Prevstateno = [1000,1999]) || (Prevstateno = [2000,2999])) = 0 && time = 1
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = 0,10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1  
size.xscale = .4
size.yscale = .3
ignorehitpause = 0
persistent = 0

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > Const720p(-8)
trigger1 = SelfAnimExist(anim + 3)
trigger1 = anim >= 41 && anim <= 43
persistent = 0
value = Anim + 3
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47
facep2 = 1

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 52, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Stand guard (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown"
value = 131

[State 130, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Crouch guard (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command != "holddown"
value = 130

[State 131, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air guard (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Guard (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Stand guard hit (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Stand guard hit (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Crouch guard hit (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Crouch guard hit (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air guard hit (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air guard hit (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Lose (time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Draw game (time over)
[Statedef 175]
type = S
ctrl = 0
velset = 0,0

[State 175, 1] ; If no anim, use go to lose state.
type = ChangeState
trigger1 = Time = 0
trigger1 = !SelfAnimExist(175)
value = 170

[State 175, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 175

[State 175, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Pre-intro
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(190)
value = 190

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = Time = 0
value = 191

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Intro (override this state to give character an intro)
[Statedef 191]
type = S
ctrl = 0

[State 191, 1]
type = ChangeState
trigger1 = Time = 0
value = 0

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Stand get-hit (shaking)
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001 ;Stand get-hit (knocked back)

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Stand get-hit (knocked back)
[Statedef 5001]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver
value = 0
ctrl = 1

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Crouch get-hit (shaking)
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5011 ;Crouch get-hit (knocked back)

[State 5010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Crouch get-hit (knocked back)
[Statedef 5011]
type    = C
movetype= H
physics = C

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5011, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5011, 6]
type = ChangeState
trigger1 = HitOver
value = 11
ctrl = 1

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air get-hit (shaking)
[Statedef 5020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air get-hit (knocked away)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = ChangeAnim
trigger1 = Anim != [5000, 5199]
trigger1 = SelfAnimExist(5030)
value = 5030

[State 5030, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 3]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5040 ;HITA_RECOV

[State 5030, 5]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5050 ;HITA_FALL

[State 5030, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;Air get-hit (transition)

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air get-hit (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= Const(movement.air.gethit.groundlevel)
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;Air get-hit (recovering in air, not falling)

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= Const(movement.air.gethit.groundlevel)
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5050 ;Air get-hit (falling)

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air get-hit (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050
ctrl = 0

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air get-hit (falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, Const720p(4), Const720p(-8))
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= Const(movement.air.gethit.groundrecover.ground.threshold)
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;Air get-hit (fall recovery on ground)

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > Const(movement.air.gethit.airrecover.threshold)
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;Air get-hit (fall recovery in air)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, Const(movement.air.gethit.groundlevel))
value = 5100 ;Downed get-hit (hit ground from fall)

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Tripped get-hit (shaking)
[Statedef 5070]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5070, 1]
type = ChangeAnim
trigger1 = 1
value = 5070

[State 5070, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5071

[State 5070, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Tripped get-hit (knocked away)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.air.gethit.trip.groundlevel)
type = ChangeState
value = 5110

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Downed get-hit (shaking)
[Statedef 5080]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = time = 0
sysvar(2) = ifelse (GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = time = 0
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = time = 0
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5080, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081 ;Downed get-hit (knocked back)

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 5030 ;Air get-hit (knocked away)

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Downed get-hit (knocked back)
[Statedef 5081]
type    = L
movetype= H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = Time = 0
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 5110 ;Downed get-hit (lying down)

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Downed get-hit (hit ground from fall)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 2004.04.14 behavior]
type = null;VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x < -1
x = -1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;Downed get-hit (lying down)

[State 101, Helper]
type = Helper 
trigger1 = time = 0 
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = s3, 0

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101 ;Downed get-hit (bounce off ground)

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Downed get-hit (bounce off ground)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = Const(movement.down.bounce.offset.y)

[State 5101, 5]
type = PosAdd
trigger1 = Time = 0
x = Const(movement.down.bounce.offset.x)

[State 5101, 6] ;Acceleration
type = VelAdd
trigger1 = 1
y = Const(movement.down.bounce.yaccel)

[State 5101, 7] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.down.bounce.groundlevel)
type = ChangeState
value = 5110

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Downed get-hit (lying down)
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = s3,0

[State 101, Helper]
type = Helper 
trigger1 = time = 0 
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5110, 15]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 16]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Downed get-hit (getting up)
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Downed get-hit (lying defeated)
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3
ctrl = 0

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air get-hit (fall recovery on ground; still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 1] ;Change anim if done with transition
type = ChangeAnim
trigger1 = Anim = 5035
trigger1 = AnimTime = 0
value = 5050

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.air.gethit.groundrecover.groundlevel)
value = 5201

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air get-hit (fall recovery on ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-20)

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = Const(velocity.air.gethit.groundrecover.x)
y = Const(velocity.air.gethit.groundrecover.y)

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 101, Helper]
type = Helper 
trigger1 = time = 0 
name = "Ground Charge"
ID = 7102
stateno = 7102
pos = 0,-floor(vel y)
postype = p1    ;p2,front,back,left,right
facing = 1 
ownpal = 1 
size.xscale = .4
size.yscale = .4
ignorehitpause = 0
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Air get-hit (fall recovery in air)
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128

[State 5210, 1]
type = PosFreeze
trigger1 = Time < 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-80)

[State 5210, 1.0 behavior 1]
type = VelMul
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.mul.x)
y = Const(velocity.air.gethit.airrecover.mul.y)

[State 5210, 1.0 behavior 2]
type = VelAdd
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.add.x)
y = Const(velocity.air.gethit.airrecover.add.y)

[State 5210, 2002.04.14 behavior 1]
type = null;VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 2002.04.14 behavior 2]
type = null;VelAdd
trigger1 = Time = 4
x = 0 
y = -4.5

[State 5210, 2002.04.14 behavior 3]
type = null;VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 2002.04.14 behavior 4]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 2002.04.14 behavior 5]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = Const(velocity.air.gethit.airrecover.up)

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = Const(velocity.air.gethit.airrecover.down)

[State 5210, 2] ;Go fwd
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = Const(velocity.air.gethit.airrecover.fwd)

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = Const(velocity.air.gethit.airrecover.back)

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd
trigger1 = Time >= 4
y = Const(movement.air.gethit.airrecover.yaccel)

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land
ctrl = 1

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Continue screen animation
[Statedef 5500]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 5500, 1] ;Use continue animation if available
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5500)
value = 5500
;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 0
last  = 19

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 21
last  = 43 

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 5900, 4] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 5] ;All other rounds
type = ChangeState
trigger1 = 1
value = 0

