; ADD004 BASIC PIEs ReBuilded CNS (21-10-2016)



;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\ginyu\ginyu.cns}
;==============================================================================

;================================================================================
;                      基本動作
;================================================================================
;VAR = 4	やられボイス
;VAR = 5	ロングジャンプ
;VAR = 9	AI(?)
;VAR = 15	勝利ポーズ
;VAR = 32	フィニッシュエフェクト
;channel = 1	ダッシュ
;channel = 2	気合溜めボイス
;channel = 3	気合溜め
;channel = 4	『いい加減にしてくたばっちまえ』
;channel = 5	『サイヤ人は戦闘種族だ！なめるなよー』
;channel = 6	かめはめ波


[Data]
life = 1000
attack = 100
defence = 100
power = 3000
fall.defence_up = 50
liedown.time = 60
juggle = 15
airjuggle = 15
sparkno = 0
guard.sparkno = 0
KO.echo = 0
volume = 100
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1          ;Vertical scaling factor.
ground.back = 25      ;Player width (back, ground)
ground.front = 28     ;Player width (front, ground)
air.back = 20         ;Player width (back, air)
air.front = 20        ;Player width (front, air)
height = 80	      ;Height of player (for opponent to jump over)
attack.dist = 160     ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0      ;Set to 1 to scale projectiles too
head.pos = -5, -95    ;Approximate position of head
mid.pos = -5, -50     ;Approximate position of midsection
shadowoffset = 0      ;Number of pixels to vertically offset the shadow
draw.offset = 0,0     ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd=1.9
walk.back=-1.9
run.fwd  = 7.3        ;Run forward (x, y)
run.back = -6.6,-3.5  ;Hop backward (x, y)
jump.neu = 0,-10.5    ;Neutral jumping velocity (x, y)
jump.back = -3.25     ;Jump back Speed (x, y)
jump.fwd = 3.25       ;Jump forward Speed (x, y)
runjump.back = -4,-10.2 ;Running jump speeds (opt)
runjump.fwd = 4,-12   ;.
airjump.neu = 0,-9.2  ;.
airjump.back = -3.55  ;Air jump speeds (opt)
airjump.fwd = 3.5     ;.

[Movement]
airjump.num = 1       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .56          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching


;-------------------------------------------------------------
;-------------------------------------------------------------

; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(56) = 1
flag = invisible


[State 7000, 4] ;turn
type = turn
triggerall = IsHelper(6000)
trigger1 = P2Dist X <= -1


[State 0, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 7000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6000 && Anim != 6005
value = 6000

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050

;----------------------------------------------------------
;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10

[State 7000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6010
value = 6010


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(56) = 1
flag = invisible


[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 7000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6011
value = 6011


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(56) = 1
flag = invisible

[State 7000, 4] ;turn
type = turn
triggerall = IsHelper(6000)
trigger1 = P2Dist X <= -1


[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6012
value = 6012

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(56) = 1
flag = invisible


[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = vel x > 0
trigger1 = Anim != 6020
value = 6020

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = vel x < 0
trigger1 = Anim != 6021
value = 6021



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(56) = 1
flag = invisible

[State 7000, 4] ;turn
type = turn
triggerall = IsHelper(6000)
trigger1 = P2Dist X <= -1

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = !IsHelper
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 3]
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = vel x > 0
trigger1 = Anim != 6020 && Anim != 6005
trigger2 = Anim = 6005 && AnimTime = 0
value = 6020

[State 20, 4]
type = ChangeAnim
triggerall = !IsHelper
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

[State 20, 4]
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = vel x < 0
trigger1 = Anim != 6021 && Anim != 6005
trigger2 = Anim = 6005 && AnimTime = 0
value = 6021


; ------------------ジャンプ開始
[Statedef 40]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6040
value = 6040


[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = Time = 0
var(5) = 0

[State 40, longjump];ロングジャンプ
type = VarSet
trigger1 = command = "longjump"
trigger2 = prevstateno = 101 && command = "holdfwd"
trigger3 = prevstateno = 280 && command = "holdup"
trigger4 = prevstateno = 525 && command = "holdup"
var(5) = 1

[State 40, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 6]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
; AirJump Start
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
triggerall = !ishelper
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 2]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = !SelfAnimExist(6044)
value = 6041

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

; --------------------上方ジャンプ
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = VelSet
trigger1 = Time = 0 && Var(5)
x = IfElse(vel x = 0,0,IfElse(vel x < 0,-5,6))
y = -12

[State 50, 3]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
value = ifelse((vel x)=0, 6041, ifelse((vel x)>0, 6042, 6043))

;[State 50, zanzou];残像
;type = AfterImage
;trigger1 = Time = 0 && Var(5) && Vel X != 0
;time = 10
;trans = add1
;timegap = 1
;framegap = 2
;length = 8
;palbright = 12,12,12
;palcontrast = 225,225,225
;palpostbright = 0,0,0
;paladd = 0,0,0
;palmul = 1,1,1

[State 50,line1];スピードライン１
type = Explod
triggerall = !IsHelper
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4053  
postype = p1
pos = 10, -60
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1

[State 50, line2];スピードライン２
type = Explod
triggerall = !IsHelper
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4052  
postype = p1
pos = -5, -40
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1

[State 50, line3];スピードライン３
type = Explod
triggerall = !IsHelper
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4051  
postype = p1
pos = -10, -60
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1

[State 50, line4];スピードライン４
type = Explod
triggerall = !IsHelper
triggerall = Var(5) && Vel X != 0
trigger1 = Time % 4 = 0 && Time > 22 && Time < 34
anim = 4050
postype = p1
pos = 5, -40
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1



; ------------------ジャンプ着地
[Statedef 52]
type    = S
physics = S
ctrl = 1
anim = 47
velset = 0,0
facep2 = 1

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6047
value = 6047

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; ----------------ハイジャンプ必殺技後 (降下)
[Statedef 950]
type    = A
physics = A
anim = 950

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6950
value = 6950

[state 950, 1]
type = VelAdd
trigger1 = Time = 0
y = -0.08


;--------------------------------------------
;-----------------ダッシュ-------------------
;--------------------------------------------
;---------------------開始
[Statedef 100]
type = S
movetype = I
physics = S
anim = 100
velset = 0
ctrl = 0

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6100
value = 6100



[State 100, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4010
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[State 100, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 101

;---------------------ダッシュ中
[Statedef 101]
type = S;A
movetype = I;A
physics = S;N
anim = 101
vel = 0,0
ctrl = 0

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6101
value = 6101



[State 1200, 1]
type = Width
trigger1 = 1
value = 27,15

[State 100, 1]
type = VelSet
trigger1 = 1
x = 9;const(velocity.run.fwd.x)

[State 100, 0]
type = PlaySnd
trigger1 = time = 1
value = 100,0
channel = 1

[state 100, dust2]
type = explod
triggerall = stateno = 101
trigger1 = time = 0
pos = -30,0
spacing = 1
anim = 4030
bindtime = -1
ownpal = 1
id = 100

[State 101, line1];スピードライン１
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30
anim = 4055  
postype = p1
pos = 17, -69
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 101, line2];スピードライン２
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4056  
postype = p1
pos = 10, -30
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 101, line3];スピードライン３
type = Explod
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4057  
postype = p1
pos = -15, -20
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 101, line4];スピードライン４
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4058
postype = p1
pos = 20, -53
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1

[State 101, 3]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 100, 5.1]
type = ChangeState
triggerall = var(9) = 0
trigger1 = time > 7
trigger1 = command != "holdfwd" || time = 25
value = 102

[State 100, 5.2]
type = ChangeState
trigger1 = var(9) = 1
trigger1 = time > 7
trigger1 = P2bodydist X <= 40
value = 102

;---------------------停止
[Statedef 102]
type = S
movetype = I
physics = S
anim = 102

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6102
value = 6102



[State 102, landdust1]
type = explod
trigger1 = StateNo = 102 && Time = 1
postype = p1
pos = -20,0
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5

[State 102, landdust]
type = explod
trigger1 = StateNo = 102 && Time = 1
postype = p1
pos = 23,0
facing = -1
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5

[State 102, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1; RUN_BACK2 (land)

;---------------------------------------------------------------------------
; RUN_BACK
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6105



[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
; RUN_BACK2 (land)
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 47

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6047

[State 106, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 3]
type = MakeDust
trigger1 = Time = 2
pos = -5,-2
spacing = 1

[State 106, 4]
type = ChangeState
trigger1 = Time = 7
value = 0
ctrl = 1

;---------------------------------------------------------------------------



;---------------------空中ダッシュ
[Statedef 110]
type = A
movetype = I
physics = A
anim = 110
velset = 0
ctrl = 0

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6110
value = 6110



[State 110, 1
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 115

[State 110, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 111

;---------------------空中ダッシュ中
[Statedef 111]
type = A
movetype = I
physics = N
anim = 101
ctrl = 1

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6110
value = 6101


[State 111, 1]
type = Width
trigger1 = 1
value = 27,15

[State 111, 1]
type = VelSet
trigger1 = 1
x = 9;const(velocity.run.fwd.x)

[State 111, 0]
type = PlaySnd
trigger1 = time = 1
value = 100,0
channel = 1

[State 111, line1];スピードライン１
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4055  
postype = p1
pos = 15, -69
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 111, line2];スピードライン２
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4056  
postype = p1
pos = 0, -30
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 111, line3];スピードライン３
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4057  
postype = p1
pos = -15, -27
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 111, line4];スピードライン４
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4058
postype = p1
pos = 15, -55
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1

[State 111, 5.1]
type = ChangeState
trigger1 = time > 7
trigger1 = command != "holdfwd" || time = 25
value = 950

[State 111, end]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 115

;---------------------------------着地

[Statedef 115]
type    = S
movetype= I
physics = S
ctrl = 0

[State 115, 1]
type = VelSet
trigger1 = Time = 0
x = 15
y = 0

[State 115, 3]
type = VelAdd
trigger1 = Time > 0
x = .15

[state 115, 2]
type = posset
trigger1 = time = 0
y = 0

[State 115, landdust1]
type = explod
trigger1 = Time = 0
postype = p1
pos = 10,0
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5

[State 115, Landing Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 52, 0

[State 115, e]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------空中バックダッシュ
[Statedef 112]
type = A
movetype = I
physics = N
anim = 112
ctrl = 0

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6112
value = 6112


[State 112, 1]
type = Width
trigger1 = 1
value = 27,15

[State 112, 1]
type = VelSet
trigger1 = 1
x = -8;const(velocity.run.fwd.x)

[State 112, 0]
type = PlaySnd
trigger1 = time = 1
value = 100,0
channel = 1

[State 112, line1];スピードライン１
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4055  
postype = p1
pos = 0, -60
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2
facing = -1

[State 112, line2];スピードライン２
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4056  
postype = p1
pos = -5, -50
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2
facing = -1

[State 112, line3];スピードライン３
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4057  
postype = p1
pos = -5, -35
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2
facing = -1

[State 112, line4];スピードライン４
type = Explod
triggerall = !IsHelper
trigger1 = Time % 4 = 0 && Time < 30  
anim = 4058
postype = p1
pos = 10, -80
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1
facing = -1

[State 112, 5.1]
type = ChangeState
triggerall = var(9) = 0
trigger1 = time > 7
trigger1 = command != "holdfwd" || time = 25
value = 113

[State 112, end]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 106

[Statedef 113]
type    = A
physics = A
anim = 113

[State 6000, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim != 6113
value = 6113


[state 113, 1]
type = VelAdd
trigger1 = Time = 0
y = -0.08


;------------------------------------------------------------------
;---------------------------------------------------------------------------
; タイムオーバー負け
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, snd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 170,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;　　　　　　　　　　 勝利ステート関連
;---------------------------------------------------------------------------

[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 15
range = 10,12

[State 180, 2]
type = VarSet
trigger1 = Matchover != 1
v = 15
value = 11

[State 180, 2]
type = VarSet
trigger1 = Matchover = 1
v = 15
value = 12

[State 180, 3];win1
type = ChangeState
trigger1 = Var(15) = 11
value = 181

[State 180, 4];win2
type = ChangeState
trigger1 = Var(15) = 12
value = 182

;------------------------------勝利ポーズ 1

[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, voice1];『もうお終いか？』
type = PlaySnd
triggerall = var(46) != 1
triggerall = Time = 30
triggerall = life >= 500
trigger1 = stateno = 181
value = 180,0
volume = 255


[State 181, voice2];『やはりその程度か』
type = PlaySnd
triggerall = var(46) != 1
triggerall = Time = 30
triggerall = life <= 499
trigger1 = stateno = 181
value = 180,1
volume = 255


[State 181, snd]
type = PlaySnd
triggerall = var(46) != 1
trigger1 = Time = 14
value = s0,1

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = !IsHelper
trigger1 = var(46) = 1
flag = invisible

[State 4000, 2]
type = lifeset
triggerall = !IsHelper
trigger1 = var(46) = 1
value = var(48)
;value = target, life

[State 4000, 2]
type = powerset
triggerall = !IsHelper
trigger1 = var(46) = 1
value = var(47)


[State 182, over?]
type = AssertSpecial
trigger1 = time < 280
flag = RoundNotOver

;------------------------------勝利ポーズ 2

[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0
sprpriority = 5

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, voice3];『がっかりさせやがって』
type = PlaySnd
triggerall = var(46) != 1
triggerall = Time = 40
triggerall = life >= 500
trigger1 = stateno = 182
value = 180,2
volume = 255

[State 182, voice4];『このオレ様をなめるからそうなるんだ』
type = PlaySnd
triggerall = var(46) != 1
triggerall = Time = 35
triggerall = life <= 499
trigger1 = stateno = 182
value = 180,3
volume = 255

[State 182, fly]
type = PlaySnd
triggerall = var(46) != 1
trigger1 = Time = 7
value = s105,0

[State 182, swing]
type = PlaySnd
triggerall = var(46) != 1
trigger1 = time = 22
value = s0,2

[State 182, jumpdust1]
type = explod
triggerall = var(46) != 1
trigger1 = time = 20
postype = p1
pos = -8,0
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
sprpriority = 2

[State 182, jumpdust2]
type = explod
triggerall = var(46) != 1
trigger1 = time = 20
postype = p1
pos = 0,0
facing = -1
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = !IsHelper
trigger1 = var(46) = 1
flag = invisible

[State 4000, 2]
type = lifeset
triggerall = !IsHelper
trigger1 = var(46) = 1
value = var(48)
;value = target, life

[State 4000, 2]
type = powerset
triggerall = !IsHelper
trigger1 = var(46) = 1
value = var(47)


[State 182, change];Kakarotto
type = ChangeState
trigger1 = time = 0
trigger1 = Var(14) = 9
value = 183

[State 182, time]
type = AssertSpecial
trigger1 = time < 300
flag = RoundNotOver

;------------------------------勝利ポーズ 3

[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0

;[State 183, swing]
;type = PlaySnd
;trigger1 = time = 43
;trigger2 = time = 114
;value = s0,2

[State 183, vsburter];『勝ったぞ！オレは遂にカカロットに勝ったんだ〜』
type = PlaySnd
triggerall = var(46) != 1
trigger1 = time = 0
value = 183,0
volume = 255

[State 183, time]
type = AssertSpecial
trigger1 = time < 260
flag = RoundNotOver
;------------------------------勝利ポーズ 2
;---------------------------------------------------------------------------
; イントロ
;---------------------------------------------------------------------------

[Statedef 190]
type = S

[State 190, 2]
type = ChangeState
trigger1 = Time = 0
value = 191

;----------------------------イントロ1

[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0
sprpriority = 2

[state 191, intro]
type = assertspecial
trigger1 = 1
flag = intro

[State 191, goku]
type = ChangeState
trigger1 = P2name = "Burter"
trigger2 = P4name = "Burter"
value = 192

[State 191, punch]
type = PlaySnd
trigger1 = animelem = 3
value = 0,0
volume = 255

[State 191, punch]
type = PlaySnd
trigger1 = animelem = 5
value = 0,1
volume = 255



[State 191, voice];『どうやら死にたいようだな』
type = PlaySnd
triggerall = time = 0;25
trigger1 = random <= 500
value = 191,0
volume = 255

[State 191, voice];『どうやら死にたいようだな』
type = PlaySnd
triggerall = time = 0;25
trigger1 = random > 500
value = 191,1
volume = 255


[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;;;;;---------------------------------------------
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 191, land]
type = PlaySnd
trigger1 = AnimElem = 20
value = 52,0

[State 191, landdust1]
type = explod
trigger1 = AnimElem = 20
postype = p1
pos = -10,2
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
sprpriority = 1

[State 191, landdust2]
type = explod
trigger1 = AnimElem = 20
postype = p1
pos = 10,2
facing = -1
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
sprpriority = 1

[State 192, voice];『勝負だ！カカロット』
type = PlaySnd
trigger1 = time = 20
value = 192,0
volume = 200

[state 192, 2]
type = assertspecial
trigger1 = 1
flag = intro

[State 192, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;--------------------------------------------------
;------------------------挑発----------------------
;--------------------------------------------------
[Statedef 195]
type = S
movetype = A
physics = S
anim = 195
ctrl = 0

[State 195, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195,0
volume = 255

;[State 195, 2]
;type = ChangeState
;trigger1 = command = "holdback"
;trigger2 = command = "holdfwd"
;value = 20

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------
;--------------------高速移動（緊急回避）--------------------------------
;------------------------------------------------------------------------
;--------高速移動（前方）
[Statedef 361]
type = S
physics = S
anim = 361
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 361, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 361, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 700,0

[State 361, hitby]
type = HitBy
trigger1 = 1
value =  , AT

[State 361, nohit]
type = NotHitBy
trigger1 = 1
value = , AA, AP

[State 361, poweradd]
type = Poweradd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 361, color]
type = EnvColor
trigger1 = animelem = 1
trigger1 = prevstateno = 150 || prevstateno = 151
value = 200,200,200
time = 3

[State 361, vel]
type = velset
trigger1 = Time = [10,25]
x = 5

[state 361, 1]
type = explod
trigger1 = animelem = 1
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = 0,0
anim = 362
sprpriority = 3

[state 361, 1]
type = explod
trigger1 = time = 20
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = 40,5
anim = 362
sprpriority = 3

[State 361, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4010
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .7, .7

[State 361, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------高速移動（後方）
[Statedef 360]
type = S
physics = S
anim = 360
poweradd = 0
sprpriority = -1
velset = 0,0
ctrl = 0

[State 360, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 360, hitby]
type = HitBy
trigger1 = 1
value =  , AT

[State 360, nohit]
type = NotHitBy
trigger1 = 1
value = , AA, AP

[State 360, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 700,0

[State 360, poweradd]
type = Poweradd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 360, color]
type = EnvColor
trigger1 = animelem = 1
trigger1 = prevstateno = 150 || prevstateno = 151
value = 200,200,200
time = 3

[State 360, velset]
type = velset
trigger1 = Time = [10,25]
x = -5

[state 360, 1]
type = explod
trigger1 = animelem = 1
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = 0,5
anim = 362
sprpriority = 3

[state 360, 1]
type = explod
trigger1 = time = 20
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = -40,0
anim = 362
sprpriority = 3

[State 360, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4010
postype = p1
pos = 30,0
bindtime = 1
sprpriority = 2
ownpal = 1
facing = -1
scale = .7, .7

[State 360, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------------------------------------------------------
;----------------------------------気力溜め------------------------------
;------------------------------------------------------------------------
;パワー溜め
[Statedef 1900]
type = S
physics = S
ctrl = 0
anim = 1900
velset = 0,0
sprpriority = 2

[State 1900, 1];気の音1
type = PlaySnd
trigger1 = time = 0
value = 4000, 1
volume = 255

[State 1900, 2];気の音2
type = PlaySnd
trigger1 = time = 10
value = 4000, 2
channel = 3
loop = 1
pan = 1
volume = 25

[State 1900, 3];『はぁ〜』
type = PlaySnd
trigger1 = time = 0
value = 4000, 0
channel = 2
volume = 200

[State 1900, 4]
type = poweradd
trigger1 = Time >= 0
value = 3

[State 1900, 5]
type = poweradd
trigger1 = Time >= 25
value = 4

[State 1900, 6]
type = poweradd
trigger1 = Time >= 75
value = 5

[State 1900, 7]
type = poweradd
trigger1 = Time >= 120
value = 6

[State 1900, charge]
type = Helper
trigger1 = Time = 0
id = 1902
name = "Charge"
pos = 2,4
postype = P1
stateno = 1902
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = 1
size.yscale = 1


[State 1900, dust]
type = explod
removetime = -1
trigger1 = time = 0
trigger1 = stateno = 1900
anim = 4040
pos = 22,4
sprpriority = 2
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 4040
facing = -1

[state 1900, shake]
type = envshake
trigger1 = time%5 = 0
time = 5
freq = 60
ampl = -2

[State 1900, flash]
type = PalFX
triggerall = Time >= 5
trigger1 = TimeMod = 4,0
trigger1 = Time > 0
time = 1
add = 100,100,100

[State 1900, 9];MAX気の音
type = PlaySnd
trigger1 = power >= 3000
value = 4000,1
pan = 1

[State 1900, 10]
type = ChangeState
trigger1 = power >= 3000
trigger2 = command != "hold_b" || command != "hold_y"
trigger2 = command != "hold_c"
value = 1901
ctrl = 1

;--------------------------気溜めやめる

[Statedef 1901]
type = S
physics = N
ctrl = 0
anim = 1901
sprpriority = 2

[State 1901, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 3

[State 1901, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 2

[State 1901, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------へるぱー1
[Statedef 1902]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1950
velset = 0,0
sprpriority = 1

[State 1902, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1902, BindToParent]
type = BindToParent
trigger1 = anim = 1950
pos = 2,4

[State 1902, Anim]
type = ChangeAnim
triggerall = anim = 1950
trigger1 = root,anim = 1901
trigger2 = root,movetype = H
value = 1951

[State 1902, DestroySelf]
type = DestroySelf
trigger1 = anim = 1950 && Root,StateNo != 1900
trigger2 = anim = 1951 && animtime = 0
trigger3 = Root,stateno = [5000,5090]

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]

;#ADD004BASIC PIEs#
;//==========================
;// add004 supplementary sctrls v1.103
;//==========================

;// partner jump-out ; ???????
[state 0]
	type=selfstate
	triggerall=!ishelper && numpartner && roundstate=2
	triggerall=(stateno!=[190190,190199]) && alive && sysfvar(0)>0 && playeridexist(floor(sysfvar(0)))
	triggerall=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(22)=4
	;;---// change ;(??)
	trigger1=sysfvar(4)<1 && movetype!=h && gethitvar(isbound)=0 && (pos y>=0) && (ctrl||(stateno<600&&time<2)) && (playerid(floor(sysfvar(0))),var(48)=11)
	;;---// as partner-asist ;(??)
	trigger2=sysfvar(4)>0 && (movetype!=h||(stateno=[120,149])) && (ctrl||stateno<600)
	;;---// player priority ;(??)
	trigger3=sysfvar(4)<1 && playerid(floor(sysfvar(0))),var(15)!=id
	value=190190
	ignorehitpause=1

;// edited life & power bar ; ?????
[state 0]
	type=helper
	triggerall=!ishelper && !numhelper(90900)
	trigger1=numpartner
	trigger1=id<(partner,id) && partner,numhelper(90900)=0
	trigger2=!numpartner
	id=90900
	stateno=90900
	helpertype=normal
	ownpal=1
	size.air.front=1602150 ;; <<-version
	size.height=0 ;; 1;; <<-powerbar off mode
	ignorehitpause=1
	supermovetime=88888
	pausemovetime=88888
	pos=0,88888

;// input players id ; ID??
[state 0]
	type=varset
	trigger1=!ishelper && numhelper(90900)
	trigger1=(helper(90900),var(0)=90900) && (sysfvar(0)!=helper(90900),id)
	sysfvar(0)=(helper(90900),id)
[state 0]
	type=varset
	trigger1=!ishelper && numpartner
	trigger1=!numhelper(90900) && (partner,numhelper(90900)) && (sysfvar(0)!=(partner,sysfvar(0)))
	sysfvar(0)=(partner,sysfvar(0))

;// bk/jd system ; ?????/????D
[state 0]
	type=hitoverride
	trigger1=(numprojid(195502)||numprojid(195503)) && !ishelper && roundstate=2 && alive && (ctrl || stateno=52)
	attr=sca,na,sa,ha,np,sp,hp
	stateno=195500
	time=1
	ignorehitpause=1

;//==========================
;;>>@Config.Face>>
;; face / portrait (?)
[state 0]
	type=explod
	trigger1=!ishelper && roundstate=2 && alive && !numexplod(490600) && selfanimexist(909002)
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),numexplod(490600)
	id=490600
	anim=909002
	space=screen
	postype=left
	facing=ifelse(teamside=1,1,-1)
	scale=0,0 ;; <- default
	ownpal=1
	bindtime=-1
	removetime=-1
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1

[state 0] ;; player is NOT in a custom state 
	type=modifyexplod
	trigger1=numexplod(490600) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	trigger1=movetype!=h || (stateno=[120,159]) || (stateno=[5000,5199]) || (stateno=[190190,190196])
	id=490600
	scale=playerid(floor(sysfvar(0))),fvar(32-(id=playerid(floor(sysfvar(0))),var(15))*10), playerid(floor(sysfvar(0))),fvar(33-(id=playerid(floor(sysfvar(0))),var(15))*10)
	ignorehitpause=1

[state 0]
	type=modifyexplod
	trigger1=numexplod(490600) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	id=490600
	space=screen
	postype=left
	pos=floor(const240p(playerid(floor(sysfvar(0))),fvar(30-(id=playerid(floor(sysfvar(0))),var(15))*10))), floor(const240p(playerid(floor(sysfvar(0))),fvar(31-(id=playerid(floor(sysfvar(0))),var(15))*10) -(roundstate!=2||(!alive&&stateno=5150))*88888))
;;(* if the player has been placed in a custom state, the result of "scale" is affected" by the different player's local coordinate space
	sprpriority=floor(playerid(floor(sysfvar(0))),fvar(36-(id=playerid(floor(sysfvar(0))),var(15))*10))
	trans=addalpha
	alpha=floor(playerid(floor(sysfvar(0))),fvar(34-(id=playerid(floor(sysfvar(0))),var(15))*10)), floor(playerid(floor(sysfvar(0))),fvar(35-(id=playerid(floor(sysfvar(0))),var(15))*10))
	ignorehitpause=1

;//==========================
;;>>@Config.Camera>>
;; change camera / ????
[state 0]
	type=screenbound
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	movecamera=0,0
	ignorehitpause=1
[state 0]
	type=playerpush
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	ignorehitpause=1
[state 0]
	type=screenbound
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && (playerid(floor(sysfvar(0))),var(7)&65536) ;; system_switch
	value= ((numpartner && sysfvar(4)<1) || !numpartner) ;; [def=0]
	movecamera=0,0 ;; [x,y]
	ignorehitpause=1

;//==========================
;; optional settings
;//==========================
;;--- guard crush ; ????????
[state 0]
	type=palfx
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && (gametime%5=0) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=40)
	time=2
	add=200,0,0
[state 0]
	type=changestate
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=50)
	value=190010
	ignorehitpause=1
;;--- dizzy
[state 0]
	type=changestate
	trigger1=stateno=5120 && (animtime=0) && !ishelper && numhelper(403000) ;;<-dizzy birds
	value=190116 ;;<- goto dizzy/stun state
;;--- fadeout when KOed ; KO????
[state 0]
	type=varset
	trigger1=stateno=5150 && time=1 && alive=0 && !ishelper && numpartner
	sysvar(1)=(roundstate<=2)
[state 0]
	type=assertspecial
	trigger1=stateno=5150 && alive=0 && !ishelper && numpartner && sysvar(1) && (((time=[80,150]) && time%10<5) || time>150)
	flag=invisible
	flag2=noshadow
[state 0]
	type=posset
	trigger1=stateno=5150 && time>=80 && alive=0 && !ishelper && numpartner && sysvar(1)
	y=(800-partner,pos y) *(((time=[80,150]) && time%10<5) || time>150)

;;--- pos reset debug (for mugen only) ---
[state 0]
	type=turn
	trigger1=roundstate=1 && time=1 && !ishelper && numpartner>1
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && id>playerid(floor(sysfvar(0))),sysvar(0)+1
	trigger1=facing=ifelse(teamside=1,-1,1) && cond(teamside=1, screenpos x>playerid(id-2),screenpos x, screenpos x<playerid(id-2),screenpos x)
	persistent=0
[state 0]
	type=posset
	trigger1=roundstate=1 && time=1 && !ishelper && numpartner>1
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && id>playerid(floor(sysfvar(0))),sysvar(0)+1
	trigger1=cond(teamside=1, screenpos x>playerid(id-2),screenpos x, screenpos x<playerid(id-2),screenpos x)
	x= playerid(id-1),pos x+const240p(20) *ifelse(teamside=1,-1,1)
	persistent=0
;//==========================
;//==========================


[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "Var 48 is %d"
params = var(48)
;text = "MugenDBZDream MugenDream.Bravepages.com"

[State -2, remove]
type = Removeexplod
trigger1 = stateno != 101; && stateno != 1000 && stateno != 1011
ID = 100

[State 1800, remove slashdown1]
type = Removeexplod
trigger1 = stateno != 1800
ID = 1800

[State 1800, remove slashdown2]
type = Removeexplod
trigger1 = stateno != 1850
ID = 1850

[state -2, remove charge aura]
type = removeexplod
trigger1 = stateno != 1900
id = 1900

[state -2, remove charge dust]
type = removeexplod
trigger1 = stateno != 1900
id = 4040

[state -2, stop charge voice]
type = stopsnd
trigger1 = stateno != 1900
channel = 2

[state -2, stop charge sound]
type = stopsnd
trigger1 = stateno != 1900
channel = 3

[State -2, stopsnd]
type = StopSnd
trigger1 = stateno != 2200
channel = 4

[State -2, stopsnd]
type = StopSnd
trigger1 = stateno != 2300
channel = 5

[State -2, stopsnd]
type = StopSnd
trigger1 = stateno != 2350
channel = 6

[State -2, LifeSet]
type = LifeSet
triggerall = ishelper(6000)
trigger1 = life > 250
value = 250
;ignorehitpause =
;persistent =




;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State -3, Corner]
type = Velset
trigger1 = FrontEdgeDist < 10 && vel x > 0.1
x = 0.1

[State 52, bounce Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 5100
value = 5100, 0

[State 52, fall Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 5110
value = 5110, 0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 106
trigger2 = StateNo = 310 && animelem = 4
trigger3 = StateNo = 305 && animelem = 11
value = 52, 0

[State 350, recover]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 5210
value = 1000,5

[State -3, Jumping Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 40
value = 40,0

[State -3, Double Jump Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 45
value = 105,0

[State -3, Backstep Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 105
value = 105,0

[State -2, backstep afterimage]
type = AfterImage
triggerall = Time = 1
trigger1 = stateno = 105
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State -2, sethitvoice]
type = VarRandom
triggerall = Time = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
v = 4
range = 0,11;14

[State -2, hitvoice1]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [0,3]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,0

[State -2, hitvoice2]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [4,7]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,1

[State -2, hitvoice3]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [8,9]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,2

[State -2, hitvoice4]
type = PlaySnd
triggerall = Time = 1
triggerall = Var(4) = [10,11]
triggerall = alive = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000,3


[State -3, jumpdust1];ジャンプホコリ1
type = explod
trigger1 = StateNo = 40 && Time = 1
postype = p1
pos = -4,0
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
supermove = 1

[State -3, jumpdust2];ジャンプホコリ2
type = explod
trigger1 = StateNo = 40 && Time = 1
postype = p1
pos = 4,0
facing = -1
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
supermove = 1

[State -3, landdust1];着地ホコリ1
type = explod
trigger1 = StateNo = 52 && Time = 1
trigger2 = StateNo = 310 && animelem = 4
trigger3 = StateNo = 305 && animelem = 11
postype = p1
pos = -17,0
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
supermove = 1
sprpriority = 3

[State -3, landdust];着地ホコリ2
type = explod
trigger1 = StateNo = 52 && Time = 1
trigger2 = StateNo = 310 && animelem = 4
trigger3 = StateNo = 305 && animelem = 11
postype = p1
pos = 20,0
facing = -1
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
supermove = 1
sprpriority = 3

[State -3, landdust1];バックステップ着地1
type = explod
trigger1 = StateNo = 106 && Time = 1
trigger2 = StateNo = 2210 && Time = 1
postype = p1
pos = -35,0
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
supermove = 1
sprpriority = 3

[State -3, landdust];バックステップ着地2
type = explod
trigger1 = StateNo = 106 && Time = 1
trigger2 = StateNo = 2210 && Time = 1
postype = p1
pos = 8,0
facing = -1
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5
supermove = 1
sprpriority = 3

;----------------------------------------------
;かめはめ波フィニッシュ----------
[State -2, Custom Anim] ;turn
type = Changeanim
triggerall = IsHelper(6000)
trigger1 = (anim = 21)
value = 6021

[State -2, Custom Anim] ;turn
type = Changeanim
triggerall = var(16) = 1
triggerall = IsHelper(6000)
trigger1 = (anim = [120,169])
value = 6120




[State -2,KO]
type = Varadd
trigger1 = roundstate = 3
ignorehitpause = 1
var(32) = 1

[State -2,KO]
type = Varset
trigger1 = roundstate != 3
ignorehitpause = 1
var(32) = 0

[state -2, finish]
type = explod
triggerall = WinKo && var(32) = 1
trigger1 = projhittime(2000) = 1
trigger2 = projhittime(2200) = 1
trigger3 = stateno = 2402
anim = 4000
pos = 0,0
postype = left
bindtime = -1
supermove = 1 ;0
removetime = 24
ontop = 1
ownpal = 1

[State -2, bakuhatsu slow 1];超爆発波
type = Varset
trigger1 = projhit2200 = 1
var(10) = 18

[State -2, bakuhatsu slow 2]
type = VarAdd
trigger1 = var(10) != 0
trigger1 = (gametime%1) = 0
var(10) = -1

[State -2, bakuhatsu slow 3]
type = Pause
triggerall = (gametime%1) = 0
trigger1 = var(10) != 0
time = 1
movetime = 0

[State -2,SpeedModeFX]
trigger1 = projhittime(2200) = 1
trigger1 = timemod = 2,0
trigger1 = roundstate = 2
type = pause
time = 1
movetime = 1

;--------------------------対戦相手認識
[State -2, detect]
type = VarSet
trigger1 = p2name = "Songoku" || p4name = "Songoku"
var(14) = 1

[State -2, detect]
type = VarSet
trigger1 = p2name = "Piccolo" || p4name = "Piccolo"
var(14) = 2

[State -2, detect]
type = VarSet
trigger1 = p2name = "Cell" || p4name = "Cell"
var(14) = 3

[State -2, detect]
type = VarSet
trigger1 = p2name = "Frieza" || p4name = "Frieza"
var(14) = 4

[State -2, detect]
type = VarSet
trigger1 = p2name = "Vegeta" || p4name = "Vegeta"
var(14) = 5

[State -2, detect]
type = VarSet
trigger1 = p2name = "Android 18" || p4name = "Android 18"
var(14) = 6

[State -2, detect]
type = VarSet
trigger1 = p2name = "Android 16" || p4name = "Android 16"
var(14) = 8

[State -2, detect]
type = VarSet
trigger1 = p2name = "Trunks" || p4name = "Trunks"
var(14) = 7

[State -2, detect]
type = VarSet
trigger1 = p2name = "Burter" || p4name = "Burter"
var(14) = 9

[State -2, detect]
type = VarSet
trigger1 = p2name = "Mr Satan" || p4name = "Mr Satan"
var(14) = 10

[State -2, detect]
type = VarSet
trigger1 = p2name = "Buu" || p4name = "Buu"
var(14) = 11

[State -2, detect]
type = VarSet
trigger1 = p2name = "Dr Gero" || p4name = "Dr Gero"
var(14) = 12

[State -2, detect]
type = VarSet
trigger1 = p2name = "Krillin" || p4name = "Krillin"
var(14) = 13

[State -2, detect]
type = VarSet
trigger1 = p2name = "Captain Ginyu" || p4name = "Captain Ginyu"
var(14) = 14

[State -2, detect]
type = VarSet
trigger1 = p2name = "Songohan" || p4name = "Songohan"
var(14) = 15

[State -2, detect]
type = VarSet
trigger1 = p2name = "Fat Buu" || p4name = "Fat Buu"
var(14) = 16

[State -2, detect]
type = VarSet
trigger1 = p2name = "Kid Gohan" || p4name = "Kid Gohan"
var(14) = 17


[State -2, detect]
type = VarSet
trigger1 = p2name = "Dabura" || p4name = "Dabura"
var(14) = 18

[State -2, detect]
type = VarSet
trigger1 = p2name = "Recoom" || p4name = "Recoom"
var(14) = 19

[State -2, detect]
type = VarSet
trigger1 = p2name = "Insect Cell" || p4name = "Insect Cell"
var(14) = 20

[State -2, detect]
type = VarSet
trigger1 = p2name = "TenShinHan" || p4name = "TenShinHan"
var(14) = 21



[State -2, detect]
type = VarSet
trigger1 = p2name = "SSJ2 Gohan" || p4name = "SSJ2 Gohan"
var(14) = 25



[State -2, detect]
type = VarSet
trigger1 = numhelper(6000) >=1
var(16) = 1

[State -2, detect]
type = VarSet
trigger1 = ishelper(6000)
var(16) = 1



[State -2, Custom Anim] ;turn
type = Changeanim
triggerall = var(16) = 1
triggerall = IsHelper(6000)
trigger1 = (anim = [120,169])
value = 6120

[State -2, DestroySelf]
type = changestate
triggerall = IsHelper(6000)
trigger1 = !SelfAnimExist(anim)
value = ifelse((pos Y < 0),950, 52)

[State -2, NotHitBy]
type = HitBy
trigger1 = ishelper(6000)
value = S, NA
;value2 = S,NA
time = 1
;ignorehitpause =
;persistent =

[State -2, AssertSpecial]
type = AssertSpecial
triggerall = !ishelper
triggerall = roundstate = 4
triggerall = stateno != 5120
trigger1 = var(46) = 1
flag = invisible


;[State -2, HitOverride]
;type = HitOverride
;triggerall = ishelper(6000)
;trigger1 = 1
;attr = SCA,AT
;stateno = 5000
;time = 3
;slot = 0

[State -2, ChangeState]
type = ChangeState
triggerall = IsHelper(6000)
trigger1 = anim != [6000, 6999]
value = 5000

[State 0, LifeAdd]
type = LifeAdd
triggerall = IsHelper(6000)
trigger1 = anim != [6000, 6999]
value = -1000
kill = 1
absolute = 1
;ignorehitpause =
;persistent =



[State -2, ChangeState]
type = ChangeState
triggerall = alive
triggerall = !ishelper
triggerall = movetype = I
trigger1 = numhelper(6000) >=1
value = 2209
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

;----------------------------------------------
;--------------------ダメージ補正----------
;----------------------------------------------

[State -2, リセット]
type = varset
trigger1 = enemy,movetype != H
trigger2 = enemy,ctrl
triggerall = time > 0
fvar(8) = 0

[State -2, 補正対象];エリアル補正
type = varadd
triggerall = movehit = 1
triggerall = hitdefattr = SCA,NA
triggerall = fvar(8) < 0.7
trigger1 = stateno = 525
trigger2 = stateno = 280
fvar(8) = 0.15+(fvar(8)*0.57);0.2)

[State -2, 攻撃力]
type = AttackMulSet
trigger1 = 1
value = 1-fvar(8);value = fvar(8)

[State -2, 限界値]
type = varset
trigger1 = fvar(8) > 0.7
fvar(8) = 0.8




;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\ginyu\attacks.cns}
;==============================================================================

;================================================================================
;                    通常技
;================================================================================
;---------------------------立ち弱パンチ
[Statedef 200]
type = S
movetype = A
physics = S
anim = 200
poweradd = 20
juggle = 10
velset = 0
ctrl = 0
facep2 = 1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20
animtype = light
hitflag = MAF
guardflag = MA
sparkno = s4100
guard.sparkno = s4500
sparkxy = 0,-80
hitsound = S0,5
guardsound = S3,0
pausetime = 12,12
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = high
air.velocity = -1.4,-3
air.hittime = 12

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------立ち弱パンチ(近距離)
[Statedef 210]
type = S
movetype = A
physics = S
anim = 210
poweradd = 20
juggle = 10
velset = 0
ctrl = 0
facep2 = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s4100
guard.sparkno = s4500
sparkxy = -20,-80
hitsound = S0,5
guardsound = S3,0
pausetime = 12,12
ground.type = low
ground.slidetime = 22
ground.hittime  = 25
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------立ち強パンチ
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
poweradd = 30
juggle = 10
velset = 0
ctrl = 0
facep2 = 1

[State 220, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,2

[State 220, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 60
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-70
hitsound = S0,7
guardsound = S3,0
pausetime = 12,13
ground.type = high
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;--------------------------立ち強パンチ(近距離)
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
poweradd = 30
juggle = 5;10
velset = 0
ctrl = 0
facep2 = 1

[State 230, pos]
type = Velset
trigger1 = time = 0
x = 3

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,2

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -30,-70
hitsound = S0,7
guardsound = S3,0
pausetime = 12,12
ground.type = low
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-----------------------------------------------------------
;------------------------立ち弱キック
[Statedef 250]
type = S
movetype = A
physics = S
anim = 250
poweradd = 20
juggle = 10
velset = 0
ctrl = 0
facep2 = 1

[State 270, vel2]
type = Velset
trigger1 = animelem = 2;AnimElem = 1, >= 1 && AnimElem = 3, <= 1
x = 5

[State 270, vel2]
type = Velset
trigger1 = animelem = 4
x = 0


[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 250, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20
animtype = light
hitflag = MAF
guardflag = MA
sparkno = s4100
guard.sparkno = s4500
sparkxy = -10,-70
hitsound = S0,6
guardsound = S3,0
pausetime = 12,12
ground.hittime = 9
ground.type = high
ground.slidetime = 9
ground.velocity = -6.3
air.velocity = -3,-4

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------立ち弱キック(近距離)
[Statedef 260]
type = S
movetype = A
physics = S
anim = 260
poweradd = 20
juggle = 10
velset = 8
ctrl = 0
facep2 = 1

[State 260, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 260, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 260, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 30
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s4100
guard.sparkno = s4500
sparkxy = -15,-60
hitsound = S0,6
guardsound = S3,0
pausetime = 12,13
ground.hittime = 17
ground.type = low
ground.slidetime = 8
ground.velocity = -3
air.velocity = -3,-4

[State 260, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------立ち強キック
[Statedef 270]
type = S
movetype = A
physics = S
anim = 270
juggle = 10
poweradd = 30
velset = 0
ctrl = 0
facep2 = 1

[State 270, vel2]
type = Velset
trigger1 = animelem = 2;AnimElem = 1, >= 1 && AnimElem = 3, <= 1
x = 5

[State 270, vel2]
type = Velset
trigger1 = animelem = 4
x = 0

[State 270, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,3

[State 270, snd1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,3


[State 270, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 60
animtype = medium
hitflag = MAF
guardflag = MA
sparkxy = -20,-80
sparkno = s4150
guard.sparkno = s4500
hitsound = S0,8
guardsound = S3,0
pausetime = 12,13
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -2.3
air.velocity = -3,-4


[State 270, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------立ち強キック(近距離)
[Statedef 280]
type = S
movetype = A
physics = S
anim = 280
poweradd = 30
juggle = 1;5
velset = 0,0
ctrl = 0
facep2 = 1
sprpriority = 2

[State 280, pos]
type = Velset
trigger1 = time = 0
x = 5

[State 280, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,3

[State 280, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,3

[State 280, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 60
animtype = diagup
hitflag = MAF
guardflag = MA
pausetime = 12,13
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-110
hitsound = S1,3
guardsound = S3,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-9
air.velocity = -7.2,-2.2
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6

[State 280, jump] ;ジャンプキャンセル
type = ChangeState
trigger1 = movecontact && Command = "holdup"
trigger1 = moveguarded = 0
value = 40
ctrl = 1
var(5) = 1

[State 280, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-----------------------------------------------------------
;-----------------------------------------------------------
;---------------------しゃがみ弱パンチ
[Statedef 410]
type = C
movetype = A
physics = C
anim = 410
poweradd = 20
juggle = 10
velset = 0
ctrl = 0
facep2 = 1

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 20
animtype = light
hitflag = MAF
guardflag = MA
sparkno = s4100
guard.sparkno = s4500
sparkxy = -10,-40
hitsound = S0,5
guardsound = S3,0
pausetime = 12,13
ground.hittime = 17
ground.type = low
ground.slidetime = 7
ground.velocity = -6
air.velocity = -2,-3.5

[State 410, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------しゃがみ強パンチ
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
poweradd = 30
juggle = 10
velset = 0
ctrl = 0
facep2 = 1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 60
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 12,13
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -6.3
air.velocity = -3,-4

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------しゃがみ弱キック
[Statedef 420]
type = S
movetype = A
physics = S
anim = 420
juggle = 10
poweradd = 20
velset = 0
ctrl = 0
facep2 = 1

[State 420, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 420, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 450, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 30
animtype = light
hitflag = MAF
guardflag = L
sparkxy = -10,-15
sparkno = s4100
guard.sparkno = s4500
hitsound = S0,6
guardsound = S3,0
pausetime = 18,13
ground.hittime = 9
ground.type = low
ground.slidetime = 6
ground.velocity = -5
air.velocity = -4,-6
yaccel = .5
down.velocity = -5,0
down.hittime = 20

[State 450, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------しゃがみ強キック
[Statedef 450]
type = S
movetype = A
physics = S
anim = 450
juggle = 10
poweradd = 30
velset = 0
ctrl = 0
facep2 = 1

[State 450, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,3

[State 450, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,3

[State 450, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = c, NA
damage = 60
animtype = heavy
hitflag = MAFd
guardflag = L
pausetime = 12,13
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-30
hitsound = S0,8
guardsound = S3,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.2,-2.2
air.velocity = -2.2,-3.2
ground.hittime  = 17
fall = 1
air.fall = 1
fall.recover = 0
;yaccel = .5

[State 450, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-----------------------------------------------------------
;-----------------------------------------------------------
;-------------------ジャンプ弱パンチ(垂直)
[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
poweradd = 20
juggle = 1
ctrl = 0
sprpriority = 2 

[State 600, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 600, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 20
animtype = light
;hitflag = MAF
guardflag = HA
priority = 3
sparkno = s4100
guard.sparkno = s4500
sparkxy = -10,-70
hitsound = S0,5
guardsound = S3,0
pausetime = 11,13
ground.type = high
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1,-1.5

;-------------------ジャンプ弱パンチ

[Statedef 610]
type = A
movetype = A
physics = A
anim = 610
poweradd = 20
juggle = 1
ctrl = 0
sprpriority = 2 

[State 610, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 610, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 20
animtype = light
;hitflag = MAF
guardflag = HA
priority = 3
sparkno = s4100
guard.sparkno = s4500
sparkxy = -10,-60
hitsound = S0,5
guardsound = S3,0
pausetime = 11,13
ground.type = high
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.5,-1.5

;-------------------ジャンプ強パンチ
[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
poweradd = 30
juggle = 1
ctrl = 0
sprpriority = 2 

[State 620, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 620, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2

[State 620, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 60
animtype = hard
hitflag = MAF
guardflag = HA
priority = 3
sparkno = s4150
guard.sparkno = s4500
sparkxy = -20,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 11,13
ground.type = low
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,1


;-------------------ジャンプ弱キック(垂直)
[Statedef 635]
type = A
movetype = A
physics = A
juggle = 1
anim = 635
poweradd = 20
ctrl = 0
sprpriority = 2 

[State 635, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 635, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 635, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 30
animtype = light
hitflag = MAF
guardflag = HA
priority =3
sparkno = s4100
guard.sparkno = s4500
sparkxy = -10,-70
hitsound = S0,6
guardsound = S3,0
pausetime = 11,12
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4
air.velocity = -1.3, -1

;-------------------ジャンプ弱キック
[Statedef 630]
type = A
movetype = A
physics = A
juggle = 1
anim = 630
poweradd = 20
ctrl = 0
sprpriority = 2 

[State 630, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 630, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 630, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 30
animtype = light
;hitflag = MAF
guardflag = HA
priority = 3
sparkno = s4100
guard.sparkno = s4500
sparkxy = 0,-15
hitsound = S0,6
guardsound = S3,0
pausetime = 11,12
ground.type = low
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-.8

;-------------------ジャンプ強キック(垂直)
[Statedef 640]
type = A
movetype = A
physics = A
juggle = 1
anim = 640
poweradd = 30
ctrl = 0
sprpriority = 2 

[State 640, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,3

[State 640, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,3

[State 640, hit1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 60
animtype = hard
hitflag = MAF
guardflag = HA
priority = 5
sparkno = s4150
guard.sparkno = s4500
sparkxy = -20,-50
hitsound = S0,8
guardsound = S3,0
pausetime = 11,12
ground.type = high
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -4
air.velocity = -1, 1
fall.recover = 0

;-------------------ジャンプ強キック
[Statedef 650]
type = A
movetype = A
physics = A
juggle = 1
anim = 650
poweradd = 30
ctrl = 0
sprpriority = 2 

[State 650, sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,4

[State 650, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,3

[State 650, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 60
animtype = hard
hitflag = MAF
guardflag = HA
priority = 5
sparkno = s4150
guard.sparkno = s4500
sparkxy = -35,-45
hitsound = S0,8
guardsound = S3,0
pausetime = 11,12
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -5
air.velocity = -3,3


;============================================================
;                        ダッシュ攻撃
;============================================================

;------------------ダッシュ弱パンチ

[Statedef 500]
type = S
movetype = A
physics = S
anim = 500
poweradd = 20
juggle = 10
velset = 0
ctrl = 0

[State 500, pos]
type = Velset
trigger1 = time = 0
x = 9

[State 500, pos]
type = Velset
trigger1 = time = 2
x = 10.5

[State 500, stop]
type = Velset
trigger1 = animelem = 6
x = 0

[State 500, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0

[State 500, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 500, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 20
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s4100
guard.sparkno = s4500
sparkxy = -20,-80
hitsound = S0,5
guardsound = S3,0
pausetime = 12,12
ground.type = high
ground.slidetime = 22
ground.hittime  = 25
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 500, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 500, line1];スピードライン１
type = Explod
trigger1 = Time % 4 = 0
anim = 4055  
postype = p1
pos = 0, -50
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 500, line2];スピードライン２
type = Explod
trigger1 = Time % 4 = 0
anim = 4056  
postype = p1
pos = -5, -35
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 500, line3];スピードライン３
type = Explod
trigger1 = Time %4 = 0
anim = 4057  
postype = p1
pos = -5, -15
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 500, line4];スピードライン４
type = Explod
trigger1 = Time %4 = 0 
anim = 4058
postype = p1
pos = 15, -65
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1


;------------------ダッシュ強パンチ
[Statedef 510]
type = S
movetype = A
physics = S
anim = 510
poweradd = 20
juggle = 10
velset = 0
ctrl = 0

[State 510, dust]
type = Explod
trigger1 = time = 12
anim = 4010
ID = 1000
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[State 510, end]
type = ChangeState
trigger1 = animtime = 0
value = 511

;------アタック
[Statedef 511]
type = A
movetype = A
physics = N
anim = 511
poweradd = 20
juggle = 10
velset = 0
ctrl = 0

[State 511, vel1]
type = Posadd
trigger1 = 1
x = 8

[State 511, vel2]
type = Posadd
trigger1 = time = 1
trigger2 = time = 3
y = -2

[State 511, vel3]
type = Posadd
trigger1 = time = 2
trigger2 = time = 4
trigger3 = time = 5
trigger4 = time = 6
trigger5 = time = 7
trigger6 = time = 9
y = -1

[State 511, vel4]
type = Posadd
trigger1 = time = 11
trigger2 = time = 13
trigger3 = time = 15
trigger4 = time = 17
y = 2

[State 511, vel5]
type = Posadd
trigger1 = time = 16
trigger2 = time = 18
trigger3 = time = 19
y = 2

[State 511, snd]
type = PlaySnd
trigger1 = time = 0
value = 100,2

[State 511, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2

[State 511, ki1]
type = Explod
trigger1 = animelem = 2
anim = 512
sprpriority = 3
postype = p1
pos = 155,-45
ownpal = 1
bindtime = -1
removetime = 18
removeongethit = 1
supermovetime = 0
pausemovetime = 0
scale = .5,.5
ignorehitpause = 0
ID = 511

[State 511, removeki]
type = removeExplod
trigger1 = stateno != 511
value = 511

[State 511, hit1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 65,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4200
guard.sparkno = s4500
sparkxy = 0,-70
hitsound = S0,7
guardsound = S3,0
pausetime = 15,12
ground.hittime = 18
ground.type = high
ground.slidetime = 18
ground.velocity = -7,-4
air.velocity = -7,-4
fall = 1
fall.recover = 0
yaccel = .5

[State 511, line1];スピードライン１
type = Explod
trigger1 = Time % 4 = 0
anim = 4055  
postype = p1
pos = 0, -50
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 511, line2];スピードライン２
type = Explod
trigger1 = Time % 4 = 0
anim = 4056  
postype = p1
pos = -5, -40
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 511, line3];スピードライン３
type = Explod
trigger1 = Time %4 = 0
anim = 4057  
postype = p1
pos = 5, -20
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 511, line4];スピードライン４
type = Explod
trigger1 = Time %4 = 0 
anim = 4058
postype = p1
pos = 10, -70
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1

[State 511, end]
type = ChangeState
trigger1 = time = 19
value = 512

;--------------------着地
[Statedef 512]
type = S
movetype = A
physics = S
anim = 1302
velset = 0,0
ctrl = 0

[State 512, land]
type = PlaySnd
trigger1 = AnimElem = 1
value = 52,0

[State 512, pos]
type = posset
trigger1 = time = 0
y = 0

[State 512, landdust1]
type = explod
trigger1 = Time = 0
postype = p1
pos = -17,0
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5

[State 512, landdust]
type = explod
trigger1 = Time = 0
postype = p1
pos = 20,0
facing = -1
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5

[State 512, end]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1


;------------------ダッシュ強キック

[Statedef 525]
type = S
movetype = A
physics = S
anim = 525
poweradd = 30
juggle = 1
velset = 0,0
ctrl = 0
facep2 = 1
sprpriority = 2

[State 525, pos]
type = Velset
trigger1 = time = 0
x = 9

[State 525, pos]
type = Velset
trigger1 = time = 2
x = 12

[State 525, pos]
type = Velset
trigger1 = animelem = 5
x = 6

[State 525, snd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
value = 0,3

[State 525, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,3

[State 525, hit]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 60
animtype = diagup
hitflag = MAF
guardflag = MA
pausetime = 12,13
sparkno = s4150
guard.sparkno = s4500
sparkxy = -20,-110
hitsound = S1,3
guardsound = S3,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-9
air.velocity = -7.2,-2.2
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6

[State 525, jump] ;ジャンプキャンセル
type = ChangeState
trigger1 = movecontact && Command = "holdup" && time > 25
trigger1 = moveguarded = 0
value = 40
ctrl = 1
var(5) = 1

[State 525, line1];スピードライン１
type = Explod
trigger1 = Time % 4 = 0
anim = 4055  
postype = p1
pos = 5, -45
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 525, line2];スピードライン２
type = Explod
trigger1 = Time % 4 = 0
anim = 4056  
postype = p1
pos = 0, -35
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 525, line3];スピードライン３
type = Explod
trigger1 = Time % 4 = 0
anim = 4057  
postype = p1
pos = -5, -15
velocity = 0, 0
accel = 0, 0
random = 20, 20
removetime = -2
ownpal = 1
sprpriority = 2

[State 525, line4];スピードライン４
type = Explod
trigger1 = Time % 4 = 0 
anim = 4058
postype = p1
pos = 8, -60
velocity = 0, 0
accel = 0, 0
random = 40, 15
removetime = -2
ownpal = 1

[State 525, jump] ;ジャンプキャンセル
type = ChangeState
trigger1 = movecontact && Command = "holdup"
trigger1 = moveguarded = 0
value = 40
ctrl = 1
var(5) = 1

[State 525, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------スライディングキック（ダッシュ弱キック）

[Statedef 550]
type = S
movetype = A
physics = S
anim = 550
poweradd = 30
juggle = 1
velset = 0,0
ctrl = 0
facep2 = 1
sprpriority = 2

[State 550, pos]
type = Velset
trigger1 = time = 0
x = 3

[State 550, pos]
type = Velset
trigger1 = time = 2
x = 4

[State 550, pos]
type = Velset
trigger1 = time = 4
x = 5

[State 550, pos]
type = Velset
trigger1 = animelem = 3
x = 14

[State 550, pos]
type = Velset
trigger1 = animelem = 4
x = 5

[State 550, pos]
type = Velset
trigger1 = animelem = 5
x = 2

[State 550, pos]
type = Velset
trigger1 = animelem = 6
x = 1

[State 550, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,4

[State 550, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,3

[State 550, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = c, NA
damage = 60
animtype = heavy
hitflag = MAFd
guardflag = L
pausetime = 12,13
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-30
hitsound = S0,8
guardsound = S3,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.2,-2.2
air.velocity = -2.2,-3.2
ground.hittime  = 17
fall = 1
air.fall = 1
fall.recover = 0
;yaccel = .5


[state 550, dust2]
type = explod
trigger1 = time = 0;> 0
pos = 50,0
pos2 = -2,0
spacing = 1
anim = 4030
bindtime = -1
ownpal = 1
sprpriority = 3

[State 550, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;============================================================
;                    きたねぇ花火（カウンター）
;============================================================

[Statedef 305]
type = a
movetype = A
physics = S
anim = 300
poweradd = -1000
velset = 0,0
ctrl = 0

;[State 305, nothit]
;type = NotHitBy
;trigger1 = movehit
;value = SCA
;ignorehitpause = 1

[State 305, push0]
type = PlayerPush
trigger1 = time = 0
value = 0

[State 305, push1]
type = PlayerPush
trigger1 = Animelem = 9
value = 1

[State 305, pause]
type = SuperPause
trigger1 = Animelem = 1
time = 20
movetime = 20
anim = -1
darken = 0
p2defmul = 1

[State 305, behind]
type = Turn
trigger1 = Animelem = 2

[State 305, pos]
type = Posadd
trigger1 = Animelem = 1 , =1
x = p2bodydist X + 80

[State 305, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,7

[State 305, voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,4
volume = 255

[State 305, speedlines1]
type = Explod
trigger1 = AnimElem = 1
anim = 362
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 3
ownpal = 1
removetime = 8
supermovetime = 8

[State 305, speedlines2]
type = Explod
trigger1 = time = 0
anim = 362
postype = p1
pos = -5,-16
bindtime = -1
sprpriority = 3
ownpal = 1
removetime = 25
supermovetime = 20

[State 305, image1]
type = AfterImage
trigger1 = AnimElem = 2
time = 2

[State 305, image2]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 0
time = 2

;[State 305, vel]
;type = Velset
;trigger1 = animelem = 9
;x = (P2Dist X)/6
;time = 3

[State 305, hit]
type = HitDef
trigger1 = Animelem = 6
attr = S, NA
snap = 43,0,0
damage = 25,10
animtype = back;heavy
hitflag = MAF
guardflag = MA
sparkxy = -30,-70
sparkno = s4200
guard.sparkno = s4500
hitsound = s1,2
guardsound = S3,0
pausetime = 10,10
ground.hittime = 10
ground.type = high
ground.slidetime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
fall = 1
fall.recover = 0
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
air.juggle = 10
yaccel = .5
;p2facing = -1
;p2stateno = 312
kill = 0

[State 305, hit]
type = HitDef
trigger1 = Animelem = 8
attr = S, NA
snap = 43,0,0
damage = 25,10
animtype = back;heavy
hitflag = MAF
guardflag = MA
sparkxy = -30,-70
sparkno = s4200
guard.sparkno = s4500
hitsound = s1,2
guardsound = S3,0
pausetime = 20,20
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
fall = 1
fall.recover = 0
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
air.juggle = 10
yaccel = .5
p2facing = -1
p2stateno = 312
kill = 0


[state 305, change]
type = ChangeState
trigger1 = movehit
value = 310

[state 305, end]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;--------------------------
[Statedef 310]
type = C
movetype = A
physics = S
anim = 310
poweradd = 0
velset = 0
ctrl = 0

[State 310, nothit]
type = NotHitBy
trigger1 = 1
value = SCA

[State 310, push]
type = PlayerPush
trigger1 = time = 1
value = 0

[State 310, width]
type = width
trigger1 = 1
edge = 110,0

[State 310, p2]
type = TargetState
trigger1 = time = 0
value = 313
elem = 1
ignorehitpause = 1
ID = 311

[State 310, targetbind]
type = targetbind
trigger1 = p2stateno = 313
pos = 70,0

[State 310, snd1]
type = PlaySnd
trigger1 = Time = 55
value = 2900,0
volume = -140



[State 305, hit2]
type = HitDef
trigger1 = Animelem = 3
attr = C, SA
damage = 25,0
animtype = back;heavy
hitflag = MAF
guardflag = MA
sparkxy = -30,-70
sparkno = s4100
guard.sparkno = s4500
hitsound = s0,5
guardsound = S3,0
pausetime = 7,7
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
fall = 1
fall.recover = 0
air.juggle = 10
yaccel = .5
p2facing = 1
p2stateno = 313
kill = 0

[State 310, hit1]
type = HitDef
trigger1 = Animelem = 5
attr = C, SA
damage = 25,0
animtype = back;heavy
hitflag = MAF
guardflag = MA
sparkxy = -30,-70
sparkno = s4150
guard.sparkno = s4500
hitsound = s0,6
guardsound = S3,0
pausetime = 7,7
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
fall = 1
fall.recover = 0
air.juggle = 10
yaccel = .5
p2facing = 1
p2stateno = 311
kill = 0

[State 305, hit2]
type = HitDef
trigger1 = Animelem = 7
attr = C, SA
damage = 25,0
animtype = back;heavy
hitflag = MAF
guardflag = MA
sparkxy = -30,-70
sparkno = s4100
guard.sparkno = s4500
hitsound = s0,5
guardsound = S3,0
pausetime = 7,7
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
fall = 1
fall.recover = 0
air.juggle = 10
yaccel = .5
p2facing = 1
p2stateno = 312
kill = 0

[State 310, hit1]
type = HitDef
trigger1 = Animelem = 9
attr = C, SA
damage = 25,0
animtype = back;heavy
hitflag = MAF
guardflag = MA
sparkxy = -30,-70
sparkno = s4150
guard.sparkno = s4500
hitsound = s0,6
guardsound = S3,0
pausetime = 7,7
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
fall = 1
fall.recover = 0
air.juggle = 10
yaccel = .5
p2facing = 1
p2stateno = 311
kill = 0

[State 310, hit3]
type = HitDef
trigger1 = Animelem = 12
attr = C, SA
damage = 25,0
animtype = back;heavy
hitflag = MAF
guardflag = MA
sparkxy = -30,-70
sparkno = s4200
guard.sparkno = s4500
hitsound = s1,2
guardsound = S3,0
pausetime = 20,10
ground.hittime = 20
ground.type = high
ground.slidetime = 80
ground.velocity = -8,13
air.velocity = 0,6
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 13
envshake.freq = 120
envshake.ampl = 8
air.juggle = 10
yaccel = .5
;p2stateno = 313
ID = 310
p2facing = 1
kill = 1



[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------喰らう人

;---------------------腹に喰らう２Ｐ
[Statedef 311]
type    = S
movetype= H
physics = N
velset = 0,0

[State 311, 1]
type = PosSet
trigger1 = 1
y = 0

[State 311, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 311, hitby]
type = HitBy
trigger1 = 1
value = C,SA

[State 311, p2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 311

[State 311, end]
type = selfstate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------顔面に喰らう２Ｐ
[Statedef 312]
type    = S
movetype= H
physics = N
velset = 0,0

[State 312, 1]
type = PosSet
trigger1 = 1
y = 0

[State 312, hitby]
type = HitBy
trigger1 = 1
value = C,SA

[State 312, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 312, p2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 312

[State 312, end]
type = selfstate
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;--------------------蹴り喰らう２Ｐ
[Statedef 313]
type    = S
movetype= H
physics = N
velset = 0,0

[State 312, 1]
type = PosSet
trigger1 = 1
y = 0

[State 312, hitby]
type = HitBy
trigger1 = 1
value = C,SA

[State 312, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 312, p2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 312

[State 312, end]
type = selfstate
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\ginyu\specials.cns}
;==============================================================================

;================================================================================
;                         必殺技
;================================================================================
;-----------------------------------------------------------
;                    連続エネルギー弾(弱)
;-----------------------------------------------------------

[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
poweradd = -100
velset = 0,0
ctrl = 0

[State 1000, snd1];たぁ
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,5
volume = 255

[State 1000, snd2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2000,0

[State 1000, ki]
type = Explod
trigger1 = animelem = 1
anim = 1001
sprpriority = 4
postype = p1
pos = 38,-10; 0, 5
ownpal = 1
bindtime = -1
removetime = 10
removeongethit = 1
supermovetime = 0
pausemovetime = 0
id = 1000


[State 1000, ki3]
type = Explod
trigger1 = animelem = 7
anim = 1001
sprpriority = 4
postype = p1
pos = 38,-20
ownpal = 1
bindtime = -1
removetime = 2
removeongethit = 1
supermovetime = 0
pausemovetime = 0

[State 1000, proj]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1050
projhitanim = 1051
projID = 1000
velocity = 4
;projshadow = 150,150,150
projpriority = 1
postype = p1
offset = 75,-83
attr = S, SP
damage = 40,10
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s1150
guard.sparkno = s4500
sparkxy = 20,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
projscale = 1,.6

[State 1000, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------
;                      エネルギー弾(強)
;-----------------------------------------------------------

[Statedef 1005]
type = S
movetype = A
physics = S
anim = 1005
poweradd = -100
velset = 0,0
ctrl = 0
juggle = 1

[State 1005, snd1];たぁ
type = PlaySnd
trigger1 = AnimElem = 5
value = 200,5
volume = 255

[State 1005, snd2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 2000,1

[State 1005, proj1]
type = Projectile
triggerall = prevstateno != 1000
trigger1 = AnimElem = 9
projanim = 1050
projhitanim = 1051
projID = 1005
velocity = 6
projpriority = 1
postype = p1
offset = 75,-83
attr = S, SP
damage = 80,10
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s1150
guard.sparkno = s4500
sparkxy = 0,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5

[State 1005, proj2];連続
type = Projectile
triggerall = prevstateno = 1000
trigger1 = AnimElem = 13
projanim = 1050
projhitanim = 1051
projID = 1005
velocity = 6.5
projpriority = 1
postype = p1
offset = 75,-83
attr = S, SP
damage = 50,10
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s1150
guard.sparkno = s4500
sparkxy = 0,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
fall = 1
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5

[State 1005, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;--------------------------------------------------------------
;                    空中連続エネルギー弾 (弱)
;--------------------------------------------------------------
[Statedef 1100]
type = A
movetype = A
physics = S
anim = 1100
poweradd = -100
velset = 0,0
ctrl = 0

[State 1100, snd1];たぁ
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,5
volume = 255

[State 1100, snd2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2000,0

[State 1100, ki]
type = Explod
trigger1 = animelem = 1
anim = 1001
sprpriority = 4
postype = p1
pos = 25,-50
ownpal = 1
bindtime = -1
removetime = 10
removeongethit = 1
supermovetime = 0
pausemovetime = 0
id = 1100

[State 1100, proj]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1050
projhitanim = 1051
projID = 1100
velocity = 4
;projshadow = 150,150,150
projpriority = 1
postype = p1
offset = 85,-120
attr = S, SP
damage = 40,10
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s1150
guard.sparkno = s4500
sparkxy = 20,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
projscale = 1,.6


[State 1100, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 950
ctrl = 1

;-----------------------------------------------------------------
;                       空中エネルギー弾 (強)
;-----------------------------------------------------------------
[Statedef 1105]
type = A
movetype = A
physics = N
anim = 1105
poweradd = -100
velset = 0,0
ctrl = 0
juggle = 1

[State 1105, snd1];たぁ
type = PlaySnd
trigger1 = AnimElem = 5
value = 200,5
volume = 255

[State 1105, snd2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 2000,1

[State 1105, proj1]
type = Projectile
triggerall = prevstateno != 1100
trigger1 = AnimElem = 7
projanim = 1050
projhitanim = 1051
projID = 1105
velocity = 6
projpriority = 1
postype = p1
offset = 85,-100
attr = S, SP
damage = 80,10
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s1150
guard.sparkno = s4500
sparkxy = 0,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -8,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5

[State 1105, proj2];連続
type = Projectile
triggerall = prevstateno = 1100
trigger1 = AnimElem = 7
projanim = 1050
projhitanim = 1051
projID = 1105
velocity = 6.5
projpriority = 1
postype = p1
offset = 85,-100
attr = S, SP
damage = 50,10
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s1150
guard.sparkno = s4500
sparkxy = 0,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -4.5
air.velocity = -8,-4
fall = 1
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5

[State 1105, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 950
ctrl = 1

;----------------------------------------------------------
;----------------------------------------------------------

[Statedef 1200]
type = S
movetype = A
physics = S
anim = 1200
velset = 0,0
juggle = 10
poweradd = 100
ctrl = 0

[State 1200, nothit]
type = NotHitBy
trigger1 = animelem = 3
value = SCA
time = 8

[State 1200, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,0

[State 1200, 4]
type = ChangeState
trigger1 = animtime = 0
value = 1201

;---------------------------突進
[Statedef 1201]
type = S
movetype = A
physics = N
anim = 1201
juggle = 0
ctrl = 0
velset = 0,0

[State 1201, vel]
type = Velset
trigger1 = 1
x = 10

[State 1201, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1201, speed]
type = Explod
trigger1 = AnimElem = 1
anim = 1206
ID = 1206
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 15
ignorehitpause = 1

[State 1201, hit1]
type = HitDef
trigger1 = animelem = 1
attr = A, SA
damage = 45,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-75
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit2]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -35,-75
hitsound = S0,7
guardsound = S3,0
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit3]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -30,-75
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -12
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall = 1
fall.recover = 0
yaccel = .5
p1stateno = 1202
fall=1

[State 1201, dust]
type = Explod
trigger1 = time = 0
anim = 8100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[state 1201, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
ignorehitpause = 1

[state 1201, shake]
type = envshake
trigger1 = moveguarded = 1
time = 8
freq = 100
ampl = 3

[State 1201, end]
type = ChangeState
trigger1 = Animtime = 0
value = 1202

;-----------------------停止
[Statedef 1202]
type = S
movetype = A
physics = S
anim = 1200
velset = 0,0
ctrl = 0

[State 1201, remove]
type = RemoveExplod
trigger1 = 1
ID = 1206

[State 1202, pos]
type = posset
trigger1 = time = 0
y = 0

[State 1202, vel]
type = Velset
trigger1 = animelem = 1
x = 3

[State 1202, landdust1]
type = explod
trigger1 = Time = 0
postype = p1
pos = -15,3
spacing = 1
anim = 8100
ownpal = 1
scale = .5, .5

[State 1202, landdust]
type = explod
trigger1 = Time = 0
postype = p1
pos = 30,3
facing = -1
spacing = 1
anim = 8100
ownpal = 1
scale = .5, .5

[State 1202, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;============================================================
;                     ショルダータックル（強）
;============================================================
[Statedef 1205]
type = S
movetype = A
physics = S
anim = 1200
velset = 0,0
juggle = 10
poweradd = 100
ctrl = 0

[State 1205, nothit]
type = NotHitBy
trigger1 = animelem = 3
value = SCA
time = 10

[State 1205, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,0

[State 1205, 4]
type = ChangeState
trigger1 = animtime = 0
value = 1206

;---------------------------突進
[Statedef 1206]
type = S
movetype = A
physics = N
anim = 1205
juggle = 0
ctrl = 0
velset = 0,0

[State 1206, vel]
type = Velset
trigger1 = 1
x = 5
y = -6

[State 1206, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1206, speed]
type = Explod
trigger1 = AnimElem = 1
removetime = -1
anim = 1206
ID = 1206
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 1206, hit1]
type = HitDef
trigger1 = animelem = 1
attr = A, SA
damage = 50,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -35,-75
hitsound = S0,7
guardsound = S3,0
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -3,-12
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5
fall=1

[State 1206, dust]
type = Explod
trigger1 = time = 0
anim = 8100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[state 1206, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
ignorehitpause = 1

[state 1206, shake]
type = envshake
trigger1 = moveguarded = 1
time = 8
freq = 100
ampl = 3

[State 1206, end]
type = ChangeState
trigger1 = Animtime = 0
value = 1207

[Statedef 1207]
type = A
movetype = A
physics = A
anim = 620
poweradd = 30
juggle = 1
ctrl = 0
sprpriority = 2

[State 1207, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 1207, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2

[State 1207, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 60
animtype = hard
hitflag = MAF
guardflag = HA
priority = 3
sparkno = s4150
guard.sparkno = s4500
sparkxy = -20,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 11,13
ground.type = low
ground.slidetime = 3
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,10

[State 1100, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 950
ctrl = 1

;;-----------------------------------------------
[Statedef 1300]
type = A
movetype = A
physics = N
anim = 1300
juggle = 0
ctrl = 0
velset = 0,0

[State 1300, hole]
type = Explod
trigger1 = time = 0
removetime = 12
anim = 4801
ID = 4801
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1300, vel]
type = Velset
trigger1 = animelem = 6
x = 5
y = 0

[State 1300, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1300, speed]
type = Explod
trigger1 = AnimElem = 1
removetime = -1
anim = 1206
ID = 1206
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 1300, dust]
type = Explod
trigger1 = time = 0
anim = 8100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[state 1300, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 1300, end]
type = ChangeState
trigger1 = Animtime = 0
value = 1301

[Statedef 1301]
type = A
movetype = A
physics = C
anim = 1301
poweradd = 30
juggle = 1
ctrl = 0
sprpriority = 2

[State 1300, emerge]
type = Explod
trigger1 = time = 0
removetime = 34
anim = 4803
ID = 4803
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 =  animelem = 7
x = 1
y = -4
;ignorehitpause =
;persistent =


[State 0, Turn]
type = Turn
trigger1 = P2Dist X <= -1

[State 1301, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 1301, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,6


[State 1351, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
damage = 25
animtype = medium
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = 0, -3
air.velocity = -1,-4
fall=1

[State 1351, 2]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
damage = 25
animtype = medium
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = 0, -3
air.velocity = -1,-4
fall=1

[State 1351, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = C, NA
damage = 25
animtype = medium
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 12,13
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = 0, -3
air.velocity = -2,-4
fall=1




[State 1301, ChangeState]
type = ChangeState
trigger1 = animtime= 0
value = 950
ctrl = 1
;;-------------------------------------
;;-----------------------------------------------
[Statedef 1350]
type = S
movetype = A
physics = N
anim = 1300
juggle = 0
ctrl = 0
velset = 0,0

[State 1350, hole]
type = Explod
trigger1 = time = 0
removetime = 12
anim = 4801
ID = 4801
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 00
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1350, vel]
type = Velset
trigger1 = animelem = 6
x = 10
y = 0

[State 1350, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1350, speed]
type = Explod
trigger1 = AnimElem = 1
removetime = -1
anim = 1206
ID = 1206
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 1350, dust]
type = Explod
trigger1 = time = 0
anim = 8100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[state 1350, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 1350, end]
type = ChangeState
trigger1 = Animtime = 0
value = 1351

[Statedef 1351]
type = A
movetype = A
physics = C
anim = 1301
poweradd = 30
juggle = 1
ctrl = 0
sprpriority = 2

[State 1351, emerge]
type = Explod
trigger1 = time = 0
removetime = 34
anim = 4803
ID = 4803
postype = p1
pos = 0,0
vel = 1
bindtime = 1
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = P2Dist X <= -1

[State 1351, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,6


[State 1351, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
damage = 10
animtype = medium
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -6.3
air.velocity = -3,-4

[State 1351, 2]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
damage = 10
animtype = medium
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -1,-3
air.velocity = -1,-3


[State 1351, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = C, NA
damage = 10
animtype = medium
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 12,13
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -1,-3
air.velocity = -1,-3
p1stateno=1200

[State 1350, ChangeState]
type = ChangeState
trigger1 = animtime= 0
value = 0
ctrl = 1

;;-------------------------------------
;;-----------------------------------------------
[Statedef 1360]
type = S
movetype = A
physics = N
anim = 1300
juggle = 0
ctrl = 0
velset = 5

[State 1350, hole]
type = Explod
trigger1 = time = 0
removetime = 12
anim = 4801
ID = 4801
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 00
ownpal = 1
removeongethit = 0
ignorehitpause = 1

;[State 1360, vel]
;type = Velset
;trigger1 = animelem = 6
;x = 10
;sy = 0

[State 1360, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1360, speed]
type = Explod
trigger1 = AnimElem = 1
removetime = -1
anim = 1206
ID = 1206
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 1360, dust]
type = Explod
trigger1 = time = 0
anim = 8100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[state 1360, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 1360, end]
type = ChangeState
trigger1 = Animtime = 0
value = 1361

[Statedef 1361]
type = A
movetype = A
physics = C
anim = 1301
poweradd = 30
juggle = 1
ctrl = 0
sprpriority = 2

[State 1361, emerge]
type = Explod
trigger1 = time = 0
removetime = 34
anim = 4803
ID = 4803
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
ignorehitpause = 1


[State 0, Turn]
type = Turn
trigger1 = P2Dist X <= -1
;ignorehitpause =
;persistent =


[State 1361, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1

[State 1361, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2


[State 1351, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
damage = 60
animtype = medium
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 12,13
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -2.3
air.velocity = -3,-4

[State 1351, 2]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
damage = 60
animtype = medium
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-55
hitsound = S0,7
guardsound = S3,0
pausetime = 12,13
ground.hittime = 17
ground.type = low
ground.slidetime = 17
ground.velocity = -4.3
air.velocity = -3,-4

[State 1361, ChangeState]
type = ChangeState
trigger1 = animtime= 0
value = 0
ctrl = 1
            ;----------------------------------------------------------

[Statedef 1500]
type = S
movetype = A
physics = S
anim = 1500
velset = 0,0
juggle = 10
poweradd = 100
ctrl = 0

[State 1200, nothit]
type = NotHitBy
trigger1 = animelem = 3
value = SCA
time = 8

[State 1200, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,2

[State 1200, 4]
type = ChangeState
trigger1 = animtime = 0
value = 1501

;---------------------------突進
[Statedef 1501]
type = S
movetype = A
physics = N
anim = 1510
juggle = 0
ctrl = 0
velset = 0,0

[State 1201, vel]
type = Velset
trigger1 = 1
x = 5

[State 1201, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1201, speed]
type = Explod
trigger1 = AnimElem = 1
anim = 1206
ID = 1206
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 15
ignorehitpause = 1

[State 1201, speed]
type = Explod
trigger1 = AnimElem = 1
anim = 4010
ID = 4010
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 1
ownpal = 1
removeongethit = 1
removetime = 40
ignorehitpause = 1

[State 630, 2]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 6
value = 0,1


[State 1201, hit1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 45,10
animtype = hard
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-10
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -5
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit2]
type = HitDef
trigger1 = animelem = 7
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -15,-10
hitsound = S0,7
guardsound = S3,0
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -5
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, dust]
type = Explod
trigger1 = time = 0
anim = 8100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[state 1201, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
ignorehitpause = 1

[state 1201, shake]
type = envshake
trigger1 = moveguarded = 1
time = 8
freq = 100
ampl = 3

[State 0, VelSet]
type = VelSet
trigger1 =animtime = 0
x = 0
y = 0
;ignorehitpause =
;persistent =


[State 1201, end]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl=1


            ;----------------------------------------------------------

[Statedef 1550]
type = S
movetype = A
physics = S
anim = 1500
velset = 0,0
juggle = 10
poweradd = 100
ctrl = 0

[State 1200, nothit]
type = NotHitBy
trigger1 = animelem = 3
value = SCA
time = 8

[State 1200, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,2

[State 1200, 4]
type = ChangeState
trigger1 = animtime = 0
value = 1551

;---------------------------突進
[Statedef 1551]
type = S
movetype = A
physics = N
anim = 1550
juggle = 0
ctrl = 0
velset = 0,0

[State 1201, vel]
type = Velset
trigger1 = 1
x = 5

[State 1201, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1201, speed]
type = Explod
trigger1 = AnimElem = 1
anim = 1206
ID = 1206
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 15
ignorehitpause = 1

[State 1201, speed]
type = Explod
trigger1 = AnimElem = 1
anim = 4010
ID = 4010
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 1
ownpal = 1
removeongethit = 1
removetime = 55
ignorehitpause = 1

[State 630, 2]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 6
trigger3 = AnimElem = 11
value = 0,1

[State 1201, hit1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 45,10
animtype = hard
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -10,-10
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -5
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit2]
type = HitDef
trigger1 = animelem = 7
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -15,-10
hitsound = S0,7
guardsound = S3,0
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -5
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit2]
type = HitDef
trigger1 = animelem = 12
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = L
sparkno = s4150
guard.sparkno = s4500
sparkxy = -25,-10
hitsound = S0,7
guardsound = S3,0
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -8,-1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5
fall=1

[State 1201, dust]
type = Explod
trigger1 = time = 0
anim = 8100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[state 1201, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
ignorehitpause = 1

[state 1201, shake]
type = envshake
trigger1 = moveguarded = 1
time = 8
freq = 100
ampl = 3

[State 0, VelSet]
type = VelSet
trigger1 =animtime = 0
x = 0
y = 0
;ignorehitpause =
;persistent =


[State 1201, end]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl=1

;;;---------------------------------------------------------------
;------------------------------------------------
;;----------------------スラッシュダウンキック(弱)

[Statedef 1800]
type    = A
movetype =  A
physics = n
juggle = 1
ctrl = 0
poweradd = 0
anim = 1800

[state 1800, 0]
type = velset
trigger1 = time <= 10
x = 0
y = 0

[State 1800, 1]
type = VelSet
trigger1 = animelem = 3
x = 8
y = 12

[State 1800, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 7, 3

[State 1800, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 5


[State 1800, hit]
type = Hitdef
trigger1 = AnimElem = 3
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = 35, 10
pausetime = 12,13
guard.pausetime = 12,13
sparkno = s4200
guard.sparkno = s4500
sparkxy = -10, -17
hitsound = S0,8
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 21
ground.hittime = 21
air.hittime = 21
guard.ctrltime = 21
ground.velocity = -11
guard.velocity = -10.5
air.velocity = -5.5,8
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -14.7
getpower = 120,40
givepower = 35, 35
persistent = 0
fall = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5
envshake.time = 8
envshake.ampl = 3



[State 1800, ]
type = Hitdef
trigger1 = AnimElem = 4
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = 35, 10
pausetime = 12,13
guard.pausetime = 12,13
sparkno = s4200
guard.sparkno = s4500
sparkxy = -10, -17
hitsound = S0,8
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 21
ground.hittime = 21
air.hittime = 21
guard.ctrltime = 21
ground.velocity = -11
guard.velocity = -10.5
air.velocity = -5.5,8
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -14.7
getpower = 120,40
givepower = 35, 35
persistent = 0
yaccel = .5
guard.kill = 0
envshake.time = 8
envshake.ampl = 3

[State 1800, end]
type = ChangeState
trigger1 = moveguarded
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

[State 1800, end]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;-----------------------着地
[Statedef 1801]
type = S
movetype = A
physics = S
anim = 1801
velset = 0,0
ctrl = 0

;[State 210, pos]
;type = Velset
;trigger1 = time = 0
;x = 2

[State 1801, Land]
type = PlaySnd
trigger1 = Time = 1
value = 0,2

[State 1801, pos]
type = posset
trigger1 = time = 0
y = 0

[State 1801, landdust1]
type = explod
trigger1 = StateNo = 1801 && Time = 1
postype = p1
pos = -17,0
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5

[State 1801, landdust]
type = explod
trigger1 = StateNo = 1801 && Time = 1
postype = p1
pos = 20,0
facing = -1
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5

[State 1801, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;-----------------------スラッシュダウンキック(強）

[Statedef 1850]
type    = A
movetype =  A
physics = n
juggle = 1
ctrl = 0
poweradd = 0
anim = 1800

[state 1850, 0]
type = velset
trigger1 = time <= 10
x = 0
y = 0

[State 1850, 1]
type = VelSet
trigger1 = animelem = 3
x = 10.1
y = 9.5

[State 1850, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 7, 3

[State 1800, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 5

[State 1850, hit]
type = Hitdef
trigger1 = AnimElem = 3
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = 35, 10
pausetime = 12,13
guard.pausetime = 12,13
sparkno = s4200
guard.sparkno = s4500
sparkxy = -10, -17
hitsound = S0,8
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 21
ground.hittime = 21
air.hittime = 21
guard.ctrltime = 21
ground.velocity = -11
guard.velocity = -10.5
air.velocity = -5.5,8
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -14.7
getpower = 120,40
givepower = 35, 35
persistent = 0
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5
envshake.time = 8
envshake.ampl = 3


[State 1850, ]
type = Hitdef
trigger1 = AnimElem = 4
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = 35, 10
pausetime = 12,13
guard.pausetime = 12,13
sparkno = s4200
guard.sparkno = s4500
sparkxy = -10, -17
hitsound = S0,8
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 21
ground.hittime = 21
air.hittime = 21
guard.ctrltime = 21
ground.velocity = -11
guard.velocity = -10.5
air.velocity = -5.5,8
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -14.7
getpower = 120,40
givepower = 35, 35
persistent = 0
yaccel = .5
envshake.time = 8
envshake.ampl = 3
fall=1


[State 1850, end]
type = ChangeState
trigger1 = moveguarded
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

[State 1850, end]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52
;;;---------------------------------------------------------------------------

[Statedef 6500]
type = S
movetype = A
physics = S
anim = 6850
velset = 0,0
juggle = 10
poweradd = 100
ctrl = 0

[State 1200, nothit]
type = NotHitBy
trigger1 = animelem = 3
value = SCA
time = 8

[State 1200, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,6

[State 1200, 4]
type = ChangeState
trigger1 = animtime = 0
value = 6501

;---------------------------突進
[Statedef 6501]
type = S
movetype = A
physics = N
anim = 6851
juggle = 0
ctrl = 0
velset = 0,0

[State 1201, vel]
type = Velset
trigger1 = 1
x = 12
y = -2

[State 1201, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1201, hit1]
type = HitDef
trigger1 = animelem = 1
attr = A, SA
damage = 45,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit2]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit3]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -12
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall = 1
fall.recover = 0
yaccel = .5
p1stateno = 1202
fall=1

[State 1201, dust]
type = Explod
trigger1 = time = 0
anim = 8100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[state 1201, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
ignorehitpause = 1

[state 1201, shake]
type = envshake
trigger1 = moveguarded = 1
time = 8
freq = 100
ampl = 3



[State 1201, end]
type = ChangeState
trigger1 = Animtime = 0
value = 6505

;-----------------------停止
[Statedef 6505]
type = S
movetype = A
physics = S
anim = 6850
velset = 0,0
ctrl = 0


;[State 1202, pos]
;type = posset
;trigger1 = time = 0
;y = 0

[State 1202, vel]
type = Velset
trigger1 = animelem = 1
x = 3

[State 1202, landdust1]
type = explod
trigger1 = Time = 0
postype = p1
pos = -15,3
spacing = 1
anim = 8100
ownpal = 1
scale = .5, .5

[State 1202, landdust]
type = explod
trigger1 = Time = 0
postype = p1
pos = 30,3
facing = -1
spacing = 1
anim = 8100
ownpal = 1
scale = .5, .5

[State 1202, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 950
ctrl = 1


[Statedef 6515]
type = S
movetype = A
physics = S
anim = 6850
velset = 0,0
juggle = 10
poweradd = 100
ctrl = 0

[State 1200, nothit]
type = NotHitBy
trigger1 = animelem = 3
value = SCA
time = 8

[State 1200, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,6

[State 1200, 4]
type = ChangeState
trigger1 = animtime = 0
value = 6516

;---------------------------突進
[Statedef 6516]
type = S
movetype = A
physics = N
anim = 6851
juggle = 0
ctrl = 0
velset = 0,0

[State 1201, vel]
type = Velset
trigger1 = 1
x = 12
y = -9

[State 1201, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1201, hit1]
type = HitDef
trigger1 = animelem = 1
attr = A, SA
damage = 45,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit2]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit3]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -12
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall = 1
fall.recover = 0
yaccel = .5
p1stateno = 1202
fall=1


[state 1201, shake]
type = envshake
trigger1 = moveguarded = 1
time = 8
freq = 100
ampl = 3


[State 1850, end]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

[State 1201, end]
type = ChangeState
trigger1 = Animtime = 0
value = 6505

;-----------------------停止
;;;---------------------------------------------------------------------------

[Statedef 6600]
type = A
movetype = A
physics = S
anim = 6850
velset = 0,0
juggle = 10
poweradd = 100
ctrl = 0

[State 1200, nothit]
type = NotHitBy
trigger1 = animelem = 3
value = SCA
time = 8

[State 1200, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,6

[State 1200, 4]
type = ChangeState
trigger1 = animtime = 0
value = 6601

;---------------------------突進
[Statedef 6601]
type = S
movetype = A
physics = N
anim = 6851
juggle = 0
ctrl = 0
velset = 0,0

[State 1201, vel]
type = Velset
trigger1 = 1
x = 12
y = 2

[State 1201, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1201, hit1]
type = HitDef
trigger1 = animelem = 1
attr = A, SA
damage = 45,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit2]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit3]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -12
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall = 1
fall.recover = 0
yaccel = .5
p1stateno = 1202
fall=1

[State 1201, dust]
type = Explod
trigger1 = time = 0
anim = 8100
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[state 1201, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
ignorehitpause = 1

[state 1201, shake]
type = envshake
trigger1 = moveguarded = 1
time = 8
freq = 100
ampl = 3

[State 1850, end]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52


[State 1201, end]
type = ChangeState
trigger1 = Animtime = 0
value = 6505

[Statedef 6615]
type = S
movetype = A
physics = S
anim = 6850
velset = 0,0
juggle = 10
poweradd = 100
ctrl = 0

[State 1200, nothit]
type = NotHitBy
trigger1 = animelem = 3
value = SCA
time = 8

[State 1200, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,6

[State 1200, 4]
type = ChangeState
trigger1 = animtime = 0
value = 6616

;---------------------------突進
[Statedef 6616]
type = S
movetype = A
physics = N
anim = 6851
juggle = 0
ctrl = 0
velset = 0,0

[State 1201, vel]
type = Velset
trigger1 = 1
x = 12
y = 9

[State 1201, Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,0

[State 1201, hit1]
type = HitDef
trigger1 = animelem = 1
attr = A, SA
damage = 45,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit2]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 8,9
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -1
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall.recover = 0
yaccel = .5

[State 1201, hit3]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
damage = 30,10
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -5,-35
hitsound = S0,7
guardsound = S3,0
pausetime = 6,7
ground.hittime = 17
ground.type = high
ground.slidetime = 12
ground.velocity = -12
guard.velocity = -8
air.velocity = -10,-3
air.fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 6
yaccel = 0.5
fall = 1
fall.recover = 0
yaccel = .5
p1stateno = 1202
fall=1


[state 1201, shake]
type = envshake
trigger1 = moveguarded = 1
time = 8
freq = 100
ampl = 3


[State 1850, end]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

[State 1201, end]
type = ChangeState
trigger1 = Animtime = 0
value = 6505




;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\ginyu\hypers.cns}
;==============================================================================

;================================================================================
;                         超必殺技
;================================================================================

;============================================================
;                        ギャリック砲
;============================================================

[Statedef 2000]
type = S
movetype = A
physics = N
anim = 2000
poweradd = -1000
velset = 0,0
ctrl = 0

[State 2000, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2000, super pause]
type = superpause
trigger1 = time = 4
time = 40
movetime = 40
anim = -1

[State 2000, Aura1]
type = Explod
trigger1 = animelem = 2
anim = 2060
sprpriority = 5
postype = p1
pos = 52,20;12,8
bindtime = 1
removetime = 12
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, Aura3]
type = Explod
trigger1 = animelem = 14
anim = 2060
sprpriority = 5
postype = p1
pos = 33,11;-7,-1
bindtime = 1
removetime = 20
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, ki3]
type = Explod
trigger1 = animelem = 2
anim = 2010
sprpriority = 4
postype = p1
pos = 45, 25; 0,7
ownpal = 1
bindtime = -1
removetime = 32
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = -15,0
bindtime = -1
sprpriority = 4
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2000, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0

[State 2000, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 30
value = 3250,0

[State 2000, voice];『ギャリックほー！』
type = PlaySnd
trigger1 = AnimElem = 10
value = 1000,1
volume = 255

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 26
anim = 2055
sprpriority = 3
postype = p1
pos = 23,-15
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 30
anim = 2050
sprpriority = 2
postype = p1
pos = 10,-13
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2000, hit]
type = Projectile
trigger1 = AnimElem = 31
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 47
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,-16
attr = S, SP
damage = 60, 20
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s1051
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -55
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0

[State 2000, hit2]
type = Projectile
trigger1 = time = 78
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -0,-16
damage = 100, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -66
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1

[State 2000, dust]
type = explod
trigger1 = time = 50
anim = 4040
pos = 25,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 2000, dust]
type = explod
trigger1 = animelem = 31
anim = 4030
pos = 55,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 11.5
ignorehitpause = 1

[State 2000, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;============================================================
;                       空中ギャリック砲
;============================================================
[Statedef 2100]
type = A
movetype = A
physics = S
anim = 2100
poweradd = -1000
velset = 0,0
ctrl = 0

[State 2100, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2100, super pause]
type = superpause
trigger1 = time = 4
time = 40
movetime = 40
anim = -1

[State 2000, Aura1]
type = Explod
trigger1 = animelem = 2
anim = 2060
sprpriority = 5
postype = p1
pos = 59,0
bindtime = 1
removetime = 12
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, Aura2]
type = Explod
trigger1 = animelem = 14
anim = 2060
sprpriority = 5
postype = p1
pos = 47,-10
bindtime = 1
removetime = 20
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, ki3]
type = Explod
trigger1 = animelem = 2
anim = 2010
sprpriority = 4
postype = p1
pos = 55,7
ownpal = 1
bindtime = -1
removetime = 32
removeongethit = 1
supermove = 1
ownpal = 1

[State 2100, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0

[State 2100, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 30
value = 3250,0

[State 2100, voice];『ギャリックほー！』
type = PlaySnd
trigger1 = AnimElem = 10
value = 1000,1
volume = 255

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 45
anim = 2055
sprpriority = 3
postype = p1
pos = 17,-28
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1


[State 2100, proj]
type = Explod
trigger1 = AnimElem = 45
anim = 2050
sprpriority = 2
postype = p1
pos = 8,-27
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2100, hit]
type = Projectile
trigger1 = AnimElem = 45
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 47
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -10,-29
attr = S, SP
damage = 60, 20
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s1051
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -55
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 0
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0

[State 2100, hit2]
type = Projectile
trigger1 = time = 78
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -10,-29
damage = 100, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -66
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 0
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1

[State 2100, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 950
ctrl = 1


;============================================================
;                      超爆発波
;============================================================
 [Statedef 2200]
type = A
movetype = A
physics = N
anim = 2200
poweradd = -3000
velset = 0,0
ctrl = 0
juggle = 1
sprpriority = 2


[State 0, ChangeState]
type = ChangeState
trigger1 = var(14)=0
value = 2300
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 2800, muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 105



[state 2200, super a]
type = superpause
trigger1 = time = 0
time = 25
anim = -1

[State 2200, Aura1]
type = Explod
trigger1 = animelem = 1
anim = 1225
sprpriority = 5
postype = p1
pos = 0,0
bindtime = -1
removetime = 52
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, Aura2]
type = Explod
trigger1 = animelem = 1
anim = 2700
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
removetime = 40
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = -25,0
bindtime = -1
sprpriority = 5
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2200, 1];『溜める音』
type = PlaySnd
trigger1 = time = 1
value = 20,0


[State 2200, 1];『かめはめ波〜！』
type = PlaySnd
trigger1 = AnimElem = 4
value = 3250,0

[State 2300, proj]
type = Explod
trigger1 = animelem = 4
anim = 2500
sprpriority = 3
postype = p1
pos = 2,-15
bindtime = -1
removetime = 50
removeongethit = 1
;supermove = 1
ownpal = 1

[State 2300, proj]
type = Explod
trigger1 = animelem = 4
anim = 2206
sprpriority = 3
postype = p1
pos = 2,-15
bindtime = -1
removetime = 50
removeongethit = 1
ownpal = 1

[State 2200, 3]
type = Projectile
trigger1 = AnimElem = 4
projanim = 2205
projhitanim = -1;1221
projID = 2200
ID = 2202
projremove = 0
projremovetime = 50
velocity = 0
projshadow = 150,150,150
attr = S, HP
projhits = 1
projpriority = 5
postype = p1
offset = 15,3
attr = S, SP
damage = 20, 20
animtype = heavy
p2stateno = 2202
hitflag = MAF
guardflag = MA
sparkno = s1051
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -70
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 20,13
ground.hittime = 75
ground.type = high
ground.slidetime = 15
ground.velocity = 0
air.velocity = -12,-4
air.fall = 1
fall=0
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1

[State 0, VarSet]
type = VarSet
trigger1 = ProjHit = 1
v = 48    ;fv = 10
value = enemy, life


[State 0, VarSet]
type = VarSet
trigger1 = ProjHit = 1
v = 45  ;fv = 10
value = 1


[State 0, VarSet]
type = VarSet
trigger1 = ProjHit = 1
v = 47    ;fv = 10
value = enemy, power

[State 2200, dust]
type = explod
trigger1 = animelem = 4;time = 25
anim = 4040
pos = 17,5
sprpriority = 5
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33


[State 0, Helper]
type = Helper
trigger1 = ProjHit = 1
helpertype = normal ;player
name = "gin"
ID = 7000
stateno = 2201
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemove

[State 0, Helper]
type = Helper
trigger1 = ProjHit = 1
helpertype = normal ;player
name = "p2"
ID = 7001
stateno = 2203
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1



[State 2350, bg]
type = assertspecial
trigger1 = ProjHit = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[state 2350, speedline1]
type = explod
trigger1 = ProjHit = 1
anim = 4005
postype = back
pos = 0,0
bindtime = -1
supermove = 1
sprpriority = -1
ontop = 0
ownpal = 1
loop = 1
removetime = 275
scale = 1.075, 1.075

[state 2200, speedline2]
type = explod
trigger1 = ProjHit = 1
anim = 4006
postype = back
pos = 340,0
bindtime = -1
supermove = 1
sprpriority = 0
ontop = 0
ownpal = 1
loop = 1
removetime = 275
scale = 1.075, 1.075
facing = -1

;[State 0, HitOverride]
;type = HitOverride
;triggerall = var(14) != [6, 7]
;trigger1 = AnimElem = 1
;attr = SCA,AA
;stateno = 75000
;time = 350
;slot = 0

;[State 0, HitOverride]
;type = HitOverride
;triggerall = var(14) != [6, 7]
;trigger1 = AnimElem = 1
;attr = SCA,AP
;stateno = 75000
;time = 350
;slot = 1



[State 2200, 3]
type = ChangeState
trigger1 = projguarded = 1
value = 2209


[State 2200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------
[Statedef 2201]
type = S
physics = S
anim = 2201
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, PalFX]
type = PalFX
trigger1 = AnimElem = 1
time = 50
add = 100,100,100
mul = 256,256,256
;sinadd = 0,0,0,10
invertall = 0
color = 256

[State 0, AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = -1

[State 361, vel]
type = velset
trigger1 = Time = [10,25]
x = 10

[State 361, vel]
type = velset
trigger1 = P2dist X < 0
x = 0

[State 361, dust]
type = Explod
trigger1 = AnimElem = 3
anim = 4010
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .7, .7

[State 2200, 3]
type = ChangeState
triggerall = roundstate = 2
triggerall =  time > 60
trigger1 = Vel X = 0
value = 2204

;----------------------------------------
[Statedef 2202]
type = S
physics = S
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
;ignorehitpause =
;persistent =



[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 2202

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Songoku"
value =  73100

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Android 16"
value =  73000


[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Cell"
value =  73200

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Buu"
value =  72900

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Mr Satan"
value =  83000

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Piccolo"
value =  83200

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Frieza"
value =  72200

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
triggerall = !ishelper
trigger1 = Name = "Burter"
value =  72300

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
triggerall = ishelper
trigger1 = Name = "Burter"
value =  82003

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Songohan"
value =  85000

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "SSJ2 Gohan"
value =  70942

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Android 18"
value =  71052

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Trunks"
value =  82000

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Captain Ginyu"
value =  72000

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Vegeta"
value =  84000

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Krillin"
value =  82300

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Dr Gero"
value =  73050

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Fat Buu"
value =  82200


[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Kid Gohan"
value =  82400

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Dabura"
value =  83201

[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Recoom"
value =  72015


[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "Insect Cell"
value =  82280


[State 0, ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Name = "TenShinHan"
value =  82250



[State 2202 2]
type = lifeset
triggerall = var(14)=0
trigger1 = time = 15
value = enemynear(0), life

[State 2202, 2]
type = powerset
triggerall = var(14)=0
trigger1 = time = 15
value = enemynear(0), power


;[State 0, ChangeState]
;type = ChangeState
;trigger1 = AnimTime = 0
;value =  89000

[State 200, 7]
type = SelfState
trigger1 = animTime =0
value = 0
ctrl = 1


;-----------------------------------------------


[Statedef 2203]
type = S
physics = S
;anim= 2203
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Songoku" || p4name = "Songoku"
var(14) = 1

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Piccolo" || p4name = "Piccolo"
var(14) = 2

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Cell" || p4name = "Cell"
var(14) = 3

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Frieza" || p4name = "Frieza"
var(14) = 4

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Vegeta" || p4name = "Vegeta"
var(14) = 5

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Android 18" || p4name = "Android 18"
var(14) = 6

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Android 16" || p4name = "Android 16"
var(14) = 8

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Trunks" || p4name = "Trunks"
var(14) = 7

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Burter" || p4name = "Burter"
var(14) = 9

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Mr Satan" || p4name = "Mr Satan"
var(14) = 10

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Buu" || p4name = "Buu"
var(14) = 11

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Dr Gero" || p4name = "Dr Gero"
var(14) = 12

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Krillin" || p4name = "Krillin"
var(14) = 13

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Captain Ginyu" || p4name = "Captain Ginyu"
var(14) = 14

[State 2203, detect]
type = VarSet
trigger1 = p2name = "Songohan" || p4name = "Songohan"
var(14) = 15

[State -2, detect]
type = VarSet
trigger1 = p2name = "Fat Buu" || p4name = "Fat Buu"
var(14) = 16

[State -2, detect]
type = VarSet
trigger1 = p2name = "Kid Gohan" || p4name = "Kid Gohan"
var(14) = 17

[State -2, detect]
type = VarSet
trigger1 = p2name = "Dabura" || p4name = "Dabura"
var(14) = 18

[State -2, detect]
type = VarSet
trigger1 = p2name = "Recoom" || p4name = "Recoom"
var(14) = 19

[State -2, detect]
type = VarSet
trigger1 = p2name = "Insect Cell" || p4name = "Insect Cell"
var(14) = 20

[State -2, detect]
type = VarSet
trigger1 = p2name = "TenShinHan" || p4name = "TenShinHan"
var(14) = 21


[State 2203, detect]
type = VarSet
trigger1 = p2name = "SSJ2 Gohan" || p4name = "SSJ2 Gohan"
var(14) = 25





[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=14
value = 2203

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=1
value = 2210

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=7
value = 2211

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=5
value = 2212

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=2
value = 2213

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=4
value = 2214

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=8
value = 2215

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=3
value = 2216

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=11
value = 2217

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=10
value = 2218

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=6
value = 2219

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=15
trigger2 = var(14)=25
value = 2220

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=9
value = 2221

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=13
value = 2222

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=12
value = 2223

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=16
value = 2224

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=17
value = 2225

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=18
value = 2226

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=19
value = 2227

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=20
value = 2228


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=21
value = 2229



[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(14)=0
trigger1 = time = 0
value = 2230



[State 0, PalFX]
type = PalFX
trigger1 = AnimElem = 1
time = 50
add = 100,100,100
mul = 256,256,256
invertall = 0
color = 256

[State 0, AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = -1

[State 361, vel]
type = velset
trigger1 = Time = [10,25]
x = 10

[State 361, vel]
type = velset
trigger1 = Parentdist X < 0
x = 0


[State 361, dust]
type = Explod
trigger1 = AnimElem = 3
anim = 4010
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .7, .7

[State 2200, 3]
type = ChangeState
triggerall = roundstate = 2
triggerall =  time > 60
trigger1 = Vel X = 0
value = 2204


;;-----------------------------------

[Statedef 2204]
type = S
physics = S
anim= 2204
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, Turn]
type = Turn
trigger1 = animelem =1

[State 0, BindToParent]
type = BindToParent
triggerall = IsHelper(7001)
trigger1 = p2movetype != A
;time = 1
;facing = 0
;pos = 0,0
;ignorehitpause =
;persistent =


[State 2200, 3]
type = ChangeState
triggerall = IsHelper(7000)
triggerall = time >= 15
triggerall = p2life > 1
trigger1 = p2movetype != A
value = 2205


[State 2200, 3]
type = ChangeState
triggerall = IsHelper(7001)
triggerall = time >= 15
triggerall = p2life > 1
trigger1 = p2movetype != A
value = 2206

[State 0, DestroySelf]
type = DestroySelf
trigger1 = p2life <= 1
;ignorehitpause =
;persistent =


;;;--------------------------------------------------------
[Statedef 2205]
type = S
physics = S
anim = 2201
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, PalFX]
type = PalFX
trigger1 = AnimElem = 1
time = 50
add = 100,100,100
mul = 256,256,256

invertall = 0
color = 256

[State 0, AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = -1

[State 361, vel]
type = velset
trigger1 = Time = [10,25]
x = 10

[State 361, vel]
type = velset
trigger1 = Parentdist X < 0
x = 0

[State 361, dust]
type = Explod
trigger1 = AnimElem = 3
anim = 4010
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .7, .7

[State 0, DestroySelf]
type = DestroySelf
triggerall =  time > 60
trigger1 = Vel X = 0

;-------------------------------------------------------
[Statedef 2206]
type = S
physics = S
;anim= 2203
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0



[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=14
value = 2203

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=1
value = 2210

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=7
value = 2211

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=5
value = 2212

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=2
value = 2213

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=4
value = 2214

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=8
value = 2215

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=3
value = 2216

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=11
value = 2217

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=10
value = 2218

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=6
value = 2219

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=15
trigger2 = var(14)=25
value = 2220

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=9
value = 2221

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=13
value = 2222

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=12
value = 2223

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=16
value = 2224

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=17
value = 2225

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(14)=18
value = 2226




[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(14)=0
trigger1 = time = 0
value = 2230



[State 0, PalFX]
type = PalFX
trigger1 = AnimElem = 1
time = 50
add = 100,100,100
mul = 256,256,256
invertall = 0
color = 256

[State 0, AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = -1

[State 361, vel]
type = velset
trigger1 = Time = [10,25]
x = 10

[State 361, vel]
type = velset
trigger1 = P2dist X < 0
x = 0

[State 361, dust]
type = Explod
trigger1 = AnimElem = 3
anim = 4010
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .7, .7

[State 0, DestroySelf]
type = DestroySelf
triggerall =  time > 60
trigger1 = Vel X = 0


[Statedef 2209]
type = S
physics = S
;anim= 2203
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, Helper]
type = Helper
triggerall = var(16) = 0
triggerall = anim != 2209
trigger1 = numhelper(7000)<=0
helpertype = player
name = "frog"
ID = 6000
stateno = 0
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 0
size.xscale =1.0869565
size.yscale =1
supermove
pausemove
persistent = 1




[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 2209
trigger1 = numhelper(7000)<=0
value = 2209

[State 0, Turn]
type = Turn
trigger1 = p2bodydist X < -35
;ignorehitpause =
;persistent =




;;;---------------------------------------------------------------------
 [Statedef 2300]
type = A
movetype = A
physics = N
anim = 2300
poweradd = -1000
velset = 0
ctrl = 0
juggle = 1
sprpriority = 2


[State 2800, muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 45


[state 2200, super a]
type = superpause
trigger1 = time = 0
time = 25
anim = -1

[State 2200, Aura1]
type = Explod
trigger1 = animelem = 1
anim = 1225
sprpriority = 5
postype = p1
pos = 0,0
bindtime = -1
removetime = 52
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, Aura2]
type = Explod
trigger1 = animelem = 1
anim = 2700
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
removetime = 40
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = -25,0
bindtime = -1
sprpriority = 5
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2200, 1];『溜める音』
type = PlaySnd
trigger1 = time = 2
value = 20,0


[State 2200, 1];『かめはめ波〜！』
type = PlaySnd
trigger1 = AnimElem = 4
value = 3250,0

[State 2300, proj]
type = Explod
trigger1 = animelem = 4
anim = 2500
sprpriority = 3
postype = p1
pos = 2,-15
bindtime = -1
removetime = 50
removeongethit = 1
;supermove = 1
ownpal = 1

[State 2300, proj]
type = Explod
trigger1 = animelem = 4
anim = 2206
sprpriority = 3
postype = p1
pos = 2,-15
bindtime = -1
removetime = 50
removeongethit = 1
ownpal = 1

[State 2200, 3]
type = Projectile
trigger1 = AnimElem = 4
projanim = 2205
projhitanim = -1;1221
projID = 2200
projremove = 0
projremovetime = 50
velocity = 0
projshadow = 150,150,150
attr = S, HP
projhits = 1
projpriority = 5
postype = p1
offset = 15,3
attr = S, SP
damage = 20, 20
animtype = heavy
p2stateno = 2302
hitflag = MAF
guardflag = MA
sparkno = s1051
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -70
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 20,13
ground.hittime = 75
ground.type = high
ground.slidetime = 15
ground.velocity = 0
air.velocity = -12,-4
air.fall = 1
fall=0
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1

[State 0, VarSet]
type = VarSet
trigger1 = ProjHit = 1
v = 48    ;fv = 10
value = enemy, life

[State 0, VarSet]
type = VarSet
trigger1 = ProjHit = 1
v = 47    ;fv = 10
value = enemy, power

[State 2200, dust]
type = explod
trigger1 = animelem = 4;time = 25
anim = 4040
pos = 17,5
sprpriority = 5
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33


[State 0, Helper]
type = Helper
trigger1 = ProjHit = 1
helpertype = normal ;player
name = "gin"
ID = 7000
stateno = 2201
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemove

[State 0, Helper]
type = Helper
trigger1 = ProjHit = 1
helpertype = normal ;player
name = "p2"
ID = 7001
stateno = 2203
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 2350, bg]
type = assertspecial
trigger1 = ProjHit = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 4000, 2]
type = lifeset
triggerall = ProjHit2200 = 1, < 35
trigger1 = AnimTime = 0
value = var(48)
;value = target, life

[State 4000, 2]
type = powerset
triggerall = ProjHit2200 = 1, < 35
trigger1 = AnimTime = 0
value = var(47)

[State 2200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2302]
type = S
physics = S
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 2202


[State 2202 2]
type = lifeset
triggerall = var(14)=0
trigger1 = time = 15
value = enemynear(0), life

[State 2202, 2]
type = powerset
triggerall = var(14)=0
trigger1 = time = 15
value = enemynear(0), power


;[State 0, ChangeState]
;type = ChangeState
;trigger1 = AnimTime = 0
;value =  89000

[State 200, 7]
type = SelfState
trigger1 = animTime =0
value = 0
ctrl = 1


;;;----------------------------------------------------------------------
[Statedef 2400]
type = S
movetype = A
physics = S
anim = 2400
poweradd = -2000
sprpriority = 2
velset = 0,0
ctrl = 0
juggle = 15

;add aurasound
[State 2800, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,1

               ;add aurasound
[State 2800, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,3
volume = 255

[state 2800, pause]
type = superpause
trigger1 = time = 0
time = 120
anim = -1
movetime = 120

[State 2800, shake]
type = EnvShake
trigger1 = animelem = 3
time = 130
freq = 120
ampl = 3

[State 2800, Aura1]
type = Explod
trigger1 = animelem = 1
anim = 1950
sprpriority = 1
postype = p1
pos = 5,2
bindtime = -1
removetime = 114
removeongethit = 1
supermove = 1

[State 2800, Aura2]
type = Explod
trigger1 = time = 114
anim = 1951
sprpriority = 1
postype = p1
pos = 5,2
bindtime = -1
removetime = 6
removeongethit = 1
supermove = 1

[State 2400, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 2401


[Statedef 2401]
type = S
movetype = A
physics = S
anim = 2401
;poweradd = 100
velset = 30
ctrl = 0
juggle = 5


[State 100, dust]
type = Explod
trigger1 = AnimElem = 2
anim = 4010
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1

[State 100, 0]
type = PlaySnd
trigger1 = time = 1
value = 100,0
channel = 1

[State 100, 0]
type = PlaySnd
trigger1 = time = 1
value = 1000,5




[state 2400, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HT
damage = 0
animtype = hard
hitflag = MAF
guardflag = P
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-60
hitsound = s800,0
guardsound = -1
pausetime = 0,0
p1stateno = 2402
p2stateno = 2410
p1facing = ifelse (command = "holdfwd", -1, 1)
p2facing = 1

[state 2400, voice]
type = PlaySnd
trigger1 = time = 6
value = 5000,0

[state 2400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------掴んだ！

[Statedef 2402]
type = S
physics = S
anim = 2402
poweradd = 0
velset = 0
ctrl = 0
sprpriority = 2

[State 2350, bg]
type = assertspecial
trigger1 = time = 0
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[state 2350, speedline1]
type = explod
trigger1 = time = 0
anim = 4005
postype = back
pos = 0,0
bindtime = -1
supermove = 1
sprpriority = -1
ontop = 0
ownpal = 1
loop = 1
removetime = 175
scale = 1.075, 1.075

[state 2200, speedline2]
type = explod
trigger1 = time = 0
anim = 4006
postype = back
pos = 340,0
bindtime = -1
supermove = 1
sprpriority = 0
ontop = 0
ownpal = 1
loop = 1
removetime = 175
scale = 1.075, 1.075
facing = -1



[State 1350, hole]
type = Explod
trigger1 = time = 0
removetime = 165
anim = 4802
ID = 4802
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 00
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 1361, emerge]
type = Explod
trigger1 = time = 140
removetime = 34
anim = 4803
ID = 4803
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State 1361, blast]
type = Explod
trigger1 = time = 140
removetime = 57
anim = 4850
ID = 4850
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[state 2401, width]
type = width
trigger1 = 1
edge = 30,0

[state 2401, target1]
type = targetbind
trigger1 = time = 0
trigger2 = animelem = 1
pos = 35,0

[state 2401, target2]
type = targetbind
trigger1 = animelem = 2
pos = 25,0

[state 2401, target3]
type = targetbind
trigger1 = animelem = 3
pos = 25,0

[state 2401, snd];swing
type = playsnd
trigger1 = animelem = 4
value = 0,4
volume = 255

[state 2401, voice]
type = PlaySnd
trigger1 = time = 13
value = 200,4

[state 2401, grabspark]
type = Explod
trigger1 = animelem = 5
anim = 4450
ID = 800
postype = p1
pos = 40,-75
bindtime = 1
sprpriority = 3
ownpal = 1

[state 2401, quake]
type = EnvShake
trigger1 = time = 48
time = 12
ampl = 6
freq = 120

[state 2401, slamspark]
type = Explod
trigger1 = time = 48;p2stateno = 5100
anim = 4400
ID = 4400
postype = p2
pos = 30,-25
bindtime = 1
sprpriority = 1
ownpal = 1
removetime = 11
removeongethit = 0
ignorehitpause = 1

[state 2401, snd];slam
type = playsnd
trigger1 = time = 48 && P2Stateno = 5100
value = 800,1
volume = -100
persistent = 1

;[state 2410,turn]
;type = Turn
;trigger1 = animtime = 0


[State 0, HitAdd]
type = HitAdd
trigger1 = time = 70
trigger2 = time = 85
trigger3 = time = 100
trigger4 = time = 110
trigger5 = time = 120
trigger6 = time = 130
trigger7 = time = 140
value = 1
;ignorehitpause =
;persistent =



[state 2401, snd];swing
type = playsnd
trigger1 = time= 110
trigger2 = time= 130
;trigger3 = time= 120
value = 0,6
volume = 255

[state 2401, snd];swing
type = playsnd
trigger1 = time= 70
trigger2 = time= 85
;trigger3 = time= 100
value = 0,7
volume = 255

[state 2401, snd];swing
type = playsnd
trigger1 = time= 100
trigger2 = time= 120
;trigger3 = time= 140
value = 0,8
volume = 255

[state 2401, snd];swing
type = playsnd
trigger1 = time= 140
;trigger2 = time= 130
;trigger3 = time= 120
value = 1,1
volume = 255





[state 2401, slamspark]
type = Explod
trigger1 = time= 70
trigger2 = time= 85
trigger3 = time= 100
trigger4 = time = 110
trigger5 = time = 120
trigger6 = time = 130
trigger7 = time = 140
anim = 4400
ID = 4400
postype = p1
pos = 0,-25
bindtime = 1
sprpriority = 1
ownpal = 1
removetime = 11
removeongethit = 0
ignorehitpause = 1


[state 2401, state]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------喰らう人
[Statedef 2410]
type = A
movetype = H
physics = N
poweradd = 0
velset = 0
ctrl = 0
facep2 = 1
sprpriority = 1

[state 2410, screen]
type = ScreenBound
trigger1 = 1
value = 0

[state 2410, anim]
type = changeanim2
trigger1 = time = 0
value = 810

[state 2410, 39]
type = ChangeState
trigger1 = AnimTime = 0
value = 2411


;--------------------吹っ飛び
[Statedef 2411]
type = A
movetype = H
physics = N
velset = 0,0

[State 3010, screen]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[state 2411, 2]
type = Velset
trigger1 = time = 80
y = -6.6

[state 2411, 2]
type = Velset
trigger1 = time = 85
y = 0


[state 2411, 2]
type = Velset
trigger1 = time = 120
y = -15


[state 2411, 2]
type = Velset
trigger1 = time = 155
y = 20.6


[state 2411, vel]
type = veladd
trigger1 = time = 125
;trigger1 = Vel Y > 0
t;rigger1 = Pos Y >= 0
x = -0.5

[state 2411, life]
type = lifeadd
trigger1 = time= 40
trigger2 = time= 55
trigger3 = time= 70
trigger4 = time = 80
trigger5 = time = 90
trigger6 = time = 100
kill = 0
value = -40

[state 2411, life]
type = lifeadd
trigger1 = time = 110
kill = 1
value = -140



;[state 2411, life]
;type = lifeadd
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
;kill = 1
;value = -50

[State 2411, 4]
type = ChangeAnim2
trigger1 = Time = 0
value = 75051

[State 2411, 5]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100


;---------------------------立ち弱パンチ
[Statedef 6200]
type = S
movetype = A
physics = S
anim = 200
poweradd = 20
juggle = 10
velset = 0
ctrl = 0
facep2 = 1

[State 0, Helper]
type = Helper
triggerall = time = 0
trigger1 = numhelper(6000)<=0
helpertype = player
name = "frog"
ID = 6000
stateno = 0
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 0
size.xscale =1.0869565
size.yscale =1
supermove
pausemove
persistent = 1


[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,0

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20
animtype = light
hitflag = MAF
guardflag = MA
sparkno = s4100
guard.sparkno = s4500
sparkxy = 0,-60
hitsound = S0,5
guardsound = S3,0
pausetime = 12,12
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = high
air.velocity = -1.4,-3
air.hittime = 12

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\ginyu\bodychange.cns}
;==============================================================================

;---------------------------------------------------
;;---------------------------
;;Ginyu  State 2000
;;---------------------------
;---------------------------------------------------
[Statedef 72000]
type = S
movetype = A
physics = N
anim = 2000
poweradd = -1000
velset = 0
ctrl = 0

[State 2000, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2000, super pause]
type = superpause
trigger1 = time = 4
time = 40
movetime = 40
anim = -1

[State 2000, Aura1]
type = Explod
trigger1 = animelem = 2
anim = 2060
sprpriority = 5
postype = p1
pos = 52,20;12,8
bindtime = 1
removetime = 12
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, Aura3]
type = Explod
trigger1 = animelem = 14
anim = 2060
sprpriority = 5
postype = p1
pos = 33,11;-7,-1
bindtime = 1
removetime = 20
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, ki3]
type = Explod
trigger1 = animelem = 2
anim = 2010
sprpriority = 4
postype = p1
pos = 45, 25; 0,7
ownpal = 1
bindtime = -1
removetime = 32
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = -15,0
bindtime = -1
sprpriority = 4
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2000, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0

[State 2000, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 30
value = 3250,0

[State 2000, voice];『ギャリックほー！』
type = PlaySnd
trigger1 = AnimElem = 10
value = 1000,1
volume = 255

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 45
anim = 2055
sprpriority = 3
postype = p1
pos = 23,-15
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 45
anim = 2050
sprpriority = 2
postype = p1
pos = 10,-25
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2000, hit]
type = Projectile
trigger1 = AnimElem = 45
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 47
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,-16
attr = S, SP
damage = 60, 20
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s1051
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -55
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[State 2000, hit2]
type = Projectile
trigger1 = time = 78
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -0,-16
damage = 100, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -66
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0

[State 2000, dust]
type = explod
trigger1 = time = 50
anim = 4040
pos = 25,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 2000, dust]
type = explod
trigger1 = animelem = 45
anim = 4030
pos = 55,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 11.5
ignorehitpause = 1


[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power

[State 2000, 3]
type = selfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------
;---------------------------------------------------
;  Recoom state 2000
;---------------------------------------------------
;---------------------------------------------------

[Statedef 72015]
type = S
movetype = A
physics = S
anim = 2000
poweradd = -1000
velset = 0
ctrl = 0
juggle = 1
sprpriority = 2

[State 2000, voice];『ギャリックほー！』
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,9
volume = 255


[State 2000, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2000, super pause]
type = superpause
trigger1 = time = 10
time = 44
movetime = 44
anim = -1

[State 2000, Aura3]
type = Explod
trigger1 = animelem = 3
anim = 2060
sprpriority = 5
postype = p1
pos = 31,-22;-7,-1
bindtime = 1
removetime = 38
removeongethit = 1
supermove = 1
ownpal = 1


[State 2000, ki3]
type = Explod
trigger1 = animelem = 3
anim = 2010
sprpriority = 4
postype = p1
pos = 22, -124; 0,7
ownpal = 1
bindtime = -1
removetime = 38
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, dust]
type = Explod
trigger1 = AnimElem = 3
anim = 4025
ID = 4025
postype = p1
pos = -15,0
bindtime = -1
sprpriority = 4
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2000, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000,0

[State 2000, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 32
value = 3250,0



[State 2000, proj]
type = Explod
trigger1 = AnimElem = 5
anim = 2020
sprpriority = 5
postype = p1
pos = -18,-29
bindtime = -1
removeongethit = 1
removetime = 70
supermove = 999
ownpal = 1

[State 2000, hit]
type = Projectile
trigger1 = AnimElem = 5
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 47
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
pos = -18,-29
damage = 60, 17
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s1051
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -55
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[State 2000, hit2]
type = Projectile
trigger1 = time = 101
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
pos = -18,-29
damage = 100, 20
projhits = 45
projmisstime = 15
attr = s, sp
animtype = heavy
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -66
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0

[State 2000, dust]
type = explod
trigger1 = time = 56
anim = 4040
pos = 25,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 2000, dust]
type = explod
trigger1 = animelem = 5
anim = 4030
pos = 55,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 11.5
ignorehitpause = 1


[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2000, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------
;;---------------------------
;;Goku  State 3100
;;---------------------------
;---------------------------------------------------
[Statedef 73100]
type = S
movetype = A
physics = S
anim = 3100
velset = 0,0
juggle = 1
poweradd = -3000
ctrl = 0
sprpriority = 2

[State 3100, 8]
type = SuperPause
trigger1 = time = 10;AnimElem = 1
time = 86;80
movetime = 86;80
anim = -1

[State 3100, width]
type = width
trigger1 = 1
edge = 75,0

[State 3100, flash]
type = PalFX
;triggerall = var(10) = 0
trigger1 = time >= 35 && AnimElem = 33 <= 1
trigger1 = TimeMod = 4,0
trigger1 = Time > 0
time = 1
add = 100,100,100
ignorehitpause = 0

[State 3100, 2]
type = NotHitBy
trigger1 = time = 0; && AnimElem = 15 <= 1
value = SCA
time = 97

[State 3100, playsnd1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 20,0

[State 3100, playsnd2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 2001,1

[State 3100, playsnd3];『行っけー！！」
type = PlaySnd
trigger1 = AnimElem = 14
value = 3000,6;2200,1
volume = 255

[State 3100, snd];『鳴声』
type = PlaySnd
trigger1 = AnimElem = 6
value = 3000,7

[State 3100, aura1]
type = Explod
trigger1 = time = 45
anim = 1950
sprpriority = 1
postype = p1
pos = 4,-2
supermove = 1
removetime = 39
ownpal = 1

[State 3100, aura2]
type = Explod
trigger1 = time = 84
anim = 1951
sprpriority = 1
postype = p1
pos = 4,-2
ownpal = 1
supermove = 1
removetime = 6
ownpal = 1

[State 3100, Aura3]
type = Explod
trigger1 = animelem = 4
anim = 2700
sprpriority = 3
postype = p1
pos = 0,-89
bindtime = 1
removetime = 25
removeongethit = 1
supermove = 1
ownpal = 1

[State 3100, Aura3]
type = Explod
trigger1 = animelem = 4
anim = 2700
sprpriority = 3
postype = p1
pos = 56,-85
bindtime = 1
removetime = 25
removeongethit = 1
supermove = 1
ownpal = 1

[State 3100, dust]
type = Explod
trigger1 = time = 45
anim = 4025
ID = 4025
postype = p1
pos = -10,0
bindtime = -1
sprpriority = 5
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[state 3100, shenglong]
type = explod
trigger1 = time = 45
anim = 3200
pos = -5,0
postype = left
bindtime = -1
supermove = 1 ;0
removetime = 35
sprpriority = 0
ownpal = 1

[State 3100, vel]
type = Posadd
trigger1 = time > 98
x = 8

[State 3100, 2]
type = VelSet
trigger1 = Time = 98
x = 10

[State 3100, 3]
type = VelAdd
trigger1 = Time > 98
x = .5

[State 3100, AfterImage]
type = AfterImage
trigger1 = AnimElem = 16
time = 20
FrameGap = 2
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 3100, dust1]
type = Explod
trigger1 = AnimElem = 16
anim = 4010
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 5
ownpal = 1

[state 3100, dust2]
type = explod
trigger1 = AnimElem = 16
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 4030
bindtime = -1
ownpal = 1

[State 3100, 2]
type = HitDef
trigger1 = animelem = 17
trigger2 = animelem = 18
trigger3 = animelem = 19
trigger4 = animelem = 20
trigger5 = animelem = 21
trigger6 = animelem = 22
trigger7 = animelem = 23
trigger8 = animelem = 24
trigger9 = animelem = 25
trigger10 = animelem = 26
trigger11 = animelem = 27
trigger12 = animelem = 28
trigger13 = animelem = 29
trigger14 = animelem = 30
trigger15 = animelem = 31
trigger16 = animelem = 32
attr = A, HA
damage = 22,7
animtype = hard
hitflag = MAF
guardflag = MA
sparkno = s4250
guard.sparkno = s4500
sparkxy = -30,-70
hitsound = S5,5
guardsound = S6,0
pausetime = 8,11
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -5,0
air.velocity = -5,-6
air.fall = 1
yaccel = .5
getpower = 0
kill=0

[State 3100, 2]
type = HitDef
trigger1 = animelem = 33
attr = A, HA
damage = 48,7
animtype = diagup
hitflag = MAF
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = -30,-70
hitsound = S200,1
guardsound = S6,0
pausetime = 8,11
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -15,-10
air.velocity = -15,-10
air.fall = 1
fall = 1
fall.recover = 0
yaccel = .5
envshake.time = 20
envshake.ampl = 6
getpower = 0
kill=0

[State 3100, proj]
type = Explod
trigger1 = animelem = 14
anim = 3101
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
removetime = 18
removeongethit = 1
ownpal = 1
ignorehitpause = 0
supermove = 1

[State 3100, proj]
type = Explod
trigger1 = animelem = 16
anim = 3102
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
removetime = 29
removeongethit = 1
ownpal = 1
ignorehitpause = 0
supermove = 0

[State 3100, 3]
type = Projectile
trigger1 = time = 96
projanim = 3110
projhitanim = -1
projremove = 0
projremovetime = 50
velocity = 15
projshadow = 150,150,150
attr = S, HP
projpriority = 7
postype = p1
offset = 0,0
attr = S, SP
damage = 0, 0
animtype = heavy
hitflag = MAF
guardflag = MA
sparkno = -1;s1221
guard.sparkno = -1;s4500
sparkxy = ceil (p2dist x) + -10, -70
hitsound = -1;S5,5
getpower = 0
guardsound = -1;S6,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
yaccel = .5
removeongethit = 1
kill=0

[State 3100, bg]
type = assertspecial
trigger1 = time >= 98 && AnimElem = 33 <= 1
;flag = nobg
;flag2 = nobardisplay
flag = nofg
ignorehitpause = 1

[state 3100, speedline1]
type = explod
trigger1 = time >= 98 && AnimElem = 33 <= 1
anim = 2101
postype = back
pos = 240,0
bindtime = -1
supermove = 1
sprpriority = -1
ontop = 0
ownpal = 1
loop = 1
removetime = 29
scale = 1.075, 1.075
facing = -1
id = 3100

[state 3100, speedline2]
type = explod
triggerall = stateno = 3100
trigger1 = time >= 98 && AnimElem = 33 <= 1
anim = 2100
postype = back
pos = 0,0
bindtime = -1
supermove = 1
sprpriority = -1
ontop = 0
ownpal = 1
loop = 1
removetime = 29
scale = 1.075, 1.075
id = 3100

[State 3100, proj]
type = Explod
trigger1 = Animtime = 0
anim = 3160
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
removetime = 28
;removeongethit = 1
ownpal = 1
ignorehitpause = 0
supermove = 0

[State 3100, remove]
type = RemoveExplod
trigger1 = Animtime = 0
id = 3100

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


;[State 3100, end]
;type = ChangeState
[State 0, SelfState]
type = changeState
trigger1 = Animtime = 0
value = 7000;1002


;---------------------------------------------------
;;---------------------------
;;Android 16 State 3000
;;---------------------------
;---------------------------------------------------
[Statedef 73000]
type = S
movetype = A
physics = S
anim = 3000
poweradd = -1000
velset = 0
ctrl = 0
sprpriority = 2

[state 3000, super a]
type = superpause
trigger1 = time = 8
movetime = 60
time = 60
anim = -1

[State 3000, Aura1]
type = Explod
trigger1 = animelem = 5
anim = 4000
sprpriority = 5
postype = p1
pos = 15,-90
bindtime = -1
removetime = 45
removeongethit = 1
supermove = 1
scale = .75,1

[State 3000, dust1]
type = Explod
trigger1 = AnimElem = 5
anim = 8103
ID = 8103
postype = p1
pos = -25,0
bindtime = -1
sprpriority = 5
supermovetime = 40;26
ownpal = 1
removeongethit = 1
facing = -1

[State 3000, snd1];『溜める音』
type = PlaySnd
trigger1 = time = 0
value = 3000,0
volume = -100

[State 3000, snd2];『ウィィィィン』
type = PlaySnd
trigger1 = time = 4
value = 3200,0

[State 3000, snd3];『撃つ音』
type = PlaySnd
trigger1 = time = 70
value = 3250,0
channel = 1

[State 3000, voice];『ヘルズフラッシュ！』
type = PlaySnd
trigger1 = animelem = 4
value = 1000,1
volume = 255

[State 3000, StopSnd]
type = StopSnd
trigger1 = stateno != 3000
channel = 1

[State 3000, proj]
type = Explod
trigger1 = animelem = 6
anim = 3002
sprpriority = 3
postype = p1
pos = -7,2
bindtime = -1
removetime = 70
removeongethit = 1
;supermove = 1
ownpal = 1

[State 3000, proj]
type = Projectile
trigger1 = AnimElem = 6
projanim = 3001
projhitanim = -1;1221
projID = 3000
projremove = 0
projremovetime = 50
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,-10
attr = S, SP
damage = 55, 20
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = -1;s8300
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + -10, -75
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[state 3000, hitspark1]
type = explod
trigger1 = projhittime(3000) = 1
anim = 8300
pos = ceil (p2dist x) + -10, -75;25, -75
postype = p1;2
facing = -1
bindtime = 1
ownpal = 1
supermove = 1
sprpriority = 2

[state 3000, hitspark2]
type = explod
trigger1 = projhittime(3000) = 1
anim = 8005
pos = 25,-80
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1
scale = .7,.7

[State 3000, proj2]
type = Projectile
trigger1 = time = 110
projanim = 3001
projhitanim = -1;1221
projID = 3001
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,-10
damage = 100, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s8005
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + -10, -70
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0

[State 3000, nojuggle]
type = AssertSpecial
trigger1 = projhit(3001) = 0
flag = nojugglecheck

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power



[State 3000, 3]
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------
;;---------------------------
;;Gero State 3050
;;---------------------------
;---------------------------------------------------

[statedef 73050]
type = a
movetype = a
physics = s
anim = 3050
poweradd = -1000
ctrl = 0
velset = 0,0
sprpriority = 3

[State 3050, Pause]
type = SuperPause
trigger1 = AnimElem = 2
time = 46
movetime = 46
anim = -1

[State 3050, NotHit]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 2600, explod]
type = Explod
trigger1 = animelem = 3
trigger2 = time = 44
trigger3 = time = 49
trigger4 = time = 54
trigger5 = time = 59
trigger6 = time = 64
trigger7 = time = 69
trigger8 = time = 74
trigger9 = time = 79
trigger10 = time = 84
anim = 2001
sprpriority = 4
postype = p1
pos = 0,-92
bindtime = 1
removetime = 18
supermove = 1
ownpal = 1
removeongethit = 1

[State 3050, voice];『死ぬが良い』
type = PlaySnd
trigger1 = time = 0
value = 1000,3
volume = 255
channel = 0

[State 3050, super]
type = PlaySnd
trigger1 = time = 10
value = 3000,1
volume = -100

[State 3050, shoot3]
type = PlaySnd
trigger1 = time = 54
trigger2 = time = 59
trigger3 = time = 64
trigger4 = time = 69
trigger5 = time = 74
trigger6 = time = 79
trigger7 = time = 84
trigger8 = time = 89
trigger9 = time = 94
value = 3000,7
volume = 255

[State 3050, proj1]
type = Projectile
trigger1 = time = 54
projanim = 2010
projhitanim = 8300
projID = 3050
velocity = 7.5
;projshadow = 150,150,150
projpriority = 2
postype = p1
offset = 0,-90
attr = A, HP
damage = 35,5
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s2002
guard.sparkno = s8000
sparkxy = 30,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
kill=0

[State 3050, proj1]
type = Projectile
trigger1 = time = 69
projanim = 2010
projhitanim = 8300
projID = 3051
velocity = 7.5
;projshadow = 150,150,150
projpriority = 2
postype = p1
offset = 0,-90
attr = A, HP
damage = 35,5
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s2002
guard.sparkno = s8000
sparkxy = 30,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
kill=0

[State 3050, proj1]
type = Projectile
trigger1 = time = 84
projanim = 2010
projhitanim = 8300
projID = 3052
velocity = 7.5
;projshadow = 150,150,150
projpriority = 2
postype = p1
offset = 0,-90
attr = A, HP
damage = 35,5
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s2002
guard.sparkno = s8000
sparkxy = 30,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
kill=0

[State 3050, proj2]
type = Projectile
trigger1 = time = 59
projanim = 2010
projhitanim = 8300
projID = 3053
velocity = 7,.5
;projshadow = 150,150,150
projpriority = 2
postype = p1
offset = 0,-85
attr = A, HP
damage = 35,5
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s2002
guard.sparkno = s8000
sparkxy = 30,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
kill=0

[State 3050, proj2]
type = Projectile
trigger1 = time = 74
projanim = 2010
projhitanim = 8300
projID = 3054
velocity = 7,.5
;projshadow = 150,150,150
projpriority = 2
postype = p1
offset = 0,-85
attr = A, HP
damage = 35,5
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s2002
guard.sparkno = s8000
sparkxy = 30,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
kill=0

[State 3050, proj2]
type = Projectile
trigger1 = time = 89
projanim = 2010
projhitanim = 8300
projID = 3055
velocity = 7,.5
;projshadow = 150,150,150
projpriority = 2
postype = p1
offset = 0,-85
attr = A, HP
damage = 35,5
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s2002
guard.sparkno = s8000
sparkxy = 30,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
kill=0

[State 3050, proj3]
type = Projectile
trigger1 = time = 64
projanim = 2010
projhitanim = 8300
projID = 3056
velocity = 7,-.3
;projshadow = 150,150,150
projpriority = 2
postype = p1
offset = 0,-80
attr = A, HP
damage = 35,5
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s2002
guard.sparkno = s8000
sparkxy = 30,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
fall=1
kill=0

[State 3050, proj3]
type = Projectile
trigger1 = time = 79
projanim = 2010
projhitanim = 8300
projID = 3057
velocity = 7,-.3
;projshadow = 150,150,150
projpriority = 2
postype = p1
offset = 0,-80
attr = A, HP
damage = 35,5
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s2002
guard.sparkno = s8000
sparkxy = 30,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
fall=1
kill=0

[State 3050, proj3]
type = Projectile
trigger1 = time = 94
projanim = 2010
projhitanim = 8300
projID = 3058
velocity = 7,-.4
;projshadow = 150,150,150
projpriority = 2
postype = p1
offset = 0,-80
attr = A, HP
damage = 35,5
animtype = medium
hitflag = MAFP
guardflag = MA
sparkno = s2002
guard.sparkno = s8000
sparkxy = 30,0
hitsound = S1,0
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
air.juggle = 0
yaccel = .5
fall=1
kill=0

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power



[State 3000, 3]
type = SelfState
trigger1 = animtime = 0
value = 5050
ctrl = 0
;---------------------------------------------------
;;---------------------------
;;Cell State 3200
;;---------------------------
;---------------------------------------------------
[Statedef 73200]
type = S
movetype = A
physics = S
anim = 3200
poweradd = -1000
velset = 0
ctrl = 0
juggle = 1
sprpriority = 2

[State 3200, muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 12

[state 3200, super a]
type = superpause
trigger1 = animelem = 3
time = 130
anim = -1

[State 3200, ]
type = EnvShake
trigger1 = animelem = 3
time = 130
freq = 120
ampl = 3

[State 3200, Aura0]
type = Explod
trigger1 = animelem = 3
anim = 4000
sprpriority = 1
postype = p1
pos = 3,3
bindtime = -1
removetime = 130
removeongethit = 1
supermove = 1

[State 3200, Aura1]
type = Explod
trigger1 = animelem = 3
anim = 3250
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
removetime = 130
removeongethit = 1
supermove = 1

[State 3200, Aura2]
type = Explod
trigger1 = animelem = 3
anim = 2006
sprpriority = 3
postype = p1
pos = -10,-55
bindtime = -1
removetime = 137
removeongethit = 1
supermove = 1

[State 3200, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 8103
ID = 8103
postype = p1
pos = -10,3
bindtime = -1
sprpriority = 3
supermovetime = 130
ownpal = 1
removeongethit = 1
facing = -1

[State 3200, 1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0
channel = 4

[State 3200, 1];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 5;time = 7
value = 3250,0

[State 3200, 1];『かめはめ波！』
type = PlaySnd
trigger1 = animelem = 1
value = 3200,0
channel = 7

[State 2000, StopSnd]
type = StopSnd
trigger1 = animelem = 4
channel = 4

[State 3200, proj]
type = Explod
trigger1 = animelem = 5
anim = 3201
sprpriority = 5
postype = p1
pos = -8,0
bindtime = -1
removetime = 48
removeongethit = 1
;supermove = 1
ownpal = 1

[State 3200, proj]
type = Projectile
trigger1 = AnimElem = 5
projanim = 3202
projhitanim = -1
projID = 3202
projremove = 0
projremovetime = 30
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,0
attr = S, SP
damage = 75, 20
projhits = 45
projmisstime = 10
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s2003
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + -10, -60
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -14,-4
air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[State 3200, proj]
type = Projectile
trigger1 = Time = 33
projanim = 3202
projhitanim = -1;1221
projID = 3202
projremove = 0
projremovetime = 9
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,0
attr = S, SP
damage = 75, 20
;projhits = 45
;projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s8005
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + -10, -70
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -14,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
kill=0

[State 3200, Aura0]
type = Explod
trigger1 = time = 6
anim = 4001
sprpriority = 1
postype = p1
pos = 3,3
bindtime = -1
removetime = 6
removeongethit = 1
supermove = 1

[State 3200, dust]
type = explod
trigger1 = animelem = 5;time = 25
anim = 8106
pos = 32,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33


[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 3200, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------
;;---------------------------
;;Buu State 2900
;;---------------------------
;---------------------------------------------------
[Statedef 72900]
type = S
movetype = A
physics = S
anim = 2900
poweradd = -1000
velset = 0,0
ctrl = 0
juggle = 1

[state 3200, super a]
type = superpause
trigger1 = animelem = 3
time = 120
anim = -1
movetime = 120

[State 3200, muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 12

[State 3200, ]
type = EnvShake
trigger1 = animelem = 3
time = 130
freq = 120
ampl = 3

[State 3000, spark]
type = PlaySnd
trigger1 = AnimElem = 3
value = 700,1

[State 3200, Aura0]
type = Explod
trigger1 = animelem = 3
anim = 4000
sprpriority = 0
postype = p1
pos = 3,3
bindtime = -1
removetime = 130
removeongethit = 1
supermove = 1

[State 3200, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 8103
ID = 8103
postype = p1
pos = -10,3
bindtime = -1
sprpriority = 3
supermovetime = 130
ownpal = 1
removeongethit = 1
facing = -1

[State 3200, 1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0
channel = 4

[State 4500, dust]
type = explod
removetime = 105
trigger1=animelem=3
supermovetime = 105
anim = 3600
pos = 10,5
sprpriority = 4
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale= 1,1.1
id = 3600
facing = -1

;[State 3200, 1];『かめはめ波！』
;type = PlaySnd
;trigger1 = animelem = 1
;value = 3200,0

[State 2350, StopSnd]
type = StopSnd
trigger1 = animelem = 5
channel = 4


[State 2900, dust]
type = Explod
trigger1 = AnimElem = 7
anim = 8106
postype = p1
pos = 7,5
bindtime = -1
sprpriority = 2
removetime = 33
ownpal = 1
removeongethit = 1
facing = -1
scale = .5, .5

[State 2900, 1];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 7
value = 2900,0

[State 2900, 1];『くらえ』
type = PlaySnd
trigger1 = time = 69
value = 1000,1

[State 2900, proj]
type = Explod
trigger1 = animelem = 8
anim = 2904
sprpriority = 3
postype = p1
pos = 60,-64
bindtime = -1
removetime = 30
removeongethit = 1
supermove = 1
ownpal = 1

[State 2900, proj]
type = Explod
trigger1 = animelem = 8
anim = 2903
sprpriority = 2
postype = p1
pos = 5,30
bindtime = -1
removetime = 30
removeongethit = 1
supermove = 1
ownpal = 1



[State 2900, 3]
type = Projectile
trigger1 = AnimElem = 4
projanim = 2902
projhitanim = -1;1221
projID = 2902
projremove = 0
projremovetime = 30
velocity = 0
projhits = 3
projmisstime = 10
projshadow = 150,150,150
attr = S, SP
projpriority = 5
postype = p1
offset = 5,23
attr = S, SP
damage = 60, 15
animtype = heavy
hitflag = MAF
guardflag = MA
sparkno = s8002
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + 0, -80
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0

[State 2900, 3]
type = Projectile
trigger1 = AnimElem = 4
projanim = 2902
projhitanim = -1;1221
projID = 2902
projremove = 0
projremovetime = 10
projhits = 3
velocity = 0
projshadow = 150,150,150
attr = S, SP
projpriority = 5
postype = p1
offset = 5,23
attr = S, SP
damage = 60, 15
animtype = heavy
hitflag = MAF
guardflag = MA
sparkno = s8002
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + 10, -80
hitsound = S1,6
getpower = 0
guardsound = S3,0
pausetime = 0,20
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -10.5, -6
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0

[State 2900, dust]
type = explod
trigger1 = time = 80
anim = 8104
pos = 85,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 10.5


[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2900, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------
;;---------------------------
;;Mr Satan State 3000
;;---------------------------
;---------------------------------------------------
[Statedef 83000]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd = -2000
anim = 3000
sprpriority = 2

[State 3000, 8]
type = SuperPause
trigger1 = AnimElem = 1
time = 70
movetime = 70
anim = -1

[State 3000, 1]
type = playerpush
trigger1 = Time >= 0
value = 0

[State 3000, 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 3000, playsnd1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,1

[State 3000, playsnd2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,1

[State 3000, playsnd];『これがチャンピオンの力だー！！」
type = PlaySnd
trigger1 = Time = 0
value = 1000,4
volume = 255
channel = 6

[State 3000, stopsnd]
type = StopSnd
trigger1 = stateno = [5000,5090]
channel = 6

[State 3000, aura]
type = Explod
trigger1 = AnimElem = 22
anim = 4550
sprpriority = 1
postype = p1
pos = -1,0
supermove = 1
removetime = 29
ownpal = 1

[State 3000, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 8103
ID = 8103
postype = p1
pos = -5,0
bindtime = -1
sprpriority = 3
supermovetime = 74
removetime = 74;26
ownpal = 1
removeongethit = 1
facing = -1

[State 3000, e]
type = ChangeState
trigger1 = Time = 74
value = 83001

;-----------------------------突進
[Statedef 83001]
type    = S
movetype= A
physics = N
velset = 7,0
ctrl = 0
anim = 3001

[State 3001, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 100,1
channel = 5

[State 3001, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 20
FrameGap = 2
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 3001, dust1]
type = Explod
trigger1 = AnimElem = 1
anim = 8100
ID = 8100
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 5
ownpal = 1

[state 3001, dust2]
type = explod
trigger1 = time = 0
pos = 0,0
pos2 = -2,0
spacing = 1
anim = 8104
bindtime = -1
ownpal = 1
removeongethit = 1

[State 3001, hit]
type = hitdef
trigger1 = AnimElem = 1
attr = S, ha; SP
damage = 0,0
animtype = light
hitflag = maf
guardflag = ma
numhits = 0
sparkno = -1
guard.sparkno = s8000
sparkxy = 0,-70
hitsound = -1
guardsound = S6,0
pausetime = 0,0
ground.hittime = 15
ground.type = high
ground.slidetime = 5
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
kill = 0
getpower = 0


[State 3001, win]
type = ChangeState
triggerall = win
trigger1 = movecontact = 1;movehit = 1
value = 83011

[State 3001, win]
type = targetState
triggerall != win
trigger1 = movehit = 1
value = 83060

[State 3001, hit]
type = ChangeState
trigger1 = movecontact = 1
value = 83010

[State 3001, end]
type = ChangeState
trigger1 = time = 25
value = 83012


;---------------------------------
;-----------------------乱舞
[Statedef 83010]
type    = C
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3010

[State 3010, muteki]
type = NotHitBy
triggerall = movehit
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 3010, width]
type = width
trigger1 = 1
edge = 75,0

[State 3010, bind]
type = TargetBind
Trigger1 = AnimElem = 1, >= 1 && AnimElem = 85, <= 1
pos =  50,0

[State 3010, bg]
type = assertspecial
trigger1 = animelem = 4 >= 1 && AnimElem = 40 <= 1
;flag = nobg
;flag2 = nobardisplay
flag = nofg
ignorehitpause = 1

[state 3010, speedlines1]
type = explod
triggerall = movehit
trigger1 = animelem = 4
anim = 8600
postype = back
pos = 320,10
bindtime = -1
supermove = 1
sprpriority = -1
ontop = 0
ownpal = 0
;scale = 1.075, 1.075
ignorehitpause = 1
loop = 1
facing = 1
removetime = 125

[state 3010, speedlines2]
type = explod
triggerall = movehit
trigger1 = animelem = 4
anim = 8650
postype = back
pos = 0,-9
bindtime = -1
supermove = 1
sprpriority = -1
ontop = 0
ownpal = 0
scale = 1.075, 1.075
ignorehitpause = 1
loop = 1
removetime = 125

[State 3010, hit]
type = hitdef
trigger1 = AnimElem = 3
attr = C, HA
damage = 40,2
animtype = heavy
hitflag = MAf
snap = 50,0,0
sparkno = s8010
guard.sparkno = s8000
sparkxy = 0,-70
guardflag = MA
hitsound = S1,4
guardsound = S3,0
pausetime = 30,40
ground.hittime = 15
ground.type = low
ground.slidetime = 5
ground.velocity = 1,0
air.velocity = 1,0
envshake.time = 20
envshake.ampl = 6
guard.kill = 0
kill = 0
p2facing = 1
p2stateno= 83065
getpower = 0

[State 3010, hit];弱キック
type = hitdef
trigger1 = AnimElem = 20
attr = C, HA
damage = 35,2
animtype = hard
hitflag = MAf
snap = 50,0,0
sparkno = s8001
guard.sparkno = s8000
sparkxy = -10,-71
guardflag = MA
hitsound = S0,6
guardsound = S3,0
pausetime = 2,40
ground.hittime = 10
ground.type = low
ground.slidetime = 5
ground.velocity = 1,0
air.velocity = 1,0
p2facing = 1
p2stateno= 83060
guard.kill = 0
kill = 0
getpower = 0

[State 3010, hit];弱パンチ
type = hitdef
trigger1 = AnimElem = 7
attr = C, HA
damage = 35,2
animtype = hard
hitflag = MAf
snap = 50,0,0
sparkno = s8001
guard.sparkno = s8000
sparkxy = 0,-81
guardflag = MA
hitsound = S0,5
guardsound = S3,0
pausetime = 2,40
ground.hittime = 10
ground.type = high
ground.slidetime = 5
ground.velocity = 1,0
air.velocity = 1,0
p2facing = 1
p2stateno= 83060
guard.kill = 0
kill = 0
getpower = 0

[State 3010, hit];しゃがみ弱パンチ
type = hitdef
trigger1 = AnimElem = 25
attr = C, HA
damage = 35,2
animtype = hard
hitflag = MAf
snap = 50,0,0
sparkno = s8001
guard.sparkno = s8000
sparkxy = 0,-41
guardflag = MA
hitsound = S0,5
guardsound = S3,0
pausetime = 2,40
ground.hittime = 10
ground.type = high
ground.slidetime = 5
ground.velocity = 1,0
air.velocity = 1,0
p2facing = 1
p2stateno= 83065
guard.kill = 0
kill = 0
getpower = 0

[State 3010, hit];強パンチ1
type = hitdef
trigger1 = AnimElem = 11
attr = C, HA
damage = 35,2
animtype = hard
hitflag = MAf
snap = 50,0,0
sparkno = s8002
guard.sparkno = s8000
sparkxy = -20,-76
guardflag = MA
hitsound = S0,7
guardsound = S3,0
pausetime = 2,40
ground.hittime = 10
ground.type = low
ground.slidetime = 5
ground.velocity = 1,0
air.velocity = 1,0
p2facing = 1
p2stateno= 83065
guard.kill = 0
kill = 0
getpower = 0

[State 3010, hit];強パンチ2
type = hitdef
trigger1 = AnimElem = 33
attr = C, HA
damage = 35,2
animtype = hard
hitflag = MAf
snap = 50,0,0
sparkno = s8002
guard.sparkno = s8000
sparkxy = -20,-76
guardflag = MA
hitsound = S0,7
guardsound = S3,0
pausetime = 2,40
ground.hittime = 10
ground.type = low
ground.slidetime = 5
ground.velocity = 1,0
air.velocity = 1,0
p2facing = 1
p2stateno= 83060
guard.kill = 0
kill = 0
getpower = 0

[State 3010, hit];強キック
type = hitdef
trigger1 = AnimElem = 16
trigger2 = AnimElem = 37
attr = C, HA
damage = 35,2
animtype = hard
hitflag = MAf
snap = 50,0,0
sparkno = s8002
guard.sparkno = s8000
sparkxy = 0,-71
guardflag = MA
hitsound = S0,8
guardsound = S3,0
pausetime = 2,40
ground.hittime = 10
ground.type = low
ground.slidetime = 5
ground.velocity = 1,0
air.velocity = 1,0
p2facing = 1
p2stateno= 83065
guard.kill = 0
kill = 0
getpower = 0

[State 3010, hit];しゃがみ強キック
type = hitdef
trigger1 = AnimElem = 28
attr = C, HA
damage = 35,2
animtype = hard
hitflag = MAf
snap = 50,0,0
sparkno = s8002
guard.sparkno = s8000
sparkxy = 0,-41
guardflag = MA
hitsound = S0,8
guardsound = S3,0
pausetime = 2,40
ground.hittime = 10
ground.type = low
ground.slidetime = 5
ground.velocity = 1,0
air.velocity = 1,0
p2facing = 1
p2stateno= 83060
guard.kill = 0
kill = 0
getpower = 0

[State 3010, hit];アッパー
type = hitdef
trigger1 = AnimElem = 41
attr = C, HA
damage = 40,2
animtype = heavy
fall.animtype = diagUp
hitflag = MAf
sparkno = s8003
guard.sparkno = s8000
sparkxy = -30,-100
guardflag = MA
hitsound = S0,7
guardsound = S3,0
pausetime = 16,15
ground.velocity = -10,-6
air.velocity = -10,-6
envshake.time = 20
envshake.ampl = 6
fall = 1
air.fall = 1
fall.recover = 0
p2facing = 1
getpower = 0
p2stateno = 5000
kill=0

[State 3010, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 147
FrameGap = 2
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 3010, env]
type = EnvColor
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 16
trigger5 = AnimElem = 20
trigger6 = AnimElem = 25
trigger7 = AnimElem = 28
trigger8 = AnimElem = 33
trigger9 = AnimElem = 37
trigger10 = AnimElem = 41
value = 245,245,245
ignorehitpause = 1
time = 1

[State 3010, voice]
type = PlaySnd
triggerall = movehit
trigger1 = animelem = 26
value = 1000,6
volume = 255

[State 3010, PlaySnd]
type = PlaySnd
triggerall = movehit
trigger1 = animelem = 40
value = 1,6


[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 3010, end]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 83011]
type    = C
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 3011
poweradd = 30

[State 3011, Vel]
type = Velset
trigger1 = time = 0
x = 9

[State 3011, Vel]
type = Velset
trigger1 = time = 2
x = 12

[State 3011, sound]
type = PlaySnd
trigger1 = !time
value = 0,2

[State 3011, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = C, HA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 65
pausetime = 11,10
sparkno = S8002
guard.sparkno = s8000
sparkxy = -15,-100
hitsound = S0,7
guardsound = S3,0
ground.type = low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -1,-9
air.velocity = -7.2,-2.2
envshake.time = 18
envshake.freq = 120
envshake.ampl = 6
fall = 1
p2stateno = 5000
kill=0

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 3011, end]
type = SelfState
trigger1 = !AnimTime
value = 11
ctrl = 1

[Statedef 83012]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 115

[State 3012, velset]
type = VelSet
trigger1 = Time = 0
x = 4
y = 0

[State 3012, veladd]
type = VelAdd
trigger1 = Time > 0
x = .15

[state 3012, pos]
type = posset
trigger1 = time = 0
y = 0

[State 3012, landdust1]
type = explod
trigger1 = Time = 0
postype = p1
pos = 10,0
spacing = 1
anim = 8100
ownpal = 1
scale = .5, .5

[State 3012, Landing Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 52,0

[State 3012, end]
type = selfState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------腹に喰らう２Ｐ
[Statedef 83060]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3060, 1]
type = PosSet
trigger1 = 1
y = 0

[State 3060, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 3060, nothitby]
type = HitBy
trigger1 = 1
value = C,HA

[State 3060, p2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 83060

[State 3060, end]
type = selfstate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------顔面に喰らう２Ｐ
[Statedef 83065]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3065, 1]
type = PosSet
trigger1 = 1
y = 0

[State 3065, nothitby]
type = HitBy
trigger1 = 1
value = C,HA

[State 3065, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 3065, p2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 83065

[State 3065, end]
type = selfstate
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------
;;---------------------------
;;Gohan State 3000
;;---------------------------
;---------------------------------------------------

[Statedef 85000]
type = S
movetype = A
physics = S
anim = 3000
poweradd = -1000
velset = 0
ctrl = 0
sprpriority = 2

[State 3000, muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 12

[state 3000, pause]
type = superpause
trigger1 = time = 6
time = 40
movetime = 40
anim = -1

[State 3000, Aura1]
type = Explod
trigger1 = animelem = 2
anim = 3001
sprpriority = 5
postype = p1
pos = 0,-10
bindtime = -1
removetime = 40
removeongethit = 1
supermove = 1

[State 3000, dust]
type = Explod
trigger1 = AnimElem = 2
anim = 8103
ID = 4025
postype = p1
pos = -15,0
bindtime = -1
sprpriority = 5
supermovetime = 41
ownpal = 1
removeongethit = 1
facing = -1

[State 3000, Snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0
channel = 4

[State 3000, StopSnd]
type = StopSnd
trigger1 = AnimElem = 43
channel = 4

[State 3000, Snd1];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 43
value = 3000,1

[State 3000, voice];『かめはめ波！』
type = PlaySnd
trigger1 = animelem = 8
value = 1000,10
volume = 255
channel = 0

[State 3000, proj]
type = Explod
trigger1 = animelem = 43
anim = 3011
sprpriority = 3
postype = p1
pos = 0,-7
bindtime = -1
removetime = 70
removeongethit = 1
;supermove = 1
ownpal = 1

[State 3000, proj]
type = Projectile
trigger1 = AnimElem = 43
projanim = 3010
projhitanim = -1
projID = 3000
projremove = 0
projremovetime = 50
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -20,30
attr = S, SP
damage = 50, 20
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s2021
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + 10, -80
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[State 3000, proj2]
type = Projectile
trigger1 = time = 88
projanim = 3010
projhitanim = -1
projID = 3000
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -20,30
damage = 100, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s8005
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + -10, -70
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill= 0

[State 3000, nojuggle]
type = AssertSpecial
trigger1 = projhit(3000) = 0
flag = nojugglecheck

[State 3000, dust]
type = explod
trigger1 = animelem = 3;time = 25
anim = 4040
pos = 17,5
sprpriority = 5
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 66

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 3200, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------
;;---------------------------
;;Piccolo State 3200
;;---------------------------
;---------------------------------------------------
[Statedef 83200]
type = S
movetype = A
physics = S
anim = 3200
poweradd = -1000
velset = 0
ctrl = 0
juggle = 1
sprpriority = 2

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
time = 8
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[state 3200, super a]
type = superpause
trigger1 = animelem = 3
time = 129
movetime = 129
anim = -1

[State 3200, ]
type = EnvShake
trigger1 = animelem = 4
time = 110
freq = 120
ampl = 3

[State 3250, circle]
type = Explod
trigger1 = animelem = 47
anim = 3250
sprpriority = 5
postype = p1
pos = 0,0
bindtime = -1
removetime = 33
removeongethit = 1
supermove = 1

[State 3200, Aura0]
type = Explod
trigger1 = time = 12
anim = 4000
sprpriority = 1
postype = p1
pos = 6,0
bindtime = -1
removetime = 34
removeongethit = 1
supermove = 1

[State 3200, Aura0]
type = Explod
trigger1 = animelem = 6
anim = 4001
sprpriority = 1
postype = p1
pos = 4,3
bindtime = -1
removetime = 6
removeongethit = 1
supermove = 1

[State 3200, dust]
type = Explod
trigger1 = AnimElem = 4
anim = 8103
ID = 8103
postype = p1
pos = -20,3
bindtime = -1
sprpriority = 3
supermovetime = 130
ownpal = 1
removeongethit = 1
facing = -1

[State 3200, aura]
type = PlaySnd
trigger1 = time = 5
value = 3000,1

[State 3200, flash]
type = PalFX
trigger1 = animelem = 5
time = 25
add = 100,100,100
mul = 256,256,256
sinadd = -100,-100,-100,40
invertall = 0
color = 256

[State 3200, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 79
value = 3250,0
channel = 5

[State 3200, snd3];『すぱきん』
type = PlaySnd
trigger1 = AnimElem = 5
value = 3000,3
channel = 4

[State 3200, voice1];『はー』
type = PlaySnd
trigger1 = time = 5
value = 1000,1

[State 3200, voice2];『魔貫光殺砲！』
type = PlaySnd
trigger1 = animelem = 20
value = 3200,0

[State 2350, StopSnd]
type = StopSnd
trigger1 = animelem = 83
channel = 4

[State 3200, sparking]
type = Explod
trigger1 = time = 145;animelem = 82
trigger2 = time = 150
trigger3 = time = 155
trigger4 = time = 160
trigger5 = time = 165
trigger6 = time = 170
anim = 8700
sprpriority = 5
postype = p1
pos = 100,-68
;bindtime = -1
removetime = 18
removeongethit = 1
velocity = 15
ownpal = 1

[State 3200, proj]
type = Explod
trigger1 = animelem = 82
anim = 3201
sprpriority = 5
postype = p1
pos = 0,0
bindtime = -1
removetime = 48
removeongethit = 1
;supermove = 1
ownpal = 1

[State 3200, proj]
type = Projectile
trigger1 = AnimElem = 82
projanim = 3202
projhitanim = -1
projID = 3202
projremove = 0
projremovetime = 30
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,0
damage = 45, 10
projhits = 45
projmisstime = 5
animtype = heavy
guardflag = MA
sparkno = s8400
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + 5, -70
hitsound = S1,7
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -14,-4
air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[State 3200, proj]
type = Projectile
trigger1 = AnimElem = 84
projanim = 3202
projhitanim = -1;8005
projID = 3203
projremove = 0
projremovetime = 9
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,0
damage = 45, 10
;projhits = 45
;projmisstime = 11
animtype = heavy
guardflag = MA
sparkno = s8400
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + 5, -70
hitsound = S1,6
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -14,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
kill=0

[State 3200, dust1]
type = explod
trigger1 = animelem = 82
anim = 8106
pos = 22,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 3200, dust2]
type = explod
trigger1 = animelem = 82
anim = 8104
pos = 85,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 10.5

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 3200, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------
;;---------------------------
;;Frieza State 2200
;;---------------------------
;---------------------------------------------------
[Statedef 72200]
type = A
movetype = A
physics = N
anim = 2200
poweradd = -1000
velset = 0
ctrl = 0

[State 2200, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2200, super pause]
type = superpause
trigger1 = time = 4
time = 40
anim = -1

[State 2200, Aura]
type = Explod
trigger1 = animelem = 2
anim = 2700
sprpriority = 5
postype = p1
pos = 45,4
bindtime = 1
removetime = 40
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 4
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2200, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0

[State 2200, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 3
value = 2000,1

[State 2200, voice];『イライラするんだよ！』
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,1
volume = 255

[State 2200, proj]
type = Explod
trigger1 = AnimElem = 3
anim = 2501
sprpriority = 2
postype = p1
pos = -17,5
bindtime = -1
removeongethit = 1
removetime = 30
supermove = 0
ownpal = 1

[State 2200, hit]
type = Projectile
trigger1 = AnimElem = 3
projanim = 2500;2501
projhitanim = -1
projID = 2200
projremove = -1
projremovetime = 30
projhits = 1
velocity = 0
projshadow = 150,150,150
attr = S, HP
projpriority = 5
postype = p1
offset = -2,2;-5,5
attr = S, SP
damage = 280, 20
animtype = heavy
hitflag = MAF
guardflag = MA
sparkno = s4005
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -75
hitsound = S1,7
getpower = 0
guardsound = S3,0
pausetime = 0,10
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -13.5, -4.7
air.velocity = -12.5
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0

[State 2200, dust]
type = explod
trigger1 = animelem = 3;time = 25
anim = 4040
pos = 35,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 2200, dust]
type = explod
trigger1 = animelem = 3
anim = 4030
pos = 85,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 11.5
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2200, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------
;;---------------------------
;;Burter State 2300
;;---------------------------
;---------------------------------------------------
[Statedef 72300]
type    = C
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd = -1999
anim = 2300
sprpriority = 2


[State 2300, playsnd]
type = PlaySnd
trigger1 = time=0
value = 1000,2
volume = 255

[State 2300, playsnd]
type = PlaySnd
trigger1 = animelem = 2
value = 1000,6
volume = 255

[State 361, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[state 2000, super pause]
type = superpause
trigger1 = time = 10
time = 40
movetime = 40
anim = -1


[State 2300, nojuggle]
type = AssertSpecial
trigger1 = time = 0
flag = nojugglecheck

[State 2000, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[State 2300, playsnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,1
volume = -50

;[State 2300, playsnd];『サイヤ人は戦闘種族だ！！」
;type = PlaySnd
;trigger1 = Time = 0
;value = 700,1
;volume = 255
;channel = 5

[State 2300, Snd]
type = PlaySnd
trigger1 = animelem = 2
value = s100,2

[State 2300, aura1]
type = Explod
trigger1 = time = 10
anim = 1950
sprpriority = 1
postype = p1
pos = 2,4
supermove = 1
removetime = 45
ownpal = 1

[State 2300, aura1]
type = Explod
trigger1 = time = 45
anim = 1951
sprpriority = 1
postype = p1
pos = 2,4
ownpal = 1
supermove = 1
removetime = 6
ownpal = 1




[State 0, AfterImage]
type = AfterImage
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
time = 50
length = 60
palbright = 0, 0, 0
palcontrast = 255, 255, 255
paladd = 0, 0, 0
framegap = 3
trans = add


[State 0, VelSet]
type = VelSet
trigger1 = animelem =2
trigger2 = animelem =4
x = 4000
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem =3
x = -400
y = 0



[State 230, 2]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA
damage = 138
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -30,-70
hitsound = S0,7
guardsound = S3,0
pausetime = 0,5
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
ground.velocity = -5.5
air.velocity = -2.5,-4
kill=0


[State 230, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 150
animtype = medium
hitflag = MAF
guardflag = MA
sparkno = s4150
guard.sparkno = s4500
sparkxy = -30,-70
hitsound = S0,7
guardsound = S3,0
pausetime = 12,12
ground.type = low
ground.slidetime = 12
ground.hittime  = 50
ground.velocity = -5.5
air.velocity = -2.5,-4
fall=1
kill=0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = AnimTime = 0
value = -5


[State 0, PosSet]
type = PosSet
triggerall = animTime = 0
trigger1 = pos X > 180
x = 160
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
triggerall = animTime = 0
trigger1 = pos X < -180
x = -160
;ignorehitpause =
;persistent =


[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power

[State 2000, 3]
type = selfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------
;;---------------------------
;;Jeice State 2003
;;---------------------------
;---------------------------------------------------

[Statedef 82003]
type = S
movetype = A
physics = N
anim = 2003
poweradd = -999
velset = 0
ctrl = 0
SprPriority =3
;ignorehitpause =
;persistent =

[State 2000, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2000, super pause]
type = superpause
trigger1 = time = 10
time = 40
movetime = 40
anim = -1

[State 2000, Aura1]
type = Explod
trigger1 = animelem = 10
anim = 2060
sprpriority = 5
postype = p1
pos = 32,0;12,8
bindtime = 1
removetime = 12
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, Aura3]
type = Explod
trigger1 = animelem = 22
anim = 2060
sprpriority = 5
postype = p1
pos = 13,-9;-7,-1
bindtime = 1
removetime = 20
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, ki3]
type = Explod
trigger1 = animelem = 10
anim = 2020
sprpriority = 4
postype = p1
pos = 25, 5; 0,7
ownpal = 1
bindtime = -1
removetime = 32
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, dust]
type = Explod
trigger1 = AnimElem = 9
anim = 4025
ID = 4025
postype = p1
pos = -35,0
bindtime = -1
sprpriority = 4
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2000, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 9
value = 3000,0

[State 2000, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 38
value = 3250,0

[State 2000, voice];『ギャリックほー！』
type = PlaySnd
trigger1 = AnimElem = 18
value = 1000,1
volume = 255

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 53
anim = 2055
sprpriority = 5
postype = p1
pos = 40,8
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 53
anim = 2050
sprpriority = 2
postype = p1
pos = 30,8
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2000, hit]
type = Projectile
trigger1 = AnimElem = 53
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 47
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 20,10
attr = S, SP
damage = 60, 17
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s1051
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -55
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[State 2000, hit2]
type = Projectile
trigger1 = time = 84
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 20,7
damage = 100, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -66
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0

[State 2000, dust]
type = explod
trigger1 = time = 56
anim = 4040
pos = 25,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 2000, dust]
type = explod
trigger1 = animelem = 53
anim = 4030
pos = 55,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 11.5
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = AnimTime = 0
value = -5

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2000, 3]
type = selfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------
;;---------------------------
;;Trunks State 2000
;;---------------------------
;---------------------------------------------------

[Statedef 82000]
type = S
movetype = A
physics = N
anim = 2000
poweradd = -1000
velset = 0
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Authorname = "CHOUJIN"
value = 82100
;anim =
;ignorehitpause =
;persistent =


[State 2000, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2000, super pause]
type = superpause
trigger1 = time = 0
time =  113
movetime = 113
anim = -1

[State 2000, Aura1]
type = Explod
trigger1 = animelem = 2
anim = 2060
sprpriority = 5
postype = p1
pos = 12,8;0,5
bindtime = 1
removetime = 12
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, Aura3]
type = Explod
trigger1 = animelem = 14
anim = 2060
sprpriority = 5
postype = p1
pos = -7,-1;-18,1
bindtime = 1
removetime = 20
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, ki3]
type = Explod
trigger1 = animelem = 10
anim = 4451
sprpriority = 4
postype = p1
pos = 35,-78
ownpal = 1
bindtime = -1
removetime = 32
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = -15,0
bindtime = -1
sprpriority = 4
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2000, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 10
value = 3000,1

[State 2000, snd1];『溜める音』
type = PlaySnd
trigger1 = Animelem = 8
value = 2000,0


[State 2000, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 11
value = 3250,0

[State 2000, voice];『ギャリックほー！』
type = PlaySnd
trigger1 = AnimElem = 10
value = 1000,1
volume = 255

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 11
anim = 2055
sprpriority = 5
postype = p1
pos = 0,-10
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1


[State 2000, proj]
type = Explod
trigger1 = AnimElem = 11
anim = 2050
sprpriority = 4
postype = p1
pos = 0,-10
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2000, hit]
type = Projectile
trigger1 = AnimElem = 11
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 47
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -14,-10
attr = S, SP
damage = 60, 20
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4310
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -55
hitsound = S3000,2
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[State 2000, hit2]
type = Projectile
trigger1 = time = 128
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -14,-10
damage = 100, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -66
hitsound = S3000,2
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0

[State 2000, dust]
type = explod
trigger1 = animelem = 2
anim = 4040
pos = 25,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 2000, dust]
type = explod
trigger1 = animelem = 11
anim = 4030
pos = 55,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 11.5
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2000, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;-----------------------------------------------------
;;CHOUJIN TRUNKS
[Statedef 82100]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd = -2000
anim = 2100
sprpriority = 2

[State 2100, Pause]
type = SuperPause
trigger1 = AnimElem = 1
time = 35
movetime = 35
anim = -1

[State 2100, push]
type = playerpush
Trigger1 = AnimElem = 11, >= 1 && AnimElem = 24, <= 1;Time >= 0
value = 0

[State 2100, muteki]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 40

[State 2100, playsnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,10
volume = 255

;[State 2100, dust]
;type = Explod
;trigger1 = AnimElem = 1
;anim = 4025
;ID = 4025
;postype = p1
;pos = -10,0
;bindtime = -1
;sprpriority = 3
;supermovetime = 26
;ownpal = 1
;removeongethit = 1
;facing = -1

;------------------------突進

[State 2100, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 100,2

[State 2100, 1]
type = PosAdd
trigger1 = Time > 40
x = 6

[State 2100, 2]
type = VelSet
trigger1 = Time = 40
x = 20

[State 2100, 3]
type = VelAdd
trigger1 = Time > 40
x = .15

[State 2100, AfterImage]
type = AfterImage
trigger1 = AnimElem = 10
time = 20
FrameGap = 2
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1

[State 2100, dust1]
type = Explod
trigger1 = AnimElem = 10
anim = 4010
ID = 3005
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 5
ownpal = 1

[state 2100, dust2]
type = explod
trigger1 = Time = 40
pos = 10,0
spacing = 1
anim = 4030
bindtime = -1
ownpal = 1

[State 2100, hit]
type = hitdef
trigger1 = AnimElem = 10
attr = S, ha
damage = 0,0
animtype = light
hitflag = maf
guardflag = ma
numhits = 0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-70
hitsound = -1
guardsound = -1
pausetime = 0,0
ground.hittime = 15
ground.type = high
ground.slidetime = 5
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
;p2stateno = 82150
kill = 0

[State 2100, win]
type = ChangeState
triggerall = win
trigger1 = movecontact = 1
value = 82101

[State 2100, guarded]
type = ChangeState
trigger1 = moveguarded; && p2Life > 1
value = 82101

[State 2100, hit]
type = ChangeState
trigger1 = movehit = 1
;trigger2 = moveguarded && p2Life = 1
value = 82102

[State 2100, end]
type = ChangeState
trigger1 = Animtime = 0
value = 82110
ctrl = 1

;---------------------------------
;-----------------------ガードされた
[Statedef 82101]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 2101

[State 2101, pos]
type = Posadd
trigger1 = Animelem = 1 , =1
x = p2bodydist X + 85

[state 2101, shake]
type = envshake
trigger1 = moveguarded = 1
Trigger1 = AnimElem = 1, >= 1 && AnimElem = 5, <= 1
time = 8
freq = 8
ampl = 3
ignorehitpause = 0

[State 2101, hit1]
type = hitdef
trigger1 = AnimElem = 2
attr = S, ha
damage = 5,5
animtype = light
hitflag = maf
guardflag = ma
numhits = 0
sparkno = s4600
guard.sparkno = s4500
sparkxy = -20,-60
hitsound = S1,6
guardsound = S3,0
pausetime = 10,20
ground.hittime = 15
ground.type = high
ground.slidetime = 5
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
envshake.time = 12
envshake.ampl = 8
envshake.freq = 100
kill= 0

[State 2101, hit2]
type = hitdef
trigger1 = AnimElem = 3
attr = S, ha
damage = 5,5
animtype = light
hitflag = maf
guardflag = ma
numhits = 0
sparkno = s4600
guard.sparkno = s4500
sparkxy = -20,-75
hitsound = S1,6
guardsound = S3,0
pausetime = 10,20
ground.hittime = 15
ground.type = high
ground.slidetime = 5
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
envshake.time = 12
envshake.ampl = 8
envshake.freq = 100
kill = 0

[State 2101, hit3]
type = hitdef
trigger1 = AnimElem = 4
attr = S, ha
damage = 5,5
animtype = light
hitflag = maf
guardflag = ma
numhits = 0
sparkno = s4600
guard.sparkno = s4500
sparkxy = -10,-45
hitsound = S1,6
guardsound = S3,0
pausetime = 10,20
ground.hittime = 15
ground.type = high
ground.slidetime = 5
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
envshake.time = 12
envshake.ampl = 8
envshake.freq = 100
kill = 0

[State 2101, hit4]
type = hitdef
trigger1 = AnimElem = 5
attr = S, ha
damage = 5,5
animtype = light
hitflag = maf
guardflag = ma
numhits = 0
sparkno = s4600
guard.sparkno = s4500
sparkxy = -20,-60
hitsound = S1,6
guardsound = S3,0
pausetime = 10,20
ground.hittime = 15
ground.type = high
ground.slidetime = 5
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = 8
envshake.freq = 100
kill = 0

[State 2101, sword]
type = PlaySnd
trigger1 = animelem = 8
value = 700,1

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2101, end]
type = selfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;-----------------------乱舞
[Statedef 82102]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 2102

[State 3250, Target]
type = TargetState
trigger1 = time = 0
value = 82150

[State 2102, Pause]
type = superpause
trigger1 = time = 0
time = 40
movetime = 40
anim = -1

[State 2102, color]
type = EnvColor
trigger1 = time = 0
value = 0,0,0
time = 40
under = 0
ignorehitpause = 1

[State 2102, slash1]
type = Explod
trigger1 = time = 0
anim = 8001
sprpriority = 5
postype = p2
pos = 0,0
bindtime = -1
removeongethit = 1
supermove = 1
ontop = 1
facing = -1

[State 2102, slash2]
type = Explod
trigger1 = time = 10
anim = 8003
sprpriority = 5
postype = p2
pos = 0,0
bindtime = -1
removeongethit = 1
supermove = 1
ontop = 1
facing = -1

[State 2102, slash3]
type = Explod
trigger1 = time = 20
anim = 8002
sprpriority = 5
postype = p2
pos = 0,20
bindtime = -1
removeongethit = 1
supermove = 1
ontop = 1
facing = -1

[State 2102, slash3]
type = Explod
trigger1 = time = 30
anim = 8000
sprpriority = 5
postype = p2
pos = 0,20
bindtime = -1
removeongethit = 1
supermove = 1
ontop = 1
facing = -1

[State 2102, sound]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
value = 1,7

[State 2102, HitAdd]
type = HitAdd
trigger1 = time = 0
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
value = 1

[State 2102, muteki]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2102, width]
type = width
trigger1 = 1
edge = 75,0

[State 2102, pos]
type = Posadd
trigger1 = Animelem = 1 , =1
x = p2bodydist X + 85

[State 2102, bind]
type = TargetBind
Trigger1 = AnimElem = 1, >= 1 && AnimElem = 6, <= 1
pos =  -85,0

[State 2100, voice];『お前はもう終わりだ！」
type = PlaySnd
trigger1 = Time = 70
value = 1000,3
volume = 255

[State 2102, sword]
type = PlaySnd
trigger1 = animelem = 3
value = 700,1

[State 2102, fall]
type = PlaySnd
trigger1 = animtime = 0
value = 5110,0

[State 2102, blood]
type = PlaySnd
trigger1 = time = 135
value = 3000,11
volume = 255

[State 2102, blood]
type = Explod
trigger1 = time = 130
anim = 4603
sprpriority = 5
postype = p2
pos = -5,-70
bindtime = -1
removeongethit = 1
supermove = 1
ontop = 1

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2102, end]
type = selfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------着地
[Statedef 82110]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 2110

[State 2110, 1]
type = VelSet
trigger1 = Time = 0
x = 5
y = 0

[State 2110, 3]
type = VelAdd
trigger1 = Time > 0
x = .15

[state 2110, 2]
type = posset
trigger1 = time = 0
y = 0

[State 2110, stop]
type = VelSet
trigger1 = time = 8
x = 0
y = 0

[State 2110, landdust1]
type = explod
trigger1 = Time = 1
postype = p1
pos = -17,0
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5

[State 2110, landdust]
type = explod
trigger1 = Time = 1
postype = p1
pos = 20,0
facing = -1
spacing = 1
anim = 4010
ownpal = 1
scale = .5, .5

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power

[State 2000, 3]
type = selfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-----------------------------２Ｐステート

[Statedef 82150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 2150, 1]
type = PosSet
trigger1 = 1
y = 0

[State 2150, HitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2150, push]
type = PlayerPush
trigger1 = 1
value = 1

[State 2150, p2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 82150

[State 2150, hitvoice]
type = PlaySnd
trigger1 = Time = 96
triggerall = alive = 1
value = 5000,1

[State 2150, life1]
type = lifeadd
trigger1 = time = 195
value = -150
kill = 0

[State 2150, life2]
type = lifeadd
trigger1 = time = 95
value = -250
absolute = 1
kill = 0

[State 2150, turn]
type = Turn
trigger1 = animtime = 0



[State 2150, change]
type = SelfState
trigger1 = animtime = 0 && alive
value = 5120
;ctrl = 1




[State 2150, dead]
type = SelfState
trigger1 = animelem = 6 && !alive
value = 5150
ctrl = 0

;---------------------------------------------------
;;---------------------------
;;Vegeta State 2000
;;---------------------------
;---------------------------------------------------
[Statedef 84000]
type = S
movetype = A
physics = N
anim = 2000
poweradd = -1000
velset = 0
ctrl = 0
sprpriority = 3

[State 2000, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2000, super pause]
type = superpause
trigger1 = time = 4
time = 40
movetime = 40
anim = -1

[State 2000, Aura1]
type = Explod
trigger1 = animelem = 2
anim = 2060
sprpriority = 5
postype = p1
pos = 12,8;0,5
bindtime = 1
removetime = 12
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, Aura3]
type = Explod
trigger1 = animelem = 14
anim = 2060
sprpriority = 5
postype = p1
pos = -7,-1;-18,1
bindtime = 1
removetime = 20
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, ki3]
type = Explod
trigger1 = animelem = 2
anim = 2010
sprpriority = 4
postype = p1
pos = 0,7
ownpal = 1
bindtime = -1
removetime = 32
removeongethit = 1
supermove = 1
ownpal = 1

[State 2000, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = -15,0
bindtime = -1
sprpriority = 4
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2000, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0

[State 2000, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 30
value = 3250,0

[State 2000, voice];『ギャリックほー！』
type = PlaySnd
trigger1 = AnimElem = 10
value = 1000,1
volume = 255

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 45
anim = 2050
sprpriority = 4
postype = p1
pos = -10,4
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2000, hit]
type = Projectile
trigger1 = AnimElem = 45
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 47
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -10,4
attr = S, SP
damage = 60, 20
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s1051
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -55
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[State 2000, hit2]
type = Projectile
trigger1 = time = 78
projanim = 2001
projhitanim = -1
projID = 2000
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -10,4
damage = 100, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -66
hitsound = S1,1
getpower = 0
guardsound = S3,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0

[State 2000, dust]
type = explod
trigger1 = time = 50
anim = 4040
pos = 25,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 2000, dust]
type = explod
trigger1 = animelem = 45
anim = 4030
pos = 55,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 11.5
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2000, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------
;;---------------------------
;;SSJ2 Gohan State 942
;;---------------------------
;---------------------------------------------------
; Dragon Fist
[Statedef 70942]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                     ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 942                       ;Change animation (Def: no change)
poweradd = -1000                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 957
ID = 957
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 22
scale = 1,1
sprpriority = 6
ontop = 1
ownpal = 1
supermovetime = 22
removeongethit = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = (!time)
value = SCA
time = 75

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 25
pos = -99999,-99999
darken = 1
unhittable = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 40

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0
y = 0

[State 640, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 8, 1
volume = 50
channel = 3

[State 0, ]
type = HitDef
trigger1 = animelem = 3
attr = S, HA
hitflag = MAFD
guardflag = MA
animtype = Medium
air.animtype = Medium
priority = 6,Hit
damage = 70,15
pausetime = 5,10
sparkno = S931
sparkxy = -20,-50
hitsound = S1,5
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -2
air.velocity = -5,-4
givepower = 10, 10
getpower = 20
kill=0

[State 0, ]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
hitflag = MAFD
guardflag = MA
animtype = Medium
air.animtype = Medium
priority = 6,Hit
damage = 70,15
pausetime = 5,10
sparkno = S931
sparkxy = -20,-50
hitsound = S1,5
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -2
air.velocity = -5,-4
givepower = 10, 10
getpower = 20
kill=0

[State 0, ]
type = HitDef
trigger1 = animelem = 5
attr = S, HA
hitflag = MAFD
guardflag = MA
animtype = Medium
air.animtype = Medium
priority = 6,Hit
damage = 80,25
pausetime = 5,10
sparkno = S931
sparkxy = -20,-50
hitsound = S1,5
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -2
air.velocity = -5,-4
givepower = 10, 10
getpower = 20
kill=0

[State 0, ]
type = HitDef
trigger1 = animelem = 8
attr = S, HA
hitflag = MAFD
guardflag = MA
animtype = Hard
air.animtype = Hard
priority = 6,Hit
damage = 90,35
pausetime = 5,5
sparkno = S931
sparkxy = -20,-50
hitsound = S1,5
guardsound = S3,0
ground.type = Trip
air.type = Trip
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -6,-5
air.velocity = -6,-5
givepower = 5, 5
getpower = 5
fall = 1
air.fall = 1
fall.recover = 0
sprpriority = 4
fall.envshake.time = 20
fall.envshake.freq = 180
fall.envshake.ampl = 3
fall.envshake.phase = 90
kill=0

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 200, 7]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------
;;---------------------------
;;Android 18 State 3020
;;---------------------------
[Statedef 71052]
type = S
movetype = A
physics = N
poweradd = 40
velset = 0, 0
ctrl = 0
anim = 1054
juggle = 4

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,9
volume = 255
channel = 0

[State 1331, AfterImage]
type = AfterImage
trigger1 = Time = 11
time = 20
length = 12
timegap = 2
framegap = 1
trans = add
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,140,140
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0.65,0.65,0.65

[State 106, 2]
type = PlaySnd
trigger1 = Time = 11
value = 0,9
channel = 2

[State 0, 1]
type = PosAdd
trigger1 = animtime = 0 && command = "holdback"
x = P2dist X - 150

[State 0, 1]
type = PosAdd
trigger1 = animtime = 0 && command != "holdback"
x = P2dist X + 150

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 71053


;Part Two.
[Statedef 71053]
type = S
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 1055
facep2 = 1



[State 0, ]
type = ScreenBound
trigger1 = AnimElem = 11, <0
value = 0
movecamera = 0,1
;ignorehitpause = 0
;persistent = 1



[State 106, 2]
type = PlaySnd
trigger1 = Time = 11
value = 0,6
channel = 2

[State 100, 1]
type = velset
trigger1 = 1
x = 10

[State 0, 1]
type = Explod
trigger1 = time%3=0
anim = 4010
postype = p1
pos = 0,0
sprpriority = 5
supermove = 1
ownpal = 1
scale = .5,.5

[State 0, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 5,Hit
damage = 10,5
pausetime = 10,10
snap = 40,0,0
sparkno = s4150
sparkxy = -10,-60
hitsound = s0,8
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 30
guard.slidetime = 30
ground.hittime = 30
guard.hittime = 15
air.hittime = 30
ground.velocity = -5
guard.velocity = -6
air.velocity = -3,3
airguard.velocity = -5,-3
getpower = 40,20
givepower = 10,40
envshake.time = 5
fall.envshake.time = 10
p1stateno = 71060
p2stateno = 71065
p2getp1state = 1
kill = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 71056
ignorehitpause = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 71055

; Missed
[Statedef 71055]
type = S
physics = S
ctrl = 0
anim = 105

[State 0, 1]
type = Explod
trigger1 = time=0
anim = 4015
postype = p1
pos = 0,0
sprpriority = 5
supermove = 1
ownpal = 1


[State 106, 4]
type = selfState
trigger1 = time = 15
value = 0
ctrl = 1

; Denied
[Statedef 71056]
type = A
physics = N
ctrl = 0
anim = 1057

[State 105, 1]
type = VelSet
trigger1 = AnimElem = 2
x = -2
y = -4

[State 106, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,5
channel = 2

[State 106, 3]
type = veladd
trigger1 = time = 10
x = .06

[State 106, 3]
type = VelAdd
trigger1 = Time > 2
y = .29

[State 106, 4]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52


; The Smackdown
[Statedef 71060]
type    = S
movetype= A
physics = N
velset = .75,0
anim = 201
ctrl = 0



[State 0, 1]
type = PlayerPush
trigger1 = 1
value = 0
;ignorehitpause = 0
;persistent = 1



[State 202, 1]
type = HitDef
trigger1 = time % 3 = 0
attr = S, NA
damage = 31,1
animtype = Heavy
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 2,2
sparkno = s4100
sparkxy = 0,-60
hitsound = s0,8
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 20
ground.velocity = -15,-4
air.velocity = -15,-4
fall = 1
fall.recover = 0
yaccel = .55
envshake.time = 20
fall.envshake.time = 10
p2stateno = 71065
kill = 0


[State 1475, 4.5]
type = Width
trigger1 = 1
edge = 70, 0

[State 0, 1]
type = PlaySnd
trigger1 = time%10 = 0
value = 0,(random%3)
volume = 255

[State 154, Guard Push Spark]
type = Explod
trigger1 = time%6 = 0
anim = F1
postype = p1
pos = 40,-40
bindtime = -1
ontop = 1
ownpal = 1
random = 60,60

[State 0, 1]
type = Explod
trigger1 = time%20=0
anim = 4040
postype = p1
pos = 15,0
sprpriority = 5
supermove = 1
ownpal = 1


;[State 0, 1]
;type = Explod
;trigger1 = time%20=0
;anim = 990
;postype = p1
;pos = 30,0
;sprpriority = 5
;supermove = 1
;ownpal = 1
;facing = -1


[State -2]; Sorrowedge's Speed Up Code
type = changeanim
trigger1 = animelemtime(animelemno(0)+1) < 0 && anim >= 200 && (anim != [800,1009]) && (anim !=[1060,1069]) && Anim < 3000
trigger1 = animelemtime(animelemno(0)) > floor((animelemtime(animelemno(0))-animelemtime(animelemno(0)+1))/4)
ignorehitpause = 0
value = anim
elem = animelemno(0)+1


[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [0,50]
value = 200

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [51,100]
value = 210

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [101,150]
value = 220

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [151,200]
value = 230

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [201,250]
value = 240

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [251,300]
value = 250

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [301,350]
value = 400

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [351,400]
value = 410

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [401,450]
value = 420

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [451,500]
value = 430

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [501,550]
value = 440

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [551,600]
value = 450

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [601,650]
value = 600

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [651,700]
value = 610

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [701,750]
value = 620

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [751,800]
value = 630

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [801,850]
value = 640

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [851,900]
value = 650

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [901,950]
value = 201

[State 0, 1]
type = ChangeAnim
triggerall = !time || !Animtime
trigger1 = random = [951,999]
value = 231



[State 0, ]
type = NotHitBy
trigger1 = 1
value = SCA
value2 =
;time = 1
;ignorehitpause = 0
;persistent = 1



[State 0, 1]
type = TargetBind
trigger1 = 1
time = 1
;ID = -1
pos = 40,0
;ignorehitpause = 0
;persistent = 1


[State 0, 1]
type = ChangeState
trigger1 = Time >= 60
value = 71061

;Standing Medium Kick
[Statedef 71061]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1056


[State 1475, 4.5]
type = Width
trigger1 = 1
player = 45, 0

[State 0, ]
type = VelSet
trigger1 = AnimElem = 6
x = 5
;y =
;ignorehitpause = 0
;persistent = 1



[State 0, 1]
type = TargetState
trigger1 = !time
value = 897

[State 0, 1]
type = RemoveExplod
trigger1 = !time
ID = 992

[State 202, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
damage = 50
animtype = Heavy
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = s4200
sparkxy = 0,-60
hitsound = s5,9
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 20
ground.velocity = -15,0
air.velocity = -15,0
fall = 1
fall.recover = 0
yaccel = .55
envshake.time = 10
fall.envshake.time = 10
p2stateno = 71066
kill = 0


[State 0, 1]
type = Explod
trigger1 = AnimElem = 4 && Anim = 240
anim = 245
pos = 105,-61
postype = p1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
ownpal = 0
sprpriority = 4
removeongethit = 1
ignorehitpause = 0
;persistent = 1


[State 200, 7]
type = Playsnd
trigger1 = time = 2
value = 1,10

[State 200, 7]
type = Playsnd
trigger1 = AnimElem = 5
value = 0,1

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power

[State 2000, 3]
type = selfState
trigger1 = AnimTime = 0
value = 0



[State 202, 7]
type = selfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Grounder-(Grounds opponent if hit in air)
[Statedef 71065]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0

[State 0, 1]
type = ChangeAnim2
trigger1 = !Time
value = ifelse(random < 500,1059,1058)

[State 0, 2]
type = posset
trigger1 = 1
y = 0

[State 0, 2]
type = velset
trigger1 = Time = 0
y = 0

[State 0, 2]
type = HitFallSet
trigger1 = Time = 0
value = 0

[State 0, 3]
type = SelfState
trigger1 = time >= 40
value = 5000


; Wira Attack
[Statedef 71066]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim
trigger1 = 1
value = 5012

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 71067

;------------------
; Hit by Fast Kung Fu Palm - flying through the air
; (a custom gethit state)
[Statedef 71067]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 1026, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 71068

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 71068]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F5,4

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0 || time >= 5
value = 71069

;------------------
; Hit by Fast Kung Fu Palm - bounce off wall
; (a custom gethit state)
[Statedef 71069]
type    = A
movetype= H
physics = N

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = 4

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)


[State 0, 2]
type = Gravity
trigger1 = 1
;ignorehitpause = 0
;persistent = 1



[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;;;-
;---------------------４倍超かめはめ波
;;--------------------------------------------------
;;---------------------------
;;Fat BuuState 2200
;;---------------------------
;;--------------------------------------------------
 [Statedef 82200]
type = S
movetype = A
physics = S
anim = 2000
poweradd = -1000
velset = 0
ctrl = 0
juggle = 1
sprpriority = 2

[State 3100, 2]
type = NotHitBy
trigger1 = time = 0; && AnimElem = 15 <= 1
value = SCA
time = 120

[State 3100, 8]
type = SuperPause
trigger1 = time = 10;AnimElem = 1
time = 56
movetime = 56
anim = -1
darken = 1

[State 3000, flash]
type = PalFX
trigger1 = time = (3,60]
trigger1 = TimeMod = 4,0
time = 1
add = 100,100,100
ignorehitpause = 1

[State 3000, playsnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2001,1

;[State 3000, playsnd]
;type = PlaySnd
;trigger1 = Time = 1
;value = 2200,0

[State 3000, playsnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4001,2

[State 3100, aura1]
type = Explod
trigger1 = time = 9
anim = 1950
sprpriority = 1
postype = p1
pos = -8,0
supermovetime = 60
removetime = 60
ownpal = 1

[State 3100, aura2]
type = Explod
trigger1 = AnimElem = 9
anim = 1951
sprpriority = 1
postype = p1
pos = -8,0
ownpal = 119999
supermovetime =6
removetime = 6
ownpal = 1

[State 3000, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = -10,0
bindtime = -1
sprpriority = 4
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2200, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[State 1300, 1]
type = Projectile
Trigger1 = animelem = 12
projanim = 2001
projhitanim = -1
projID = 2001
projremove = 0
projremovetime = 50
projscale = 1,1
projhits = 1
projmisstime = 9999
velocity = 0
;projshadow = 150,150,150
projpriority = 6
postype = p1
offset = -40,-20
attr = S, HP
damage = 45,5
animtype = heavy
attr = s, sp
hitflag = MAF
guardflag = MA
sparkno = s1221
guard.sparkno = s4500
sparkxy = ceil (p2dist x) +50, -70
hitsound = S1,1
getpower = 0
guardsound = S6,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 23
ground.hittime = 26
guard.velocity = -4
p2stateno = 13200
fall = 1
kill=0
removeongethit = 1

[State 3000, playsnd]
type = PlaySnd
trigger1 = AnimElem = 12
value = 2200,4



[State 2200, 3]
type = selfState
trigger1 =  animtime = 0
trigger1 =  p2stateno != 13200
value = 0
ctrl = 1

[State 2200, 3]
type = ChangeState
trigger1 =  animtime = 0
trigger1 =  p2stateno = 13200
value = 13100
ctrl = 0

 [Statedef 13100]
type = S
movetype= A
physics = N
anim = 2003

[State 3000, playsnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,0


[State 3000, playsnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = 1400,1




[State 310, zanzou]
type = Explod
trigger1 = time = 9
anim = 2006
ID = 300
postype = p1
pos = 29,-83
bindtime = 1
sprpriority = 10
ownpal = 1
removetime = 36
supermovetime = 36

[State 810, SprPriority]
type = SprPriority
trigger1 = 1
value = 1

[State 2940, sparks]
type=explod
trigger1= (time=[1,29]) && !(time%4)
trigger1 = P2Dist y >=-80
anim=f2
sprpriority=10
postype=p2
pos = 0,-84
random=50,50
facing=ifelse(random<500,-1,1)
vfacing=ifelse(random<500,-1,1)
ownpal=1
pausemovetime=-1
supermovetime=-1

[State 2940, sparks]
type=explod
trigger1= (time=[1,29]) && !(time%4)
trigger1 = P2Dist y <-80
anim=f2
sprpriority=10
postype=p2
pos = 0,-40
random=50,50
facing=ifelse(random<500,-1,1)
vfacing=ifelse(random<500,-1,1)
ownpal=1
pausemovetime=-1
supermovetime=-1

[State 3100, aura1]
type = Explod
trigger1 = time = 0
trigger1 = P2Dist y >=-80

anim = 2010
sprpriority = 9
postype = p2
pos = 0,-84
supermovetime = 36
removetime = 36
ownpal = 1
scale = .3,.3

[State 3100, aura1]
type = Explod
trigger1 = time = 0
trigger1 = P2Dist y <-80
anim = 2010
sprpriority = 9
postype = p2
pos = 0,-40
supermovetime = 36
removetime = 36
ownpal = 1
scale = .3,.3

[State 3100, aura1]
type = Explod
trigger1 = time = 37
anim = 2020
sprpriority = 999
postype = p1
pos = 50,-84
supermovetime = 24
removetime = 24
ownpal = 1
scale = .3,.3

[State 0, ]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "helper"
ID = 2007
stateno = 2007
pos = -0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = .8
size.yscale = .8

[State 0, ]
type = Helper
trigger1 = time = 120
helpertype = normal
name = "ball"
ID = 2030
stateno = 2030
pos = -0,-64
postype = p2
facing = -1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = .3
size.yscale = .3
sprpriority = -1

[State 3000, flash]
type = PalFX
trigger1 = time = [60,100]
trigger1 = TimeMod = 4,0
time = 2
add = 120,120,0
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 80
value = 500

[State 0, TargetPowerAdd]
type = TargetPowerAdd
trigger1 =  time = 80
kill = 0
value = -1000

[State 0, LifeAdd]
type = TargetLifeAdd
trigger1 = time = 80
kill = 0
value = -250

[State 1310, Bind 1]
type = TargetBind
trigger1 = time >= 36
pos = 55, 0

[State 1310, Throw]
type = TargetState
trigger1 = time = 120
value = 13210

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power




[State 1310, State End]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 13200]
type = A
movetype = H
physics = N
velset = 0,0

[State 1320, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 82005

[State 1320, 1]
type = ChangeAnim2
Trigger1 = Time = 50
value = 82004

[Statedef 13210]
type = A
movetype = H
physics = N
velset = 0,0
poweradd = 40
sprpriority = -1

[State 1321, 1] ;Gravity
type = posset
Trigger1 = time = 0
y = -20


[State 1321, 1] ;Gravity
type = Velset
Trigger1 = time< 40
x = -13
y = 0

[State 1531, No scroll]
type = ScreenBound
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1531, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 81512


[State 1532, Effect]
type = PlaySnd
trigger1 = stateno = 1512
value = 8, 1
persistent = -1

[State 1531, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------壁際

[Statedef 81512]
type    = A
movetype= H
physics = N

;[State 1532, Turn]
;type = Turn
;trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1532, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1532, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1532, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1532, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 81520

[State 1532, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 81513

;----------------壁バウンド

[Statedef 81513]
type    = A
movetype= H
physics = N

[State 1533, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 1533, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1533, Vel X]
type = VelSet
trigger1 = Time = 0
x = .6;1.6

;[State 1533, Turn]
;type = Turn
;trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1533, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1533, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1533, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1533, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1533, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1533, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;---------------------４倍超かめはめ波
;;--------------------------------------------------
;;---------------------------
;;TienShinHan State 2200
;;---------------------------
;;--------------------------------------------------

[Statedef 82250]
type = S
movetype = A
physics = S
anim = 2200
poweradd = -1000
velset = 0
ctrl = 0

[State 2200, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2200, super pause]
type = superpause
trigger1 = time = 8
time = 40
movetime = 40
anim = -1

[State 2200, Aura]
type = Explod
trigger1 = animelem = 3
anim = 2700
sprpriority = 5
postype = p1
pos = 67,-19
bindtime = 1
removetime = 40
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 4
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2200, snd1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 1800,8

[State 2200, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 8
value = 1800,10

[State 2200, voice];『イライラするんだよ！』
type = PlaySnd
trigger1 = AnimElem = 2,=4
value = 1800,9
volume = 255

[State 2200, voice];『イライラするんだよ！』
type = PlaySnd
trigger1 = AnimElem = 2,=4
value = 1800,9
volume = 255

[State 2200, proj]
type = Explod
trigger1 = AnimElem = 7
anim = 2600
sprpriority = 2
postype = p1
pos = 0,-75
bindtime = -1
removeongethit = 1
removetime = 30
supermove = 0
ownpal = 1
scale = 1,.1

[State 2200, hit]
type = Projectile
trigger1 = AnimElem = 7
projanim = 2400;2501
projhitanim = -1
projID = 2200
projremove = -1
projremovetime = 30
projhits = 1
projscale = 1,.1
velocity = 0
projshadow = 150,150,150
attr = S, HP
projpriority = 5
postype = p1
offset = 50,-28
attr = S, SP
damage = 280, 20
animtype = heavy
hitflag = MAF
guardflag = MA
sparkno = s4005
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -55
hitsound = S1,7
getpower = 0
guardsound = S6,0
pausetime = 0,10
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -13.5, -4.7
air.velocity = -12.5
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill=0



[State 2200, dust]
type = explod
trigger1 = animelem = 7;time = 25
anim = 4040
pos = 35,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 2200, dust]
type = explod
trigger1 = animelem = 7
anim = 4030
pos = 85,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 11.5
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2000, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------
;---------------------------------------------------
;                         ﾄｧﾉﾁｹ
;---------------------------------------------------
;---------------------------------------------------
[Statedef 82280]
type = S
movetype = A
physics = S
anim = 3200
poweradd = -1000
velset = 0
ctrl = 0
juggle = 1
sprpriority = 2



[State 3200, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
time = 8
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 2000, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2000, super pause]
type = superpause
trigger1 = time = 4
time = 46
movetime = 46
anim = -1

[State 2000, EnvShake]
type= EnvShake
trigger1= (AnimElem = 1, > 4) && ((GameTime%5) = 0)
time= 10
freq= 140
ampl= -3
phase= 90

[State 2200, Aura1]
type = Explod
trigger1 = animelem = 1
anim = 1225
sprpriority = 5
postype = p1
pos = 7,0
bindtime = -1
removetime = 50
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, Aura2]
type = Explod
trigger1 = animelem = 1
anim = 2700
sprpriority = 5
postype = p1
pos = 41,-30
bindtime = 1
removetime = 50
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = -25,0
bindtime = -1
sprpriority = 5
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1



[State 2200, 1];『かめはめ波〜！』
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,1

[State 2300, proj]
type = Explod
trigger1 = animelem = 2
anim = 2500
sprpriority = 3
postype = p1
pos = -7,7
bindtime = -1
removetime = 48
removeongethit = 1
;supermove = 1
ownpal = 1

[State 3200, dust1]
type = explod
trigger1 = animelem = 2
anim = 4030
pos = 22,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 3200, dust2]
type = explod
trigger1 = animelem = 2
anim = 4040
pos = 85,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 10.5


[State 2200, 1];『かめはめ波〜！』
type = PlaySnd
trigger1 = AnimElem = 2
value = 2900,0



[State 3200, proj]
type = Projectile
trigger1 =  AnimElem = 2
projanim = 2400
projhitanim = -1
projID = 2400
projremove = 0
projremovetime = 30
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,0
damage = 45, 10
projhits = 45
projmisstime = 5*(var(13)+1)
animtype = heavy
guardflag = MA
sparkno = s8400
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + 5, -70
hitsound = S1,7
getpower = 0
guardsound = S6,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -14,-4
air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill=0

[State 3200, proj]
type = Projectile
trigger1 = time = 79
projanim = 2400
projhitanim = -1;8005
projID = 2400
projremove = 0
projremovetime = 9
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,0
damage = 45, 10
;projhits = 45
;projmisstime = 11
animtype = heavy
guardflag = MA
sparkno = s8400
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + 5, -70
hitsound = S1,6
getpower = 0
guardsound = S6,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -14,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
kill=0

[State 2200, dust]
type = explod
trigger1 = animelem = 9;time = 25
anim = 4040
pos = 17,5
sprpriority = 5
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 2000, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;;--------------------------------------------------
;;---------------------------
;;Krillin State 2300
;;---------------------------
;;--------------------------------------------------
[Statedef 82300]
type = S
movetype = A
physics = S
anim = 2300
poweradd = -2000
velset = 0,0
ctrl = 0
sprpriority = 2

[state 2300, super a]
type = superpause
trigger1 = time = 4
time = 40
anim = -1

[State 2300, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[State 2300, Aura1]
type = Explod
trigger1 = animelem = 3
anim = 1225
sprpriority = 5
postype = p1
pos = 15,9
bindtime = -1
removetime = 35
removeongethit = 1
supermove = 1
ownpal = 1

[State 2300, Aura2]
type = Explod
trigger1 = animelem = 3
anim = 2700
sprpriority = 5
postype = p1
pos = 15,9
bindtime = 1
removetime = 40
removeongethit = 1
supermove = 1
ownpal = 1

[State 2300, dust]
type = Explod
trigger1 = AnimElem = 3
anim = 4025
ID = 4025
postype = p1
pos = -15,0
bindtime = -1
sprpriority = 5
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2300, 1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 3
value = 20,0

[State 2300, 1];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 3
value = 2200,2
volume = 255
channel = 4

[State 2300, 1];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 4
value = 2200,4



[State 2300, StopSnd]
type = StopSnd
trigger1 = animelem = 4
channel = 4

[State 2200, 1];『波ぁ〜！！』
type = PlaySnd
trigger1 = AnimElem = 4
value = 2200,5

[State 2300, proj]
type = Explod
trigger1 = animelem = 5
anim = 2600
sprpriority = 3
postype = p1
pos = -18,5
bindtime = -1
removetime = 70
removeongethit = 1
;supermove = 1
ownpal = 1

[State 2000, proj]
type = Explod
trigger1 = AnimElem = 5
anim = 2601
sprpriority = 5
postype = p1
pos = -2,5
bindtime = -1
removeongethit = 1
removetime = 67
supermove = 0
ownpal = 1

[State 2300, proj]
type = Projectile
trigger1 = AnimElem = 5
projanim = 2400
projhitanim = -1;1221
projID = 2300
projremove = 0
projremovetime = 47
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -23,11
attr = S, SP
damage = 65, 20
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + 15, -70
hitsound = S5,5
getpower = 0
guardsound = S6,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
guard.kill = 0
kill = 0

[State 2300, proj2]
type = Projectile
;triggerall = var(10) != 0
trigger1 = time = 44
projanim = 2400
projhitanim = -1;1221
projID = 2200
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = -23,11
damage =150, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + 15, -70
hitsound = S5,5
getpower = 0
guardsound = S6,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1
kill = 0

[State 2200, nojuggle]
type = AssertSpecial
trigger1 = projhit(2200) = 0
flag = nojugglecheck

[State 2200, dust]
type = explod
trigger1 = animelem = 5;time = 25
anim = 4040
pos = 17,5
sprpriority = 5
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 66

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power

[State 2300, 3]
type = selfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;;--------------------------------------------------
;;---------------------------
;;Kid Gohan State 2200
;;---------------------------
;;--------------------------------------------------
[Statedef 82400]
type = S
movetype = A
physics = S
anim = 2200
poweradd = -1000
velset = 0
ctrl = 0
juggle = 1
sprpriority = 2

[State 2000, juggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 2000, super pause]
type = superpause
trigger1 = time = 4
time = 32
movetime = 32
anim = -1

[State 2200, Aura1]
type = Explod
trigger1 = animelem = 1
anim = 1225
sprpriority = 5
postype = p1
pos = 0,0
bindtime = -1
removetime = 12
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, Aura1]
type = Explod
trigger1 = animelem = 13
anim = 1225
sprpriority = 5
postype = p1
pos = -10,0
bindtime = -1
removetime = 20
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, Aura2]
type = Explod
trigger1 = animelem = 1
anim = 2700
sprpriority = 5
postype = p1
pos = 34,-30
bindtime = 1
removetime = 12
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, Aura2]
type = Explod
trigger1 = animelem = 13
anim = 2700
sprpriority = 5
postype = p1
pos = 29,-25
bindtime = 1
removetime = 20
removeongethit = 1
supermove = 1
ownpal = 1

[State 2200, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4025
ID = 4025
postype = p1
pos = -25,0
bindtime = -1
sprpriority = 5
supermovetime = 26
ownpal = 1
removeongethit = 1
facing = -1

[State 2200, 1];『溜める音』
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,0

[State 2200, 1];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 33
value = 2200,4


[State 2200, 1];『かめはめ波〜！』
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,2


[State 2300, proj]
type = Explod
trigger1 = animelem = 33
anim = 2500
sprpriority = 3
postype = p1
pos = 0,5
bindtime = -1
removetime = 67
removeongethit = 1
;supermove = 1
ownpal = 1

[State 2300, proj]
type = Explod
trigger1 = animelem = 33
anim = 2500
sprpriority = 3
postype = p1
pos = 0,5
bindtime = -1
removetime = 67
removeongethit = 1
ownpal = 1

[State 2000, hit]
type = Projectile
trigger1 = AnimElem = 33
projanim = 2400
projhitanim = -1
projID = 2400
projremove = 0
projremovetime = 47
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,5
attr = S, SP
damage = 60, 20
projhits = 45
projmisstime = 11
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s1051
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -55
hitsound = S5,5
getpower = 0
guardsound = S6,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -4,-4
;air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
kill=0
guard.kill = 0

[State 2000, hit2]
type = Projectile
trigger1 = time = 66
projanim = 2400
projhitanim = -1
projID = 2400
projremove = 0
projremovetime = 12
velocity = 0
attr = S, HP
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,5
damage = 100, 20
projhits = 45
projmisstime = 15
animtype = heavy
attr = s, sp
guardflag = MA
sparkno = s4300
guard.sparkno = s4500
sparkxy = ceil (p2dist x) + -10, -66
hitsound = S5,5
getpower = 0
guardsound = S6,0
pausetime = 0,13
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -12.5
air.velocity = -12,-4
air.fall = 1
fall=1
kill=0
fall.recover = 0
air.juggle = 10
envshake.time = 10
envshake.ampl = 4
yaccel = .5
removeongethit = 1

[State 2200, dust]
type = explod
trigger1 = animelem = 9;time = 25
anim = 4040
pos = 17,5
sprpriority = 5
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power

[State 2200, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;;--------------------------------------------------
;;---------------------------
;;Dabura State 3200
;;---------------------------
;;--------------------------------------------------
[Statedef 83201]
type = S
movetype = A
physics = S
anim = 3200
poweradd = -1000
velset = 0
ctrl = 0
juggle = 1
sprpriority = 2

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
time = 8
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[state 3200, super a]
type = superpause
trigger1 = animelem = 3
time = 109
movetime = 109
anim = -1

[State 3200, ]
type = EnvShake
trigger1 = animelem = 4
time = 110
freq = 120
ampl = 3

[State 3200, Aura0]
type = Explod
trigger1 = time = 12
anim = 4000
sprpriority = 1
postype = p1
pos = 0,0
bindtime = -1
removetime = 115
removeongethit = 1
supermove = 1

[State 3200, Aura0]
type = Explod
trigger1 = animelem = 10
anim = 4001
sprpriority = 1
postype = p1
pos = 0,3
bindtime = -1
removetime = 6
removeongethit = 1
supermove = 1

[State 3200, dust]
type = Explod
trigger1 = AnimElem = 4
anim = 8103
ID = 8103
postype = p1
pos = -20,3
bindtime = -1
sprpriority = 3
supermovetime = 130
ownpal = 1
removeongethit = 1
facing = -1

[State 3200, aura]
type = PlaySnd
trigger1 = time = 5
value = 3000,1

[State 3200, flash]
type = PalFX
trigger1 = animelem = 5
time = 25
add = 100,100,100
mul = 256,256,256
sinadd = -100,-100,-100,40
invertall = 0
color = 256

[State 3200, snd2];『撃つ音』
type = PlaySnd
trigger1 = AnimElem = 79
value = 3250,0
channel = 5

[State 3200, snd3];『すぱきん』
type = PlaySnd
trigger1 = AnimElem = 5
value = 3000,3
channel = 4

[State 3200, voice1];『はー』
type = PlaySnd
trigger1 = time = 5
value = 1000,1

[State 3200, voice2];『魔貫光殺砲！』
type = PlaySnd
trigger1 = animelem = 20
value = 3200,0

[State 2350, StopSnd]
type = StopSnd
trigger1 = animelem = 83
channel = 4

[State 1170, 7a]
type = Explod
triggerall = Enemy,TeamMode = Single
triggerall = NumExplod(111) = 0
trigger1 = projhit = 1
ID = 111
anim = 8060
postype = p2
pos = var(2),var(3)
bindtime = -1
removetime = -2
sprpriority = -4
ownpal = 1
persistent = 0


[State 3200, aura]
type = PlaySnd
trigger1 = animelem = 12
value = 3200,0


[State 3200, proj]
type = Explod
trigger1 = animelem = 12
anim = 8020
sprpriority = 5
postype = p1
pos = 6,-97
bindtime = -1
removetime = 60
removeongethit = 1
;supermove = 1
ownpal = 1

[State 3200, proj]
type = Projectile
trigger1 = AnimElem = 12
projanim = 3202
projhitanim = -1
projID = 3202
projremove = 0
projremovetime = 50
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,0
damage = 30, 10
projhits = 45
projmisstime = 5
animtype = heavy
guardflag = MA
sparkno = -1
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + 5, -70
hitsound = S1,2
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -14,-4
air.fall = 1
;fall=1
;fall.recover = 0
air.juggle = 10
palfx.time = 40
palfx.add = 72,-19,-204
palfx.mul = 338,389,256
palfx.sinadd = 61,20,10,15
palfx.invertall = 1
palfx.color = 15
envshake.time = 10
envshake.freq = 180
envshake.ampl = 2
yaccel = .5
guard.kill = 0
kill=0

[State 3200, proj]
type = Projectile
trigger1 = time = 157
projanim = 3202
projhitanim = -1;8005
projID = 3203
projremove = 0
projremovetime = 12
attr = S, HP
velocity = 0
projshadow = 150,150,150
projpriority = 5
postype = p1
offset = 0,0
damage = 35, 10
;projhits = 45
;projmisstime = 11
animtype = heavy
guardflag = MA
sparkno = -1
guard.sparkno = s8000
sparkxy = ceil (p2dist x) + 5, -70
hitsound = S1,2
getpower = 0
guardsound = S3,0
pausetime = 0,15
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -12.5
air.velocity = -14,-4
air.fall = 1
fall=1
fall.recover = 0
air.juggle = 10
palfx.time = 40
palfx.add = 72,-19,-204
palfx.mul = 338,389,256
palfx.sinadd = 61,20,10,15
palfx.invertall = 1
palfx.color = 15
envshake.time = 10
envshake.freq = 180
envshake.ampl = 2
kill=0
yaccel = .5

[State 3200, dust1]
type = explod
trigger1 = animelem = 12
anim = 8106
pos = 22,5
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
facing = -1
removetime = 33

[State 3200, dust2]
type = explod
trigger1 = animelem = 12
anim = 8104
pos = 85,5
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
facing = 1
removetime = 24
velocity = 10.5

[State 0, ChangeState]
type = ChangeState
triggerall = TeamMode = Single
trigger1 = p2life <= 1
trigger1 = AnimTime = 0
value = 8000
ctrl = 0

[State 2202 2]
type = lifeset
trigger1 = Animtime = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = Animtime = 0
value = enemynear(0), power


[State 3200, 3]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;;--------------------------------------------------
;;---------------------------
;;Non DBZ Character
;;---------------------------
;;--------------------------------------------------
[Statedef 89000]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
;anim = 942
sprpriority = 2


[State 2202 2]
type = lifeset
trigger1 = time = 0
value = enemynear(0), life

[State 2202, 2]
type = powerset
trigger1 = time = 0
value = enemynear(0), power

[State 200, 7]
type = SelfState
trigger1 = Time =0
value = 0
ctrl = 1





;;-------------------------------------------------------------------------------
;;;DEATH BY BODY CHANGE
[Statedef 8000]
type = S
physics = S
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "lose"
ID = 7003
stateno = 180
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1


[state 7550,anim]
type = velset
trigger1 = time = 0
x = 0
y = 0

[state 7550,anim]
type = changeanim
trigger1 = time = 0
value = 5010

[state 7550,life]
type = posset
trigger1 = time = 1
y = 9999

[state 7550,life]
type = lifeadd
trigger1 = time = 1
value = -999999

[state 7550,some]
type = SprPriority
trigger1 = time >= 1
value = -5

[state 7550,some]
type = changeanim
trigger1 = time = 10
value = 5050

[State 7550, 2]
type = SelfState
trigger1 = life = 0
trigger2 = time = 1
value = 5150

[state 7550,some]
type = selfstate
trigger1 = time = 12
value = 50

[Statedef 7000]
type = S
physics = S
movetype = H
velset = 0,0
ctrl = 0

[State 0, PosSet]
type = PosSet
trigger1 =time= 0
y = 0
;ignorehitpause =
;persistent =


[State 7000, Change Animation]
type = ChangeAnim
trigger1 = Time = 0
value = 5300

[State 1850, Next]
type = ChangeState
trigger1 = Time = 70
value = 7001


[Statedef 7001]
type = S
physics = S
movetype = H
ctrl = 0


[State 1853, Undizzy]
type = SelfState
trigger1 = (Time = 30)
value = 0
ctrl = 1





;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\ginyu\gcommon.cns}
;==============================================================================

;================================================================================
;                    通常技
;================================================================================
 ;;;-------------------------------------------------
; turn
[Statedef 6005]
type    = S
physics = S
anim = 6005
SprPriority =4

[State 0, Turn]
type = Turn
trigger1 = time =0
;ignorehitpause =
;persistent =

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;----------------------------------
; turn while crouching
[Statedef 6006]
type    = S
physics = S
anim = 6006
SprPriority =4

[State 0, Turn]
type = Turn
trigger1 = animelem = 1
;ignorehitpause =
;persistent =

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
;;;;----------------------------------


;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120


[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; STAND GUARD (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Anim != 130
value = 130

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120


[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown"
value = 131

[State 130, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; CROUCH GUARD (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Anim != 131
value = 131

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120



[State 131, Lo to Hi]
type = ChangeState
trigger1 = command != "holddown"
value = 130

[State 131, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; AIR GUARD (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Anim != 132
value = 132

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120


[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; GUARD (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = 1
value = 150

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120


[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; SGUARDHIT2 (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120


[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = 1
value = 151

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120



[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; AGUARDHIT (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = 1
value = 152

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = 1
value = 6120


[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; AGUARDHIT2 (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 6120

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52


;;;-----------------------------------------------------------------------
;;;-----------------------------------------------------------------------

;GET HIT

;;;-----------------------------------------------------------------------
;;;-----------------------------------------------------------------------
;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),6500,6500) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 6530


[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(6547 + GetHitVar(animtype)))
value = 6547 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001 ;HITG_SLIDE

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5000, FFB Light]
type = ForceFeedback
triggerall = !IsHelper
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
triggerall = !IsHelper
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
triggerall = !IsHelper
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 5000, FFB Light]
type = ForceFeedback
triggerall = IsHelper(6000)
trigger1 = anim = 6500
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
triggerall = IsHelper(6000)
trigger1 = anim = 6501
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
triggerall = IsHelper(6000)
trigger1 = anim = 6502
persistent = 0
time = 15
waveform = sinesquare
ampl = 140


;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 5001]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 2]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = AnimTime = 0
value = 6505 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10


[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 6500 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 6530

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(6547 + GetHitVar(animtype)))
value = 6547 + GetHitVar(animtype) ;5051 - 4 + type


[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5011 ;HITC_SLIDE

[State 5010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
triggerall = !IsHelper
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
triggerall = !IsHelper
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
triggerall = !IsHelper
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 5010, FFB Light]
type = ForceFeedback
triggerall = IsHelper(6000)
trigger1 = anim = 6500
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
triggerall = IsHelper(6000)
trigger1 = anim = 6501
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
triggerall = IsHelper(6000)
trigger1 = anim = 6502
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 5011]
type    = C
movetype= H
physics = C

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5011, 2]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)

[State 5011, 2]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = AnimTime = 0
value = 6505 + GetHitVar(animtype)

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5011, 6]
type = ChangeState
trigger1 = HitOver
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 5020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),6500,6500) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 6530

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(6547 + GetHitVar(animtype)))
value = 6547 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
triggerall = !IsHelper
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
triggerall = !IsHelper
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
triggerall = !IsHelper
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 5020, FFB Light]
type = ForceFeedback
triggerall = IsHelper(6000)
trigger1 = anim = 6500
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
triggerall = IsHelper(6000)
trigger1 = anim = 6501
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
triggerall = IsHelper(6000)
trigger1 = anim = 6502
trigger2 = anim = 6530
trigger3 = anim = [6551,6559]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5040 ;HITA_RECOV

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5050 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = SelfAnimExist(6535)
trigger1 = Anim != [6551,6559] ;Not if in hit up anim
trigger1 = Anim != 6590 ;Not if hit off ground anim
value = 6535

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !IsHelper
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;HITA_RECOV

[State 5035, 3]
type = ChangeState
triggerall = IsHelper(6000)
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 6535 ;.
value = 5040 ;HITA_RECOV

[State 5035, 4]
type = ChangeState
triggerall = !IsHelper
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5050 ;HITA_FALL

[State 5035, 4]
type = ChangeState
triggerall = IsHelper(6000)
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 6535 ;.
value = 5050 ;HITA_FALL

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 2]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = AnimTime = 0
trigger1 = Anim != 6540
trigger2 = Time = 0
trigger2 = Anim != 6535
value = 6540


[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
triggerall = !IsHelper
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
triggerall = !IsHelper
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = AnimTime = 0
trigger1 = Anim = 6535
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 6535
trigger2 = (Anim != [6551, 6559]) && (Anim != [6561, 6569])
trigger2 = Anim != 6590 ;Not if hit off ground anim
value = 6550

[State 5050, 2] ;Coming down anim
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = anim = [6550,6559]
trigger1 = Vel Y >= ifelse(anim = 6550, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0



[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
triggerall = !IsHelper
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

[State 5050, 6]
type = ChangeState
triggerall = IsHelper(6000)
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [6551,6559]) || (anim = [6561,6569]), 0, 25)
value = 5100 ;HIT_BOUNCE


;---------------------------------------------------------------------------
; HIT_TRIP (shaking)
[Statedef 5070]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5070, 1]
type = ChangeAnim
triggerall = !IsHelper
trigger1 = 1
value = 5070

[State 5070, 1]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = 1
value = 6570

[State 5070, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5071

[State 5070, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HITL_SHAKE
[Statedef 5080]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = time = 0
sysvar(2) = ifelse (GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
triggerall = !IsHelper
trigger1 = time = 0
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
triggerall = !IsHelper
trigger1 = time = 0
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5080, 2]
type = VarAdd
triggerall = IsHelper(6000)
trigger1 = time = 0
trigger1 = (anim = [6581,6589]) || (anim = [6611,6619])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
triggerall = IsHelper(6000)
trigger1 = time = 0
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(6590)
sysvar(2) = 5030


[State 5080, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081 ;HITL_SLIDE

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 5030 ;HITA_UP

;---------------------------------------------------------------------------
; HITL_SLIDE
[Statedef 5081]
type    = L
movetype= H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = Time = 0
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 5110 ;HIT_LIEDOWN

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = !IsHelper
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = !IsHelper
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = time = 0
trigger1 = (anim != [6551,6559]) && (anim != [6561,6569])
trigger2 = !SelfAnimExist(6600 + (anim % 10))
value = 6600

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time = 0
trigger1 = (anim = [6551,6559]) || (anim = [6561,6569])
trigger1 = SelfAnimExist(6600 + (anim % 10))
value = 6600 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = !IsHelper
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = !IsHelper
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = time = 0
trigger1 = anim != [6601,6609]
trigger2 = !SelfAnimExist(6660 + (anim % 10))
value = 6660

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = time = 0
trigger1 = anim = [6601,6609]
trigger1 = SelfAnimExist(6660 + (anim % 10))
value = 6660 + (anim % 10)

[State 0, SprPriority]
type = SprPriority
triggerall = IsHelper(6000)
trigger1 = time = 0
value = 2


[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
triggerall = !IsHelper
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = !IsHelper
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = !IsHelper
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
triggerall = IsHelper(6000)
trigger1 = SelfAnimExist(6610 + (anim % 10))
trigger1 = anim = [6581,6589]
value = 6610 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = time = 0
triggerall = anim != [6610,6619] ;Not already changed anim
trigger1 = anim != [6661,6669]
trigger2 = !SelfAnimExist(6670 + (anim % 10))
value = 6670

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = time = 0
triggerall = anim != [6610,6619] ;Not already changed anim
trigger1 = anim = [6661,6669]
trigger1 = SelfAnimExist(6670 + (anim % 10))
value = 6670 + (anim % 10)

[State 0, SprPriority]
type = SprPriority
trigger1 = IsHelper(6000)
value = 2


[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = !IsHelper
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = !IsHelper
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = var(45) != 1
triggerall = !IsHelper
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = IsHelper(6000)
triggerall = anim = [6671,6679]
triggerall = SelfAnimExist(6610 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 6610 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = IsHelper(6000)
triggerall = Anim != [6611,6619]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 6610

[State 5110, 11] ;If just died
type = ChangeState
triggerall = IsHelper(6000)
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [6610,6619]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 0, Helper]
type = Helper
triggerall = var(45) =1
triggerall = roundstate >= 3
triggerall = NumHelper(7004) < 1
triggerall = (AnimTime = 0) && time=50
trigger1 = Life <= 1
helpertype = normal ;player
name = "win"
ID = 7004
stateno = 5150
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
;keyctrl = 0

[State 0, VarSet]
type = VarSet
triggerall = var(45) =1
triggerall = !ishelper
triggerall = (AnimTime = 0) && time=50
trigger1 = Life <= 1
v = 46    ;fv = 10
value = 1


[State 5120, 7]
type = ChangeState
trigger1 = (AnimTime = 0) && time=50
value = 5120
ctrl = 0



;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 0, VarSet]
type = VarSet
triggerall = !IsHelper
triggerall = var(45) =1
triggerall = roundstate >= 3
triggerall = !ishelper
triggerall = time = 0
trigger1 = Life <= 1
v = 46    ;fv = 10
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = !IsHelper
triggerall = var(45) =1
triggerall = roundstate >= 3
triggerall = !IsHelper
trigger1 = var(46) = 1
flag = invisible

[State 0, Helper]
type = Helper
triggerall = !IsHelper
triggerall = var(45) =1
triggerall = roundstate >= 3
triggerall = NumHelper(7004) < 1
triggerall = time = 0
trigger1 = Life <= 1
helpertype = normal ;player
name = "win"
ID = 7004
stateno = 5150
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
;keyctrl = 0


[State 0, AssertSpecial]
type = AssertSpecial
triggerall = !IsHelper
triggerall = var(45) =1
triggerall = roundstate >= 3
trigger1 = var(46) = 1
flag = invisible

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = !IsHelper
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = !IsHelper
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = time = 0
trigger1 = anim != [6611,6619]
trigger2 = !SelfAnimExist(6620 + (anim % 10))
value = 6620

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = time = 0
trigger1 = anim = [6611,6619]
trigger1 = SelfAnimExist(6620 + (anim % 10))
value = 6620 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 4000, 2]
type = lifeset
triggerall = !IsHelper
triggerall = var(45) =1
trigger1 = time = 0
value = var(48)
;value = target, life

[State 4000, 2]
type = powerset
triggerall = !IsHelper
triggerall = var(45) =1
trigger1 = time = 0
value = var(47)

[State 5120, detect]
type = VarSet
trigger1 = AnimTime = 0
var(45) =0

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = !IsHelper
triggerall = var(45) =1
trigger1 = var(46) = 1
flag = invisible

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = !IsHelper || ishelper(7004)
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = !IsHelper || ishelper(7004)
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
triggerall = !IsHelper || ishelper(7004)
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = !IsHelper || ishelper(7004)
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = IsHelper(6000)
triggerall = Time = 0
triggerall = SelfAnimExist(6640)
trigger1 = (anim != [6611,6619]) && (anim != [6671,6679])
trigger2 = !SelfAnimExist(6640 + (anim % 10))
value = 6640

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = (anim = [6611,6619]) || (anim = [6671,6679])
trigger1 = SelfAnimExist(6640 + (anim % 10))
value = 6640 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
triggerall = IsHelper(6000)
trigger1 = MatchOver = 1
trigger1 = Anim = [6640,6649]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Time = 0
trigger1 = Anim != [6640,6659]
trigger1 = Anim != [6610,6619]
value = 6610

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 1] ;Change anim if done with transition
type = ChangeAnim
triggerall = !IsHelper
trigger1 = Anim = 5035
trigger1 = AnimTime = 0
value = 5050

[State 5200, 1] ;Change anim if done with transition
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = Anim = 6535
trigger1 = AnimTime = 0
value = 6550

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5201

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 75200


[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = -.15
y = -3.5

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5201, 6]
type = GameMakeAnim
trigger1 = Time = 1
value = 60
pos = 0, 0
under = 1

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(6000)
trigger1 = time= 0
value = 75210

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5210, 1]
type = PosFreeze
trigger1 = Time = 0
value = 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -20

[State 5210, 1]
type = VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
y = -4.5

[State 5210, 1]
type = VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = -2

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = 1.5

[State 5210, 2] ;Go fwd
type = VelMul
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = 1

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = -1

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd;Gravity
trigger1 = Time >= 4
y = .35

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMP_LAND
ctrl = 1


;;;-------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 75000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 6]
type = SelfState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001 ;HITG_SLIDE

[State 5000, 7]
type = SelfState
trigger1 = HitShakeOver
value = 5030

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140


;---------------------------------------------------------------------------
; Continue?
[Statedef 5500]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 5500, 1] ;Use continue animation if available
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5500)
value = 5500

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190



