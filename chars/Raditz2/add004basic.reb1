; ADD004 BASIC PIEs ReBuilded CNS (21-10-2016)



;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Raditz.cns}
;==============================================================================

; Constants file By Misterr07

;*******************************************************
; Variables :

; var(1) : Intro Choice
; var(2) : Win Choice
; var(3) : Lose Choice
;
; var(4) : Throw limitations
;
; var(6) : ID
; var(7) : ID Partner
;
; var(8) : Time Limit for Z-Assist
; var(9) : Power
; var(10) : Hitvoice
;
; var(11) : Fireball x or y
; var(12) : Ki Blast a or b
; var(13) : Ki Blast End
; var(14) : Head Butt a or b
; var(15) : Punishement a or b
; var(16) : Elbow Rush x or y
; var(17) : Double Sunday End
; var(18) : Saiyan Fury Beam End
;
; var(19) : Z-Assist Choice Position
; var(20) : Z-Assist Choice Wait Time
; var(57) : Z-Assist Choice
;
; var(22) : AI Sayan Fury
;
; var(26) : Combo for Score
;
; var(27) : Head Butt Limitation Time
; var(28) : Elbow Rush Limitation Time
;
; var(34) : ProjContact for Helper
;
; var(35) : AI Level
; var(36) : AI Activation
; var(37) : Minimum number of enemy helpers
; var(38) : Number of projectiles+helpers of opponent
;
; var(50) : Life
; var(52) : Attack
; var(53) : Time in game
; var(54) : Life for Score
; var(55) : Time for Score
; var(56) : Attack for Score
;
; var(58) : Fury full or not ?
; var(59) : Fury Level
;

; fvar(5) : Corner Push
; fvar(9) : Number of round for Score
; fvar(18) : Damage Dampener based on power
; fvar(19) : Damage Dampener based on hits
; fvar(20) : Damage Dampener

;*******************************************************
; Channels :

; channel 0 : voice
; channel 1 : power charge
; channel 2 : Hit voice
; channel 3 : Miscellaneous sound
; channel 4 : Intro voice
; channel 5 : Intro Fx
;
; channel 7 : Ki-Blast sound

;*******************************************************


[Data]
life = 1000			;Amount of life to start with
power = 3000		;Amount of maximum power
attack = 100		;attack power (more is stronger)
defence = 100		;defensive power (more is stronger)
fall.defence_up = 50	;Percentage to increase defense everytime player is knocked down
liedown.time = 60		;Time which player lies down for, before getting up
airjuggle = 18		;Number of points for juggling
sparkno = 2			;Default hit spark number for HitDefs
guard.sparkno = 40	;Default guard spark number
KO.echo = 0			;1 to enable echo on KO
;volume = 0			;Volume offset (negative for softer)
IntPersistIndex = 54	;Variables with this index and above will not have their values
FloatPersistIndex = 40  ;reset to 0 between rounds or matches. There are 60 int variables,
  				;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
  				;If omitted, then it defaults to 60 and 40 for integer and float
  				;variables repectively, meaning that none are persistent, i.e. all
  				;are reset. If you want your variables to persist between matches,
  				;you need to override state 5900 from common1.cns.


[Size]
xscale = 1			;Horizontal scaling factor.
yscale = 1			;Vertical scaling factor.
ground.back = 26		;Player width (back, ground)
ground.front = 22		;Player width (front, ground)
air.back = 18		        ;Player width (back, air)
air.front = 18		        ;Player width (front, air)
height = 76			;Height of player (for opponent to jump over)
attack.dist = 160		;Default attack distance
proj.attack.dist = 90	        ;Default attack distance for projectiles
proj.doscale = 0		;Set to 1 to scale projectiles too   
head.pos = -3, -98	        ;Approximate position of head
mid.pos = -4, -64		;Approximate position of midsection
shadowoffset = 0		;Number of pixels to vertically offset the shadow
draw.offset = 0,0		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.25		;Walk forward
walk.back = -2.05		;Walk backward
run.fwd  = 7.45, 0		;Run forward (x, y)
run.back = -5.25,-4.975	;Hop backward (x, y)
jump.neu = 0,-9.25		;Neutral jumping velocity (x, y)
jump.back = -3.75		;Jump back Speed (x, y)
jump.fwd = 3.35		;Jump forward Speed (x, y)
runjump.back = -3.75,-9.35;Running jump speeds (opt)
runjump.fwd = 4.55,-9.55	;.
airjump.neu = 0,-9.25	;.
airjump.back = -2.66	;Air jump speeds (opt)
airjump.fwd = 2.4		;.
air.gethit.groundrecover = -.15,-3.5  ;Velocity for ground recovery state (x, y) **MUGEN 1.0**
air.gethit.airrecover.mul = .5,.2     ;Multiplier for air recovery velocity (x, y) **MUGEN 1.0**
air.gethit.airrecover.add = 0,-4.5    ;Velocity offset for air recovery (x, y) **MUGEN 1.0**
air.gethit.airrecover.back = -1       ;Extra x-velocity for holding back during air recovery **MUGEN 1.0**
air.gethit.airrecover.fwd = 0         ;Extra x-velocity for holding forward during air recovery **MUGEN 1.0**
air.gethit.airrecover.up = -2         ;Extra y-velocity for holding up during air recovery **MUGEN 1.0**
air.gethit.airrecover.down = 1.5      ;Extra y-velocity for holding down during air recovery **MUGEN 1.0**

[Movement]
airjump.num = 0		;Number of air jumps allowed (opt)
airjump.height = 20	;Minimum distance from ground before you can air jump (opt)
yaccel = .50125		;Vertical acceleration
stand.friction = .88	;Friction coefficient when standing
crouch.friction = .82	;Friction coefficient when crouching
stand.friction.threshold = 2          ;If player's speed drops below this threshold while standing, stop his movement **MUGEN 1.0**
crouch.friction.threshold = .05       ;If player's speed drops below this threshold while crouching, stop his movement **MUGEN 1.0**
air.gethit.groundlevel = 25           ;Y-position at which a falling player is considered to hit the ground **MUGEN 1.0**
air.gethit.groundrecover.ground.threshold = -20 ;Y-position below which falling player can use the recovery command **MUGEN 1.0**
air.gethit.groundrecover.groundlevel = 10   ;Y-position at which player in the ground recovery state touches the ground **MUGEN 1.0**
air.gethit.airrecover.threshold = -1  ;Y-velocity above which player may use the air recovery command **MUGEN 1.0**
air.gethit.airrecover.yaccel = .35    ;Vertical acceleration for player in the air recovery state **MUGEN 1.0**
air.gethit.trip.groundlevel = 15      ;Y-position at which player in the tripped state touches the ground **MUGEN 1.0**
down.bounce.offset = 0, 20            ;Offset for player bouncing off the ground (x, y) **MUGEN 1.0**
down.bounce.yaccel = .4               ;Vertical acceleration for player bouncing off the ground **MUGEN 1.0**
down.bounce.groundlevel = 12          ;Y-position at which player bouncing off the ground touches the ground again **MUGEN 1.0**
down.friction.threshold = .05         ;If the player's speed drops below this threshold while lying down, stop his movement **MUGEN 1.0**

[Quotes]
; Up to 100 victory quotes can be specified per language (victory0 - victory99)
victory1 = "Time to put you in your place!"
victory2 = "You've got some nerve!"
victory3 = "Ha hah! I did it! I'm the strongest in the universe!"
victory4 = "I'll teach YOU to look down on me!"
victory5 = "Hoo ho ha ha ha ha ha! Now you understand the power of Saiyans!"
victory6 = "What's wrong, your majesty? Holding back?"
victory7 = "What's wrong? Are you… begging for your life?"
victory8 = "You made the mistake of underestimating my power."
victory9 = "Haha! I crushed you like a bug beneath my feet!"
victory10 = "Tch! You don't deserve to be my brother!" ; (Vs Goku)
victory11 = "How dare you defy your brother!" ; (Vs Goku)
victory12 = "Tch! That brat gave me a scare." ; (Vs Gohan)
victory13 = "You'll regret acting so high and mighty." ; (Vs Bardock)


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Poses.cns}
;==============================================================================

;*******************************************************************************
;***************************************************************************
;********************   WinPose - Intro - Lose  ****************************
;***************************************************************************
;*******************************************************************************
;---------------------------------------------------------------------------
; Lose by Time Over  Choice
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, VarRandom]
type = VarRandom
trigger1 = Time = 0
v = 3
range = 1,50

[State 170, 1]
type = ChangeState
trigger1 = var(3) = [1,25]
value = 171

[State 170, 1]
type = ChangeState
trigger1 = var(3) = [26,50]
value = 172

;---------------------------------------------------------------------------
; Lose by Time Over 1
[Statedef 171]
type = S
ctrl = 0
velset = 0,0

[State 171, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S171,0
channel = 0

[State 171, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 171, time]
type = AssertSpecial
trigger1 = time < 240
flag = RoundNotOver

;---------------------------------------------------------------------------
; Lose by Time Over 2
[Statedef 172]
type = S
ctrl = 0
velset = 0,0

[State 172, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S172,0
channel = 0

[State 172, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 172, time]
type = AssertSpecial
trigger1 = time < 200
flag = RoundNotOver


;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S


[State -3, VarSet]; Life
type = VarSet
trigger1 = Time = 0
v = 54
value = var(54) + var(50)
persistent = 0

[State -3, VarSet]; Time
type = VarSet
trigger1 = Time = 0
v = 55
value = var(55) + var(53)
persistent = 0

[State -3, VarSet]; Attack
type = VarSet
trigger1 = Time = 0
v = 56
value = var(56) + var(52)
persistent = 0


[state 180, VictoryQuote]
type = VictoryQuote
triggerall = Time = 0
trigger1 = P2name ="Goku" || P2name ="SSJGoku"
trigger2 = P2name ="GokuSSJ" || P2name ="GokuSSJ2"
trigger3 = P2name ="Goku SSJ" || P2name ="Goku SSJ2"
trigger4 = P2name ="Goku Z2" || P2name ="SSJ Goku Z2"
value = 10 +random%2

[state 180, VictoryQuote]
type = VictoryQuote
triggerall = Time = 0
trigger1 = P2name ="Gohan" || P2name ="Gohan SSJ"
trigger2 = P2name ="GohanSSJ" || P2name ="GohanSSJ2"
trigger3 = P2name ="Gohan Z2" || P2name ="Gohan SSJ2"
value = 12

[state 180, VictoryQuote]
type = VictoryQuote
triggerall = Time = 0
trigger1 = P2name !="Bardock"
value = 13

[state 180, VictoryQuote]
type = VictoryQuote
triggerall = Time = 0
trigger1 = P2name !="Goku" || P2name !="SSJGoku"
trigger2 = P2name !="GokuSSJ" || P2name !="GokuSSJ2"
trigger3 = P2name !="Goku SSJ" || P2name !="Goku SSJ2"
trigger4 = P2name !="Goku Z2" || P2name !="SSJ Goku Z2"
trigger5 = P2name !="Gohan" || P2name !="Gohan SSJ"
trigger6 = P2name !="GohanSSJ" || P2name !="GohanSSJ2"
trigger7 = P2name !="Gohan Z2" || P2name !="Gohan SSJ2"
trigger8 = P2name !="Bardock"
value = 1+random%9


[State 180, VarRandom]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 1,99

[State 180, 1]
type = ChangeState
trigger1 = var(2) = [67,99]
value = 181

[State 180, 1]
type = ChangeState
trigger1 = var(2) = [34,66]
value = 182

[State 180, 1]
type = ChangeState
trigger1 = var(2) = [1,33]
value = 183

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S181,0
channel = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, time]
type = AssertSpecial
trigger1 = time < 160
flag = RoundNotOver

[State 181, ChangeState]
type = ChangeState
triggerall = !Ailevel
triggerall = Matchover
trigger1 = time = 159
value = 188
ctrl = 0

;---------------------------------------------------------------------------
; Win pose 2
; CNS difficulty: basic
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S182,0
channel = 0

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, time]
type = AssertSpecial
trigger1 = time < 200
flag = RoundNotOver

[State 182, ChangeState]
type = ChangeState
triggerall = !Ailevel
triggerall = Matchover
trigger1 = time = 199
value = 188
ctrl = 0

;---------------------------------------------------------------------------
; Win pose 3
; CNS difficulty: basic
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S183,0
channel = 0

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, time]
type = AssertSpecial
trigger1 = time < 120
flag = RoundNotOver

[State 183, ChangeState]
type = ChangeState
triggerall = !Ailevel
triggerall = Matchover
trigger1 = time = 119
value = 188
ctrl = 0

;---------------------------------------------------------------------------
; Win Result
[Statedef 188]
type = S
ctrl = 0
anim = 188
velset = 0,0

[State 188, Helper]
type = Helper
triggerall = NumHelper(19000)=0
trigger1 = Time = 0
name = "score"
ID = 19000
stateno = 19000
pos = 0,0
postype = back
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .5
size.yscale = .5

[State 188, time]
type = AssertSpecial
trigger1 = time < 659
flag = RoundNotOver

;---------------------------------------------------------------------------
; Introduction Choice
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, VarRandom]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1,40

[State 190, ChangeState]
type = ChangeState
trigger1 = Teamside = 1
trigger1 = var(1) = [1,20]
value = 191
ctrl = 0

[State 190, ChangeState]
type = ChangeState
trigger1 = Teamside = 1
trigger1 = var(1) = [21,40]
value = 192
ctrl = 0


[State 190, ChangeState]
type = ChangeState
trigger1 = Teamside = 2
trigger1 = var(1) = [1,20]
value = 193
ctrl = 0

[State 190, ChangeState]
type = ChangeState
trigger1 = Teamside = 2
trigger1 = var(1) = [21,40]
value = 194
ctrl = 0

;---------------------------
; Introduction 1
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S191,0
channel = 4

[State 191, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0;196 - 196*(AiLevel!=0)

;---------------------------
; Introduction 2
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,25
value = S192,0
channel = 4

[State 192, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0;196 - 196*(AiLevel!=0)

;---------------------------
; Introduction 3
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 193, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S193,1
channel = 5

[State 193, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 30
value = S193,0
channel = 4

[State 193, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0;196 - 196*(AiLevel!=0)

;---------------------------
; Introduction 4
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 194, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 194, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S193,1
channel = 5

[State 194, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 30
value = S194,0
channel = 4

[State 194, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0;196 - 196*(AiLevel!=0)

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2,4
value = S195,random%3
channel = 0

[State 195, 2]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Basics.cns}
;==============================================================================

;*******************************************************************************
;***************************************************************************
;*************************   Basics   **************************************
;***************************************************************************
;*******************************************************************************
;---------------------------------------------------------------------------
; Standing Light Punch
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 200
poweradd = 50
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 200, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 200, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 2*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 23, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 0
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 10
guard.slidetime = 6
ground.hittime = 12
guard.hittime = 6
air.hittime = 14
ground.velocity = -5.6
guard.velocity = -2.2
air.velocity = -3.8,-2.8
airguard.velocity = -1.8,-1.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,30
givepower = 30,30

[State 200, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(5) >= 0
moveType = I

[State 200, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 66,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 200, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 200, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Punch Close
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 205
poweradd = 50
sprpriority = 2

[State 205, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 205, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 205, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 2*(MoveHit)
ignorehitpause = 1
persistent = 0


[State 205, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 15, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6, 6
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5,0
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 9
guard.slidetime = 5
ground.hittime = 10
guard.hittime = 5
air.hittime = 10
ground.velocity = -4.6
guard.velocity = -2.2
air.velocity = -3.2,-2.8
airguard.velocity = -1.8,-1.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,30
givepower = 30,30

[State 205, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I


[State 205, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 54,-70
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.305,0.305
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 205, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 54,-70
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.375,0.375
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 205, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 54,-72
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 205, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 80
ctrl = 0
velset = 0,0
anim = 210

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,1

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0

[State 210, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 5*(MoveGuarded) + 10*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 210, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 3*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 45, 0
animtype = med
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12, 12
sparkno = -1
guard.sparkno = -1
hitsound = S5,1
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 17
guard.slidetime = 8
ground.hittime = 17
guard.hittime = 8
air.hittime = 18
ground.velocity = -8.6
guard.velocity = -2.8
air.velocity = -4.2,-3.2
airguard.velocity = -1.9,-1.4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 50,30
givepower = 40,40


[State 210, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 70,-68
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 210, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 210, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 210, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
moveType = I

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
ctrl = 0
velset = 0,0
anim = 230

[State 230, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,2

[State 230, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 230, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 230, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 2*(MoveHit)
ignorehitpause = 1
persistent = 0


[State 230, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 23, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 9, 9
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 2
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 10
guard.slidetime = 6
ground.hittime = 10
guard.hittime = 6
air.hittime = 12
ground.velocity = -6.6
guard.velocity = -2.8
air.velocity = -3.8,-2.8
airguard.velocity = -1.6,-1.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,30
givepower = 30,30


[State 230, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 84,-40
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 230, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 230, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 230, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 230, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Kick Close
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
ctrl = 0
velset = 0,0
anim = 235

[State 235, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,2

[State 235, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 235, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 235, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 2*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 235, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 15, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 7, 7
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 2
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 10
guard.slidetime = 5
ground.hittime = 10
guard.hittime = 5
air.hittime = 12
ground.velocity = -5.2
guard.velocity = -2.3
air.velocity = -3.8,-2.2
airguard.velocity = -1.6,-1.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,30
givepower = 30,30


[State 235, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 44,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 235, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 44,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 235, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 44,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 235, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 235, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 80
ctrl = 0
velset = 0,0
anim = 240

[State 240, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,3

[State 240, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0

[State 240, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 5*(MoveGuarded) + 10*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 240, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 3*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 240, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 45, 0
animtype = med
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12, 12
sparkno = -1
guard.sparkno = -1
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 17
guard.slidetime = 8
ground.hittime = 17
guard.hittime = 8
air.hittime = 18
ground.velocity = -9.6
guard.velocity = -3.8
air.velocity = -5.9,-3.8
airguard.velocity = -2.1,-1.9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 50,30
givepower = 30,30

[State 240, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 82,-80
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 240, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 82,-80
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 240, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 82,-80
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 240, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 30
ctrl = 0
anim = 400

[State 400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,0

[State 400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S300,random%3
channel = 0

[State 400, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 400, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 2*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 400, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 20, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 7, 7
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 0
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 10
guard.slidetime = 6
ground.hittime = 10
guard.hittime = 6
air.hittime = 12
ground.velocity = -4.5
guard.velocity = -1.8
air.velocity = -2.8,-2.8
airguard.velocity = -1.4,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 30,20
givepower = 20,20


[State 400, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 44,-54
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 400, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 44,-54
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 400, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 44,-54
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 400, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 50
ctrl = 0
anim = 410

[State 410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,1

[State 410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S310,random%3
channel = 0

[State 410, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 410, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 3*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 410, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 40, 0
animtype = med
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12, 12
sparkno = -1
guard.sparkno = -1
hitsound = S5, 1
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 16
guard.slidetime = 8
ground.hittime = 16
guard.hittime = 8
air.hittime = 16
ground.velocity = -7.6
guard.velocity = -2.8
air.velocity = -4.8,-3.1
airguard.velocity = -2,-1.8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,20
givepower = 20,20


[State 410, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 46,-36
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 410, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 46,-36
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 410, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 44,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 410, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
moveType = I

[State 410, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Punch Close
[Statedef 415]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 70
ctrl = 0
velset = 0,0
anim = 415

[State 415, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,1

[State 415, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0

[State 415, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 5*(MoveGuarded) + 10*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 415, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 3*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 415, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 33, 0
animtype = hard
air.animtype = Medium
fall.animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 10
sparkno = -1
guard.sparkno = -1
hitsound = S5,1
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 18
guard.slidetime = 10
ground.hittime = 18
guard.hittime = 10
air.hittime = 20
ground.velocity = -2.8,-11.8
guard.velocity = -2.8
air.velocity = -4.2,-5.2
airguard.velocity = -1.9,-1.4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 30,20
givepower = 20,20
fall = 0
air.fall = 0
fall.recover = 0
yaccel = .4


[State 415, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 24,-116
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.385,0.385
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 415, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 24,-116
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.45,0.45
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 415, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 24,-116
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 415, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 415, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 30
ctrl = 0
anim = 430

[State 430, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,2

[State 430, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S300,random%3
channel = 0

[State 430, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 430, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 2*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 430, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 20, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 7, 7
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 2
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 10
guard.slidetime = 5
ground.hittime = 10
guard.hittime = 5
air.hittime = 12
ground.velocity = -5.4
guard.velocity = -1.9
air.velocity = -3.8,-2.2
airguard.velocity = -1.6,-.9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 30,20
givepower = 20,20


[State 430, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 34,-12
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 430, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 34,-12
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 430, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 34,-12
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 430, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
moveType = I

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 50
ctrl = 0
anim = 440

[State 440, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,3

[State 440, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S310,random%3
channel = 0

[State 440, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 440, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 3*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 40, 0
animtype = med
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 11
sparkno = -1
guard.sparkno = -1
hitsound = S5, 3
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 17
guard.slidetime = 9
ground.hittime = 17
guard.hittime = 9
air.hittime = 18
ground.velocity = -7.9
guard.velocity = -2.9
air.velocity = -4.8,-2.8
airguard.velocity = -1.9,-1.4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,20
givepower = 20,20


[State 440, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 36,-60
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 440, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 36,-60
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 440, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 36,-60
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 440, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(5) >= 0
moveType = I

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Kick Close
[Statedef 445]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 80
ctrl = 0
velset = 0,0
anim = 445

[State 445, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,3

[State 445, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0

[State 445, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 5*(MoveGuarded) + 10*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 445, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 3*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 445, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 45, 0
animtype = hard
air.animtype = Medium
fall.animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12, 12
sparkno = -1
guard.sparkno = -1
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 18
guard.slidetime = 10
ground.hittime = 18
guard.hittime = 10
air.hittime = 20
ground.velocity = -2.6,-11.8
guard.velocity = -3.2
air.velocity = -4.8,-6.8
airguard.velocity = -2.1,-1.9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,20
givepower = 20,20
fall = 0
air.fall = 0
fall.recover = 0
yaccel = .4


[State 445, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 18,-126
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 445, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 18,-126
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 445, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 18,-126
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 445, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 445, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 5
poweradd= 30
ctrl = 0
anim = 600

[State 600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,0

[State 600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S300,random%3
channel = 0

[State 600, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 600, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 2*(MoveHit)
ignorehitpause = 1
persistent = 0


[State 600, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 23, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 7
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 0
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 12
guard.slidetime = 6
ground.hittime = 14
guard.hittime = 6
air.hittime = 16
ground.velocity = -3.8
guard.velocity = -1.8
air.velocity = -.4,((vel y)-.25)
airguard.velocity = -2.4,-1.8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 30,20
givepower = 20,20


[State 600, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 62,-78
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 600, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 62,-78
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 600, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 62,-78
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 600, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
moveType = I

[State 600, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

;---------------------------------------------------------------------------
; Jump Strong Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 6
poweradd= 60
ctrl = 0
anim = 610

[State 610, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S200,1

[State 610, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0

[State 610, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 5*(MoveGuarded) + 10*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 610, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 3*(MoveHit)
ignorehitpause = 1
persistent = 0


[State 610, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = A, NA
damage = 45, 0
animtype = med
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 12
sparkno = -1
guard.sparkno = -1
hitsound = S5, 1
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 16
guard.slidetime = 8
ground.hittime = 18
guard.hittime = 10
air.hittime = 20
ground.velocity = -5.88
guard.velocity = -2.8
air.velocity = -.45,((vel y)-.2)
airguard.velocity = -2.8,2.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 30,20
givepower = 20,20


[State 610, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 16,-34
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 610, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 16,-34
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 610, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 16,-34
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 610, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
moveType = I

[State 610, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

;---------------------------------------------------------------------------
; Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 5
poweradd= 30
ctrl = 0
anim = 630

[State 630, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,2

[State 630, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S300,random%3
channel = 0

[State 630, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 4*(MoveGuarded) + 8*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 630, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 2*(MoveHit)
ignorehitpause = 1
persistent = 0


[State 630, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 23, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 7
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 2
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 14
guard.slidetime = 6
ground.hittime = 16
guard.hittime = 6
air.hittime = 18
ground.velocity = -4
guard.velocity = -2
air.velocity = -.4,((vel y)-.25)
airguard.velocity = -2.2,-1.6
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 30,20
givepower = 20,20


[State 630, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 34,-62
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 630, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 34,-62
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 630, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 34,-62
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 630, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 630, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

;---------------------------------------------------------------------------
; Jump Strong Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 6
poweradd= 60
ctrl = 0
anim = 640

[State 640, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,3

[State 640, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0

[State 640, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 5*(MoveGuarded) + 10*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 640, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 3*(MoveHit)
ignorehitpause = 1
persistent = 0


[State 640, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 45, 0
animtype = med
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 12
sparkno = -1
guard.sparkno = -1
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 18
guard.slidetime = 10
ground.hittime = 20
guard.hittime = 10
air.hittime = 20
ground.velocity = -6.4
guard.velocity = -2.8
air.velocity = -.45,((vel y)-.2)
airguard.velocity = -2.8,-2.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 30,20
givepower = 20,20


[State 640, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 24,-36
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 640, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 24,-36
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 640, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 24,-36
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 640, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 640, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1


;---------------------------------------------------------------------------
; Jump Velocity Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 6
poweradd= 60
ctrl = 0
anim = 650

[State 650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,3

[State 650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0

[State 650, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 5*(MoveGuarded) + 10*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 650, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = 1*(MoveGuarded) + 3*(MoveHit)
ignorehitpause = 1
persistent = 0


[State 650, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 45, 0
animtype = med
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 12
sparkno = -1
guard.sparkno = -1
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 18
guard.slidetime = 10
ground.hittime = 20
guard.hittime = 10
air.hittime = 20
ground.velocity = -7.4
guard.velocity = -3.8
air.velocity = -4.85,-3.25
airguard.velocity = -2.8,-2.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 30,20
givepower = 20,20


[State 650, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 42,-12
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 650, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 42,-12
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 650, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 42,-12
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 650, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 650, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1


;---------------------------------------------------------------------------
; Throw - Attempt
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800

[State 800, SprPriority]
type = SprPriority
trigger1 = AnimElemTime(4) < 0
value = 4
ignorehitpause = 1


[State 800, PlaySnd];Wind
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,0

[State 800, PlaySnd];Voice
type = PlaySnd
trigger1 = AnimElem = 1
value = S320,0
channel = 0

[State 800, 1]
type = HitDef
Trigger1 = (Time = 0) && (!var(4))
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1facing = 1          ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 810       ;On success, player changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down
hitsound = S8,0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing the opponent
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60

[State 800, PlaySnd];Wind
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,4

[State 810, PlaySnd];Voice
type = PlaySnd
trigger1 = AnimElem = 3
value = S320,1
channel = 0

[State 810, SprPriority]
type = SprPriority
trigger1 = animelem = 4,>=0
value = 4

[State 810, 1]
type = TargetBind
Trigger1 = AnimElem = 1
pos = -32,0

[State 810, 2]
type = TargetBind
Trigger1 = AnimElem = 2
pos = -36,-10

[State 810, 3]
type = TargetBind
Trigger1 = AnimElem = 3
pos = -38,-96

[State 810, 4]
type = TargetBind
Trigger1 = AnimElem = 4
pos = 102,-94

[State 810, 5]
type = TargetBind
Trigger1 = AnimElem = 5
pos = 110,-92
time = 4

[State 810, TargetVelSet]
type = TargetVelSet
trigger1 = animelem= 5,5
x = 7.2
y = -4

[State 810, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 5
value = -100

[State 810, End Throw]
type = TargetState
trigger1 = AnimElem = 6
value = 821

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Opponent Thrown
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 820, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 820, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

;---------------------------------------------------------------------------
; Opponent Thrown End
[Statedef 821]
type = A
movetype = H
velset = -7.2,-4
anim = 5160

[State 821, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .548

[State 821, PosAdd]
type = PosAdd
trigger1 = Time = 0
x = 30
y = 30
ignorehitpause = 1
persistent = 0

[State 821, 2] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 821, 3] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Pos y > -vel y
value = 5100 ;Hit ground


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/DBZSystem.st}
;==============================================================================

;*******************************************************************************
;***************************************************************************
;***********************   DBZ System   ************************************
;***************************************************************************
;*******************************************************************************

;===============================================================================
;=================   Super Jump After launcher  ================================
;===============================================================================
;-----------------------------------
;Super Jump after launcher
[Statedef 700]
type    = S
physics = S
anim = 40
ctrl = 0
velset = 0,0
facep2 = 1

[State 700, VarSet]; Score Result
type = VarSet
trigger1 = Time = 1
v = 52
value = var(52) + 1
ignorehitpause =  1
persistent = 0

[State 700, VarAdd]; Score result
type = VarAdd
trigger1 = Time = 0
v =  52
value = 4
ignorehitpause = 1
persistent = 0

[State 700, Sound]
type = playsnd
trigger1 = Time = 0
value = S40,0
freqmul = 0.6

[State 700, Explod]
type = Explod
trigger1 = Time = 1
anim = 48
ID = 48
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .45,.45
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 700, vel]
type = VelSet
trigger1 = AnimTime = 0
x = .885 * Const(velocity.jump.fwd.x)
y = Const(velocity.jump.y) - 4.4


[State 700, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;===============================================================================
;==========================   Z-Counter   ======================================
;===============================================================================
;-----------------------------------
; Z-Counter Start  (Stand)
[Statedef 750]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 750
poweradd = -500
sprpriority = 3

[State 750, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 750, VarAdd]; Score result
type = VarAdd
trigger1 = Time = 0
v =  52
value = 4
ignorehitpause = 1
persistent = 0

[State 750, SuperPause]
type = SuperPause
trigger1 = Time = 0
time = 20
anim = -1
sound = S750,1
pos = 0,0
movetime = 20
darken = 0
p2defmul = 1

[State 750, Explod]; Counter Left
type = Explod
triggerall= TeamSide = 1
trigger1= time = 0
anim = 9060
ID = 9060
pos = 0,62
postype = Left
facing = 1
bindtime = 1
removetime = 70
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 750, Explod]; Counter Right
type = Explod
triggerall= TeamSide = 2
trigger1= time = 0
anim = 9061
ID = 9060
pos = 0,62
postype = Right
facing = 1
bindtime = 1
removetime = 70
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 750,EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 255, 255, 255
time = 6

[State 750, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 751
ctrl = 0

;-----------------------------------
; Z-Counter Attack (Stand)
[Statedef 751]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 751
sprpriority = 2

[State 751, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 751, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,1

[State 751, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S750,0
channel = 0

[State 751, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 120, 40
animtype = med
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 18, 20
sparkno = -1
guard.sparkno = -1
hitsound = S750, 2
guardsound = S6, 0
ground.type = High
air.type = Low
ground.slidetime = 38
guard.slidetime = 20
ground.hittime = 38
guard.hittime = 20
air.hittime = 40
ground.velocity = -17.8
guard.velocity = -6.8
air.velocity = -5.8,-4.8
airguard.velocity = -2.8,-2.4
getpower = 0,0
givepower = 0,0
envshake.time = 28
envshake.freq = 90
envshake.ampl = -2
yaccel = 0.5
kill = 0
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 751, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 70,-68
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 751, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 751, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 751, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
moveType = I

[State 751, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;===============================================================================
;=======================     Power Charge   ====================================
;===============================================================================
;-----------------------------------
; Power Charge
[Statedef 900]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 900
poweradd = 0
sprpriority = 2

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S900,0

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem= 1,1
value = S900,1
channel=0

[State 900, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 901

;--------------------------------------
[Statedef 901]
type = S
movetype = I
physics = S
anim = 901
velset = 0,0
ctrl = 0
sprpriority = 2

[State 901, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S900,2
channel = 1

[State 901, Explod];KI
type = Explod
trigger1 = animelem = 1
trigger1 = numexplod(9030)!=1
anim =9030
ID =9030
pos = -3,-2
postype = p1
facing = 1
bindtime = -1
removetime = -1
scale = .625,.595
sprpriority = -1
removeongethit = 1

[State 901, Explod];KI
type = Explod
trigger1 = animelem = 1
trigger1 = numexplod(9031)!=1
anim =9031
ID =9031
pos = 0,-8
postype = p1
facing = 1
bindtime = -1
removetime = -1
scale = .525,.595
sprpriority = 4
removeongethit = 1

[state 901, shake]
type = envshake
trigger1 = ((GameTime%4) = 0)
time = 6
freq = var(9)
ampl = -2

[State 901, 3]
type = PowerAdd
trigger1 = Time = [0,24]
value = 10 - floor(3*(Ailevel /8.0))

[State 901, 1]
type = ChangeState
triggerall = AIlevel = 0
trigger1 = command != "hold_c"
trigger2 = Power >= 3000
value = 902

[State 901, 2]
type = ChangeState
triggerall = AIlevel != 0
trigger1 = p2movetype = A
trigger2 = P2Bodydist x < 80
trigger3 = Power >= 3000
value = 902

[State 901, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 901

;------------------------
[Statedef 902]
type = S
movetype = I
physics = S
anim = 902
velset = 0,0
ctrl = 0

[State 902, StopSnd]
type = StopSnd
trigger1 =time=0
channel = 1

[State 902, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl=1


;===============================================================================
;===========================   Z-Assist   ======================================
;===============================================================================
;-----------------------------------
; Z-Assist
[Statedef 950]
type = S
movetype = A
physics = S
anim = 950
poweradd = -500
velset = 0,0
ctrl = 0

[State 950, VarAdd]; Score result
type = VarAdd
trigger1 = Time = 0
v =  52
value = 6
ignorehitpause = 1
persistent = 0

[State 950, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S950,0
channel = 0

[State 950, VarSet]
type = VarSet
trigger1 = AnimElem = 2
v = 8
value = 0
ignorehitpause = 1

[State 950, SuperPause]
type = SuperPause
trigger1 = Time = 0
time = 24
anim = -1
sound = -1
pos = 0,0
movetime = 24
darken = 0
unhittable = 1

[State 950, Helper]
type = Helper
Triggerall = var(57) = 1
trigger1 = Time = 0
name ="Oozaru"
ID = 960
stateno = 960
pos = 150,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 950, Helper]
type = Helper
Triggerall = var(57) = 2
trigger1 = Time = 0
name ="Thales"
ID = 980
stateno = 980
pos = 70,-48
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .875
size.yscale = .9

[State 950, Helper]
type = Helper
Triggerall = var(57) = 3
trigger1 = Time = 0
Name ="Saibaiman"
ID = 970
stateno = 970
pos = 110,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 950, 4]
type = ChangeState
trigger1 =animtime=0
value = 0
ctrl = 1


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Special.st}
;==============================================================================

;*******************************************************************************
;***************************************************************************
;************************    Special   *************************************
;***************************************************************************
;*******************************************************************************

;===============================================================================
;===========================   Fireball   ======================================
;===============================================================================
;-----------------------------------
; Fireball
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
poweradd = 100
velset = 0,0
sprpriority = 2
ctrl = 0


[State 1000, VarSet]
type = VarSet
triggerall = Time = 0
trigger1 = PrevStateNo = [200,445]
v = 26
value = 1
ignorehitpause =  1
persistent = 0

[State 1000, VarSet]; Score Result
type = VarSet
trigger1 = Time = 1
v = 52
value = var(52) + var(26) + 1
ignorehitpause =  1
persistent = 0

[State 1000, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel = 0
trigger1 = Time = 0
v = 11
value = 0*(command="Fireball_x") + 1*(command="Fireball_y")
ignorehitpause = 1

[State 1000, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel
trigger1 = Time = 0
v = 11
value = IfElse(Random<500, 0,1)
ignorehitpause = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
channel = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1000,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S1000,2
channel = 3

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 1010
ID = 1020
pos = 60,-84
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 5
scale = .55,.55
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 1000, Helper]
type = Helper
trigger1 = Animelem = 3
name = "Fireball"
ID = 1010
stateno = 1010
pos = 30,-86
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .575
size.yscale = .575
ignorehitpause = 1

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 1000, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===============================================================================
;===========================   Ki Blast   ======================================
;===============================================================================
;-----------------------------------
; Ki Blast
[Statedef 1100]
type = S
movetype = A
physics = S
anim = 1100
poweradd = 100
velset = 0,0
sprpriority = 0
ctrl = 0

[State 1100, VarSet]
type = VarSet
triggerall = Time = 0
trigger1 = PrevStateNo = [200,445]
v = 26
value = 1
ignorehitpause =  1
persistent = 0

[State 1100, VarSet]; Score Result
type = VarSet
trigger1 = Time = 1
v = 52
value = var(52) + var(26) + 1
ignorehitpause =  1
persistent = 0

[State 1100, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel = 0
trigger1 = Time = 0
v = 12
value = 0*(command="KiBlast_a") + 1*(command="KiBlast_b")
ignorehitpause = 1

[State 1100, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel
trigger1 = Time = 0
v = 12
value = IfElse(Random<500, 0,1)
ignorehitpause = 1

[State 1100, PlaySnd]
type = PlaySnd
triggerall = Anim = 1100
trigger1 = AnimElem = 1
value = S1100,0
channel = 0

[State 1100, PlaySnd]
type = PlaySnd
triggerall = Anim = 1100
trigger1 = AnimElem = 1
value = S1100,1

[State 1100, PlaySnd]
type = PlaySnd
triggerall = Anim = 1100
trigger1 = AnimElem = 4
value = S1100,2
channel = 3

[State 1100, Explod]
type = Explod
triggerall = Anim = 1100
trigger1 = AnimElem = 1
anim = 1115
ID = 1115
pos = 2,-128
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 5
scale = .375,.375
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 1100, Explod]
type = Explod
triggerall = Anim = 1100
trigger1 = AnimElem = 2
anim = 1116
ID = 1116
pos = -18,-140
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 4
scale = .375,.375
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 1100, Explod]
type = Explod
triggerall = Anim = 1100
trigger1 = AnimElem = 3
anim = 1117
ID = 1117
pos = -60,-114
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 4
scale = .375,.375
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 1100, Explod]
type = Explod
triggerall = Anim = 1100
trigger1 = AnimElem = 4
anim = 1118
ID = 1118
pos = 58,-94
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 6
scale = .215,.215
sprpriority = 6
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 1100, Helper]
type = Helper
triggerall = Anim = 1100
trigger1 = Animelem = 4
name = "Blast"
ID = 1110
stateno = 1110
pos = 54,-94
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .465
size.yscale = .595
ignorehitpause = 1

[State 1100, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 1100
trigger1 = var(13)
value = 1105
ignorehitpause = 1

[State 1100, StateTypeSet: Idle]
type = StateTypeSet
triggerall = Anim = 1105
trigger1 = AnimElemTime(2) >= 0
moveType = I

[State 1100, End]
type = ChangeState
triggerall = Anim = 1105
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;===============================================================================
;===========================   Head Butt   =====================================
;===============================================================================
;-----------------------------------
; Head Butt Start
[Statedef 1200]
type = S
movetype = A
physics = S
anim = 1200
poweradd = 150
velset = 0,0
juggle = 8
sprpriority = 2
ctrl = 0

[State 1200, VarSet] ; Limitation
type = VarSet
trigger1 = Time = 1
v = 27
value = 68
ignorehitpause = 1
persistent = 0

[State 1200, VarSet]
type = VarSet
triggerall = Time = 0
trigger1 = PrevStateNo = [200,445]
v = 26
value = 1
ignorehitpause =  1
persistent = 0

[State 1200, VarSet]; Score Result
type = VarSet
trigger1 = Time = 1
v = 52
value = var(52) + var(26) + 1
ignorehitpause =  1
persistent = 0

[State 1200, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel = 0
trigger1 = Time = 0
v = 14
value = 0*(command="HeadButt_a") + 1*(command="HeadButt_b")
ignorehitpause = 1

[State 1200, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel
trigger1 = Time = 0
v = 14
value = IfElse(Random<500, 0,1)
ignorehitpause = 1

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 8.25 + 1.05*var(14)
y = -3.75 - 1.05*var(14)
ignorehitpause = 1

[State 1200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3,>=0
statetype = A
movetype = A
physics = A

[State 1200, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 9005
ID = 9005
pos = 0,-12
postype = p1
facing = 1
bindtime = 3
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S1200,0
channel = 0

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = S1200,1

[State 1200, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = A,SA
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Back
fall.animtype = Back
priority = 5,Hit
damage = 110-30*var(14),30
pausetime = 9,10
guard.pausetime = 6,6
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S1200,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 15 + 6*var(14)
guard.slidetime = 7 + 3*var(14)
ground.hittime = 15 + 6*var(14)
guard.hittime = 7 + 3*var(14)
air.hittime = 16 + 6*var(14)
ground.velocity = -10.45 - 3.85*var(14)
guard.velocity = -4.1 - 1.1*var(14)
air.velocity = -7.1 - 3.1*var(14),-5.1 - 2.1*var(14)
airguard.velocity = -3.1 - 1.1*var(14),-2.1 - 1.1*var(14)
fall = 0
air.fall = 1
numhits = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,20
givepower = 40,40
envshake.time = 14 + 6*(var(14))
envshake.freq = 95 + 25*(var(14))
envshake.ampl = -2


[State 1200, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 46,-52
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 1200, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 46,-52
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 1200, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 46,-52
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 1200, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 6*(MoveGuarded) + 14*(MoveHit)
ignorehitpause = 1
persistent = 0


[State 1200, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = (1*(MoveGuarded) + 3*(MoveHit))*(var(26)+1)
ignorehitpause = 1
persistent = 0

[State 1200, End]
type = ChangeState
trigger1 = Time = 18 + 6*var(14)
trigger2 = MoveContact
value = 1210
ctrl = 0

;-----------------------------------
; Head Butt Going Down
[Statedef 1210]
type = A
movetype = I
physics = A
anim = 1210
sprpriority = 0
ctrl = 0
movehitpersist = 1
hitcountpersist = 1

[State 1210, VelSet]
type = VelSet
trigger1 = Time = 0
x = 1.85 + 0.75*var(14)
y = 3 + 1.2*var(14)
ignorehitpause = 1

[State 1210, ChangeState]
type = ChangeState
trigger1 = Pos Y > - Vel Y
value = 1220
ctrl = 0

;-----------------------------------
; Head Butt Land
[Statedef 1220]
type = S
movetype = I
physics = S
anim = 1220
sprpriority = 0
velset = 0,0
ctrl = 0
movehitpersist = 1
hitcountpersist = 1

[State 1220, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1220, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0

[State 1220, Explod]
type = Explod
trigger1 = Time = 0
anim = 9004
ID = 9004
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .675,.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 1220, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;===============================================================================
;===========================   Punishement  ====================================
;===============================================================================
;-----------------------------------
; Punishement Start
[Statedef 1300]
type = S
movetype = A
physics = S
anim = 1300
poweradd = 100
velset = 0,0
juggle = 2
sprpriority = 2
ctrl = 0

[State 1300, VarSet]
type = VarSet
triggerall = Time = 0
trigger1 = PrevStateNo = [200,445]
v = 26
value = 1
ignorehitpause =  1
persistent = 0

[State 1300, VarSet]; Score Result
type = VarSet
trigger1 = Time = 1
v = 52
value = var(52) + var(26) + 1
ignorehitpause =  1
persistent = 0

[State 1300, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel = 0
trigger1 = Time = 0
v = 15
value = 0*(command="Punishement_a") + 1*(command="Punishement_b")
ignorehitpause = 1

[State 1300, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel
trigger1 = Time = 0
v = 15
value = IfElse(Random<500, 0,1)
ignorehitpause = 1

[State 1300, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 3.9 + 1.3*var(15)
y = -7 - 2.2*var(15)

[State 1300, Explod]
type = Explod
trigger1 = AnimElem = 1,2
anim = 9003
ID = 9003
pos = 0,-2
postype = p1
facing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .425,.35
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 1300, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2,>=0
statetype = A
movetype = A
physics = A

[State 1300, VelAdd]
type = VelAdd
trigger1 = AnimElem = 5
y = 0.864785

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1300,0
channel = 0

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S40,0

[State 1300, 1]
type = HitDef
Trigger1 = AnimElem = 5
attr = A, ST          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1facing = 1          ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 1310       ;On success, player changes to state 810
p2stateno = 1320       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down
hitsound = S8,0

[State 1300, ChangeState]
type = ChangeState
triggerall = AnimElem = 3,>=0
trigger1 = Pos Y > - Vel Y
value = 1330
ctrl = 0

;-----------------------------------
; Punishement Ground Attack
[Statedef 1310]
type = S
movetype = A
physics = S
anim = 1310
velset = 0,0
sprpriority = 3
ctrl = 0

[State 1300, VarAdd]; Score result
type = VarAdd
trigger1 = Time = 0
v =  52
value = 6
ignorehitpause = 1
persistent = 0

[State 1300, VarAdd]
type = VarAdd
trigger1 = Time = 0
trigger1 = var(59) <280
v =  59
value = 8
ignorehitpause = 1
persistent = 0

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
value = S1300,1

[State 1310, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1310, 1]
type = TargetBind
Trigger1 = AnimElem = 1
pos = 38,0

[State 1310, 1]
type = TargetBind
Trigger1 = AnimElem = 2,>=0
Trigger1 = AnimElem = 11,<0
pos = 34,-14

[State 1310, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
value = -40

[State 1310, HitAdd]
type = HitAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
value = 1
ignorehitpause = 1

[State 1310, TargetState]
type = TargetState
trigger1 = AnimElem = 11
value = 1325

[State 1310, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------
; Punishement Ground Attack P2 State 1
[Statedef 1320]
type = S
movetype = H
physics = N
velset = 0,0
sprpriority = 1
ctrl = 0

[State 1320, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 1320

;------------------------------------------
; Punishement Ground Attack P2 State 2
[Statedef 1325]
type = S
movetype = H
physics = N
sprpriority = 5
anim = 5160
ctrl = 0

[State 1325, PosAdd]
type = PosAdd
trigger1 = Time = 0
y = 16

[State 1325, VelSet]
type = VelSet
trigger1 = Time = 0
x = -3.1
y = -2.9

[State 1325, StateTypeSet]
type = StateTypeSet
trigger1 = Time >=0
statetype = A
movetype = H
physics = A

[State 1325, SelfState]
type = SelfState
triggerall = Time >= 2
trigger1 = Pos Y > - Vel Y
value = 5110

;-----------------------------------
; Punishement Land
[Statedef 1330]
type = S
movetype = I
physics = S
anim = 1330
sprpriority = 0
velset = 0,0
ctrl = 0

[State 1330, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1330, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0

[State 1330, Explod]
type = Explod
trigger1 = Time = 0
anim = 9004
ID = 9004
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .675,.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 1330, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;===============================================================================
;============================  Elbow Rush  =====================================
;===============================================================================
;-----------------------------------
; Elbow Rush
[Statedef 1400]
type = S
movetype = A
physics = S
anim = 1400
poweradd = 150
velset = 0,0
juggle = 9
sprpriority = 2
ctrl = 0

[State 1400, VarSet] ; Limitation
type = VarSet
trigger1 = Time = 1
v = 28
value = 68
ignorehitpause = 1
persistent = 0

[State 1400, VarSet]
type = VarSet
triggerall = Time = 0
trigger1 = PrevStateNo = [200,445]
v = 26
value = 1
ignorehitpause =  1
persistent = 0

[State 1400, VarSet]; Score Result
type = VarSet
trigger1 = Time = 1
v = 52
value = var(52) + var(26) + 1
ignorehitpause =  1
persistent = 0

[State 1400, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel = 0
trigger1 = Time = 0
v = 16
value = 0*(command="ElbowRush_x") + 1*(command="ElbowRush_y")
ignorehitpause = 1

[State 1400, VarSet]; Command Detect
type = VarSet
triggerall = Ailevel
trigger1 = Time = 0
v = 16
value = IfElse(Random<500, 0,1)
ignorehitpause = 1

[State 1400, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 12.25 + 7.85*var(15)

[State 1400, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 9005
ID = 9005
pos = 0,-12
postype = p1
facing = 1
bindtime = 4
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1400,0
channel = 0

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1400,1

[State 1400, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Hard
priority = 5,Hit
damage = 100-25*var(16),25
pausetime = 12,12
guard.pausetime = 6,6
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S1400,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 15 + 6*var(16)
guard.slidetime = 8 + 3*var(16)
ground.hittime = 15 + 6*var(16)
guard.hittime = 8 + 3*var(16)
air.hittime = 15 + 6*var(16)
ground.velocity = -10.75 - 4.05*var(16)
guard.velocity = -4.2 - 1.4*var(16)
air.velocity = -6.8 - 3.4*var(16),-3.4 - 2.2*var(16)
airguard.velocity = -3.2 - 1.2*var(16),-2.2 - 1.2*var(16)
fall = 0
air.fall = 1
numhits = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,20
givepower = 40,40
envshake.time = 12 + 6*(var(14))
envshake.freq = 75 + 20*(var(14))
envshake.ampl = -2


[State 1400, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 44,-64
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.4,0.4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 1400, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 44,-64
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.5,0.5
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 1400, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 44,-64
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 1400, VarAdd]
type = VarAdd
trigger1 = var(59) <280
trigger1 = MoveContact
v =  59
value = 6*(MoveGuarded) + 14*(MoveHit)
ignorehitpause = 1
persistent = 0


[State 1400, VarAdd]; Score result
type = VarAdd
trigger1 = MoveContact
v =  52
value = (1*(MoveGuarded) + 3*(MoveHit))*(var(26)+1)
ignorehitpause = 1
persistent = 0

[State 1400, End]
type = ChangeState
trigger1 = Time = 20 + 11*var(16)
trigger2 = MoveContact
value = 1410
ctrl = 0

;-----------------------------------
; Elbow Rush End
[Statedef 1410]
type = S
movetype = I
physics = S
anim = 1410
sprpriority = 2
ctrl = 0
movehitpersist = 1
hitcountpersist = 1

[State 1410, VelAdd]
type = VelAdd
trigger1 = vel x > 0
x = -.23456
ignorehitpause  = 1

[State 1410, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Supers.st}
;==============================================================================

;*******************************************************************************
;***************************************************************************
;************************    Supers   *************************************
;***************************************************************************
;*******************************************************************************

;===============================================================================
;=========================  Weekly Special =====================================
;===============================================================================
;-----------------------------------
; Weekly Special Attack 1
[Statedef 2000]
type = S
movetype = A
physics = S
anim = 2000
poweradd = -2000
velset = 0,0
sprpriority = 2
ctrl = 0

[State 2000, VarSet]; Score Result
type = VarSet
trigger1 = Time = 0
v = 52
value = var(52) + 6 + 10*((PrevStateNo = 1100) || (PrevStateNo = 1200) || (PrevStateNo = 1220) || (PrevStateNo = 1410)) + 8*(PrevStateNo=[200,445])
ignorehitpause =  1
persistent = 0

[State 2000, Corner Push]
type = VarSet
trigger1 = AnimElem = 2
fvar(5) = 0

[State 2000, SuperPause]
type = SuperPause
trigger1 = Time = 0
time = 40
anim = -1
sound = S9999,0
pos = 0,0
movetime = 40
darken = 0
unhittable = 1


[State 2000, Explod]; Super FX
type = Explod
trigger1 = Time = 0
anim = 9040
ID = 9040
pos = -6,-128
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .45,.45
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 2000, explod] ;Super BG 0
type = Explod
trigger1 = AnimElem = 1
anim = 9100
id = 9100
postype = back
pos = 0, -10
facing = 1
removetime = -1
sprpriority = -6
scale =.575,.575
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2000, explod] ;Super Portrait
type = Explod
trigger1 = Time = 0
anim = 9110
id = 9110
postype = back
pos = 0,-60
facing = 1
removetime = -1
sprpriority = -3
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2000, explod] ;Super BG Portrait
type = Explod
trigger1 = Time = 0
anim = 9120
id = 9110
postype = back
pos = 0,-60
facing = 1
removetime = -1
sprpriority = -2
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2000, explod] ;Super Window
type = Explod
trigger1 = time = 0
anim = 9130
id = 9130
postype = back
pos = 0, -60
facing = 1
removetime = -1
sprpriority = -4
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1



[State 2000, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = ((P2Bodydist x) + 16.0)/10.0

[State 2000, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1,24
value = S2000,0
channel = 0

[State 2000, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S1200,1

[State 2000, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 9005
ID = 9005
pos = 0,-12
postype = p1
facing = 1
bindtime = 3
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 2000, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 60,20
pausetime = 6,8
guard.pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,0
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -3.8
guard.velocity = -4
air.velocity = -4,-4
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 28
envshake.freq = 93
envshake.ampl = -2


[State 2000, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 66,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2000, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2000, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2000, ChangeState 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 2000, ChangeState 2]
type = ChangeState
trigger1 = MoveHit
value = 2010

;-----------------------------------
; Weekly Special Attack 2
[Statedef 2010]
type = S
movetype = A
physics = S
anim = 2010
sprpriority = 2
ctrl = 0

[State 2010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,1

[State 2010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S310,random%3
channel = 0

[State 2010, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 60,20
pausetime = 6,8
guard.pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 48
guard.slidetime = 24
ground.hittime = 48
guard.hittime = 24
air.hittime = 44
ground.velocity = -2.4
guard.velocity = -4
air.velocity = -3,-3
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 30
envshake.freq = 95
envshake.ampl = -2


[State 2010, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 70,-68
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2010, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2010, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 2010, ChangeState 1]
type = ChangeState
trigger1 = MoveHit
value = 2020

[State 2010, ChangeState 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------
; Weekly Special Attack 3
[Statedef 2020]
type = S
movetype = A
physics = S
anim = 2020
sprpriority = 2
ctrl = 0

[State 2020, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,0

[State 2020, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 2020, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 6,8
guard.pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,0
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -2.4
guard.velocity = -4
air.velocity = -4,-4
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 28
envshake.freq = 93
envshake.ampl = -2


[State 2020, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 66,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2020, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2020, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2020, ChangeState 2]
type = ChangeState
trigger1 = MoveHit
value = 2030

[State 2020, ChangeState 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------
; Weekly Special Attack 4
[Statedef 2030]
type = S
movetype = A
physics = S
anim = 2010
sprpriority = 2
ctrl = 0

[State 2030, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,1

[State 2030, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S310,random%3
channel = 0

[State 2030, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 6,8
guard.pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 48
guard.slidetime = 24
ground.hittime = 48
guard.hittime = 24
air.hittime = 44
ground.velocity = -.85
guard.velocity = -4
air.velocity = -3,-3
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 30
envshake.freq = 95
envshake.ampl = -2


[State 2030, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 70,-68
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2030, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2030, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 2030, ChangeState 1]
type = ChangeState
trigger1 = MoveHit
value = 2040

[State 2030, ChangeState 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------
; Weekly Special Attack 5
[Statedef 2040]
type = S
movetype = A
physics = S
anim = 2020
sprpriority = 2
ctrl = 0

[State 2040, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,0

[State 2040, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 2040, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 5,8
guard.pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,0
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -.85
guard.velocity = -4
air.velocity = -4,-4
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 28
envshake.freq = 93
envshake.ampl = -2


[State 2040, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 66,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2040, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2040, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2040, ChangeState 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 2040, ChangeState 2]
type = ChangeState
trigger1 = MoveHit
value = 2050

;-----------------------------------
; Weekly Special Attack 6
[Statedef 2050]
type = S
movetype = A
physics = S
anim = 2010
sprpriority = 2
ctrl = 0

[State 2050, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,1

[State 2050, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S310,random%3
channel = 0

[State 2050, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 6,8
guard.pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 48
guard.slidetime = 24
ground.hittime = 48
guard.hittime = 24
air.hittime = 44
ground.velocity = -.5
guard.velocity = -4
air.velocity = -3,-3
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 30
envshake.freq = 95
envshake.ampl = -2


[State 2050, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 70,-68
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2050, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2050, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 2050, ChangeState 1]
type = ChangeState
trigger1 = MoveHit
value = 2060

[State 2050, ChangeState 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------
; Weekly Special Attack 7
[Statedef 2060]
type = S
movetype = A
physics = S
anim = 2060
sprpriority = 2
ctrl = 0

[State 2060, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,1

[State 2060, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S310,random%3
channel = 0

[State 2060, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 4,5
guard.pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 48
guard.slidetime = 24
ground.hittime = 48
guard.hittime = 24
air.hittime = 44
ground.velocity = -2.6,-8.8
guard.velocity = -4
air.velocity = -3.8,-8
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recovertime = 120
fall.recover = 0
envshake.time = 30
envshake.freq = 95
envshake.ampl = -2
fall.envshake.time = 42
fall.envshake.freq = 115
fall.envshake.ampl = -3


[State 2060, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 44,-114
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.385,0.385
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2060, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 44,-114
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.45,0.45
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2060, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 44,-114
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 2060, ChangeState 1]
type = ChangeState
trigger1 = MoveHit
value = 2070

[State 2060, ChangeState 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------
; Weekly Special Jump
[Statedef 2070]
type = S
movetype = A
physics = S
anim = 2070
sprpriority = 2
ctrl = 0

[State 2070, PlaySnd]
type = PlaySnd
trigger1 = Time = 4
value = S40,0

[State 2070, Explod]
type = Explod
trigger1 = Time = 4
anim = 9003
ID = 9003
pos = 0,-2
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .425,.35
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 2070, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 5.15
y = -11.88
ignorehitpause = 1

[State 2070, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2,>=0
statetype = A
movetype = A
physics = A

[State 2070, ChangeState 1]
type = ChangeState
triggerall = AnimElem = 3,>=0
trigger1 = (P2Bodydist x) < 16
trigger1 = (P2Bodydist y) =[-8,34]
value = 2080

[State 2070, ChangeState 2]
type = ChangeState
triggerall = AnimElem = 3,>=0
trigger1 = Pos Y > - Vel Y
value = 52

;-----------------------------------
; Weekly Special Attack 8
[Statedef 2080]
type = A
movetype = A
physics = A
anim = 2080
sprpriority = 2
ctrl = 0

[State 2080, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S200,1

[State 2080, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0

[State 2080, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = A,HA
hitflag = MAF
guardflag = MA
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 6,12
guard.pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 68
guard.slidetime = 24
ground.hittime = 68
guard.hittime = 24
air.hittime = 68
ground.velocity = -1.6
guard.velocity = -4
air.velocity = -2.2,5.2
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recovertime = 120
fall.recover = 0
envshake.time = 30
envshake.freq = 120
envshake.ampl = -2
fall.envshake.time = 40
fall.envshake.freq = 125
fall.envshake.ampl = -3


[State 2080, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 16,-34
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2080, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 16,-34
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2080, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 16,-34
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 2080, ChangeState 1]
type = ChangeState
triggerall = AnimElem = 2,>=0
trigger1 = MoveHit
value = 2090

[State 2080, ChangeState 2]
type = ChangeState
triggerall = AnimElem = 2,>=0
trigger1 = Pos Y > - Vel Y
value = 52

;-----------------------------------
; Weekly Special Attack 9
[Statedef 2090]
type = A
movetype = A
physics = N
velset = 0,0
anim = 2090
sprpriority = 2
ctrl = 0

[State 2090, VarSet]; Score Result
type = VarSet
trigger1 = Time = 1
v = 52
value = var(52) + var(26) + 2
ignorehitpause =  1
persistent = 0

[State 2090, PosAdd]
type = PosAdd
trigger1 = Time = 0
y = 12

[State 2090, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5,1
trigger2 = AnimElem = 5,13
trigger3 = AnimElem = 5,25
value = S2000,1
channel = 0

[State 2090, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S2000,2

[State 2090, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5,1
trigger2 = AnimElem = 5,13
trigger3 = AnimElem = 5,25
value = S2000,3


[State 2090, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 2120
ID = 2120
pos = -54,-54
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
scale = .375,.375
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2090, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 2120
ID = 2120
pos = 32,-67
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
scale = .375,.375
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 2090, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 2120
ID = 2120
pos = -22,-46
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 6
scale = .375,.375
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2090, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 2120
ID = 2120
pos = 38,-56
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 6
scale = .375,.375
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 2090, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 2120
ID = 2120
pos = -6,-52
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 28
scale = .35,.35
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2090, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 2120
ID = 2120
pos = 26,-56
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 28
scale = .35,.35
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 2090, Helper]
type = Helper
trigger1 = AnimElem = 5,1
trigger2 = AnimElem = 5,13
trigger3 = AnimElem = 5,25
name = "Ball1"
ID = 2100
stateno = 2100
pos = -6,-52
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .35
size.yscale = .35
ignorehitpause = 1

[State 2090, Helper]
type = Helper
trigger1 = AnimElem = 5,1
trigger2 = AnimElem = 5,13
trigger3 = AnimElem = 5,25
name = "Ball2"
ID = 2100
stateno = 2100
pos = 26,-56
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .35
size.yscale = .35
ignorehitpause = 1

[State 2090, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = A
movetype = I
physics = A

[State 2090, VelSet]
type = VelSet
trigger1 = AnimElem = 6
y = 4.2

[State 2090, ChangeState]
type = ChangeState
triggerall = AnimElem = 2,>=0
trigger1 = Pos Y > - Vel Y
value = 2095

;-----------------------------------
; Weekly Special Land
[Statedef 2095]
type = S
movetype = I
physics = S
velset = 0,0
anim = 2095
sprpriority = 2
ctrl = 0

[State 2095, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2095, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0

[State 2095, Explod]
type = Explod
trigger1 = Time = 0
anim = 9004
ID = 9004
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .675,.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 2095, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;-----------------------------------
; Weekly Special P2 State
[Statedef 2096]
type = L
movetype = H
physics = N
sprpriority = 2
ctrl = 0

[State 2096, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 2096
ignorehitpause = 1

[State 2096, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1

[State 2096, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 2097

;-----------------------------------
; Weekly Special P2 State
[Statedef 2097]
type = L
movetype = H
physics = N
sprpriority = 2
ctrl = 0

[State 2097, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 2097
ignorehitpause = 1

[State 2097, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 1
statetype = A
movetype = H
physics = A

[State 2097, VelSet]
type = VelSet
trigger1 = Time = 1
x = -4.2
y = -7.6
ignorehitpause = 1

[State 2096, SelfState]
type = SelfState
triggerall = Time >= 2
trigger1 = Pos Y > - Vel Y
value = 5100



;===============================================================================
;=========================  Saturday Crash  ====================================
;===============================================================================
;-----------------------------------
; Saturday Crash
[Statedef 2200]
type = S
movetype = A
physics = S
anim = 2200
poweradd = -1000
velset = 0,0
sprpriority = 2
ctrl = 0

[State 2200, VarSet]; Score Result
type = VarSet
trigger1 = Time = 0
v = 52
value = var(52) + 6 + 10*((PrevStateNo = 1100) || (PrevStateNo = 1200) || (PrevStateNo = 1220) || (PrevStateNo = 1410)) + 8*(PrevStateNo=[200,445])
ignorehitpause =  1
persistent = 0

[State 2200, Corner Push]
type = VarSet
trigger1 = AnimElem = 2
fvar(5) = 0


[State 2200, SuperPause]
type = SuperPause
trigger1 = Time = 0
time = 78
anim = -1
sound = S9999,0
pos = 0,0
movetime = 78
darken = 0
unhittable = 1


[State 2200, Explod]; Super FX
type = Explod
trigger1 = Time = 0
anim = 9040
ID = 9040
pos = -6,-128
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .45,.45
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 2200, explod] ;Super BG 0
type = Explod
trigger1 = AnimElem = 1
anim = 9100
id = 9101
postype = back
pos = 0, -10
facing = 1
removetime = -1
sprpriority = -6
scale =.575,.575
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2200, explod] ;Super Portrait
type = Explod
trigger1 = Time = 0
anim = 9110
id = 9111
postype = back
pos = 0,-60
facing = 1
removetime = -1
sprpriority = -3
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2200, explod] ;Super BG Portrait
type = Explod
trigger1 = Time = 0
anim = 9120
id = 9111
postype = back
pos = 0,-60
facing = 1
removetime = -1
sprpriority = -2
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2200, explod] ;Super Window
type = Explod
trigger1 = time = 0
anim = 9130
id = 9131
postype = back
pos = 0, -60
facing = 1
removetime = -1
sprpriority = -4
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1


[State 2200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,22
value = S2200,0
channel = 0

[State 2200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2200,1

[State 2200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S2200,2

[State 2200, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 2320
ID = 2320
pos = -27,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .385,.385
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2200, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 2330
ID = 2330
pos = -32,-76
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .385,.385
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2200, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 2340
ID = 2340
pos = -36,-86
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 4
pausemovetime = 9999
supermovetime = 9999
scale = .385,.385
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2200, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 2340
ID = 2340
pos = -39,-104
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
pausemovetime = 9999
supermovetime = 9999
scale = .385,.385
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2200, Explod]
type = Explod
trigger1 = AnimElem = 6
anim = 2340
ID = 2340
pos = -46,-47
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 3
pausemovetime = 9999
supermovetime = 9999
scale = .385,.385
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 2200, Helper]
type = Helper
trigger1 = AnimElem = 7
name = "Saturday"
ID = 2300
stateno = 2300
pos = 0,-47
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .385
size.yscale = .385
ignorehitpause = 1

[State 2200, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;===============================================================================
;==========================  Double Sunday  ====================================
;===============================================================================
;-----------------------------------
; Double Sunday
[Statedef 2400]
type = S
movetype = A
physics = S
anim = 2400
poweradd = -2000
velset = 0,0
sprpriority = 2
ctrl = 0

[State 2400, VarSet]; Score Result
type = VarSet
trigger1 = Time = 0
v = 52
value = var(52) + 6 + 10*((PrevStateNo = 1100) || (PrevStateNo = 1200) || (PrevStateNo = 1220) || (PrevStateNo = 1410)) + 8*(PrevStateNo=[200,445])
ignorehitpause =  1
persistent = 0

[State 2400, Corner Push]
type = VarSet
triggerall = Anim = 2400
trigger1 = AnimElem = 2
fvar(5) = 0


[State 2400, SuperPause]
type = SuperPause
trigger1 = Time = 0
time = 62
anim = -1
sound = S9999,0
pos = 0,0
movetime = 62
darken = 0
unhittable = 1


[State 2400, Explod]; Super FX
type = Explod
trigger1 = Time = 0
anim = 9040
ID = 9040
pos = -6,-128
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .45,.45
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 2400, explod] ;Super BG 0
type = Explod
triggerall = Anim = 2400
trigger1 = AnimElem = 1
anim = 9100
id = 9102
postype = back
pos = 0, -10
facing = 1
removetime = -1
sprpriority = -6
scale =.575,.575
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2400, explod] ;Super Portrait
type = Explod
trigger1 = Time = 0
anim = 9110
id = 9112
postype = back
pos = 0,-60
facing = 1
removetime = -1
sprpriority = -3
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2400, explod] ;Super BG Portrait
type = Explod
trigger1 = Time = 0
anim = 9120
id = 9112
postype = back
pos = 0,-60
facing = 1
removetime = -1
sprpriority = -2
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2400, explod] ;Super Window
type = Explod
trigger1 = time = 0
anim = 9130
id = 9132
postype = back
pos = 0, -60
facing = 1
removetime = -1
sprpriority = -4
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1



[State 2400, SprPriority]
type = SprPriority
triggerall = Anim = 2400
trigger1 = AnimElem = 5,>=0
value = 0
ignorehitpause = 1

[State 2400, PlaySnd]
type = PlaySnd
triggerall = Anim = 2400
trigger1 = AnimElem = 1,24
value = S2400,0
channel = 0

[State 2400, PlaySnd]
type = PlaySnd
triggerall = Anim = 2400
trigger1 = AnimElem = 2
value = S2400,1

[State 2400, PlaySnd]
type = PlaySnd
triggerall = Anim = 2400
trigger1 = AnimElem = 5
value = S2400,2

[State 2400, PlaySnd]
type = PlaySnd
triggerall = Anim = 2400
trigger1 = AnimElem = 5
value = S2400,3


[State 2400, Explod]
type = Explod
triggerall = Anim = 2400
trigger1 = AnimElem = 2
anim = 2520
ID = 2520
pos = -54,-58
postype = p1
facing = 1
bindtime = -1
removetime = 12
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2400, Explod]
type = Explod
triggerall = Anim = 2400
trigger1 = AnimElem = 2
anim = 2520
ID = 2520
pos = 32,-72
postype = p1
facing = 1
bindtime = -1
removetime = 12
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2400, Explod]
type = Explod
triggerall = Anim = 2400
trigger1 = AnimElem = 3
anim = 2530
ID = 2530
pos = -20,-56
postype = p1
facing = 1
bindtime = -1
removetime = 12
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2400, Explod]
type = Explod
triggerall = Anim = 2400
trigger1 = AnimElem = 3
anim = 2530
ID = 2530
pos = 36,-64
postype = p1
facing = 1
bindtime = -1
removetime = 12
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2400, Explod]
type = Explod
triggerall = Anim = 2400
trigger1 = AnimElem = 4
anim = 2530
ID = 2530
pos = 58,-84
postype = p1
facing = 1
bindtime = -1
removetime = 8
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 2400, Helper]
type = Helper
triggerall = Anim = 2400
trigger1 = AnimElem = 5
name = "SundayBeam"
ID = 2500
stateno = 2500
pos = 26,-88
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .505
size.yscale = .65
ignorehitpause = 1

[State 2400, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 2400
trigger1 = var(17)
value = 2410
ignorehitpause = 1

[State 2400, ChangeState]
type = ChangeState
triggerall = Anim = 2410
trigger1 = Animtime = 0
value = 0
ctrl = 1


;===============================================================================
;========================== Dynamite Monday ====================================
;===============================================================================
;-----------------------------------
; Dynamite Monday Start
[Statedef 2600]
type = S
movetype = A
physics = S
anim = 2000
poweradd = -1000
velset = 0,0
sprpriority = 2
ctrl = 0

[State 2600, VarSet]; Score Result
type = VarSet
trigger1 = Time = 0
v = 52
value = var(52) + 6 + 10*((PrevStateNo = 1100) || (PrevStateNo = 1200) || (PrevStateNo = 1220) || (PrevStateNo = 1410)) + 8*(PrevStateNo=[200,445])
ignorehitpause =  1
persistent = 0

[State 2600, Corner Push]
type = VarSet
trigger1 = AnimElem = 2
fvar(5) = 0

[State 2600, SuperPause]
type = SuperPause
trigger1 = Time = 0
time = 40
anim = -1
sound = S9999,0
pos = 0,0
movetime = 40
darken = 0
unhittable = 1


[State 2600, Explod]; Super FX
type = Explod
trigger1 = Time = 0
anim = 9040
ID = 9040
pos = -6,-128
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .45,.45
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 2600, explod] ;Super BG 0
type = Explod
trigger1 = AnimElem = 1
anim = 9100
id = 9103
postype = back
pos = 0, -10
facing = 1
removetime = -1
sprpriority = -6
scale =.575,.575
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2600, explod] ;Super Portrait
type = Explod
trigger1 = Time = 0
anim = 9110
id = 9113
postype = back
pos = 0,-60
facing = 1
removetime = -1
sprpriority = -3
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2600, explod] ;Super BG Portrait
type = Explod
trigger1 = Time = 0
anim = 9120
id = 9113
postype = back
pos = 0,-60
facing = 1
removetime = -1
sprpriority = -2
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 2600, explod] ;Super Window
type = Explod
trigger1 = time = 0
anim = 9130
id = 9133
postype = back
pos = 0, -60
facing = 1
removetime = -1
sprpriority = -4
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1



[State 2600, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = ((P2Bodydist x) + 20.0)/10.0

[State 2600, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1,22
value = S2600,0
channel = 0

[State 2600, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S1200,1

[State 2600, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 9005
ID = 9005
pos = 0,-12
postype = p1
facing = 1
bindtime = 3
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 2600, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 60,20
pausetime = 6,8
guard.pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,0
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -3.8
guard.velocity = -4
air.velocity = -3,-3
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 28
envshake.freq = 93
envshake.ampl = -2


[State 2600, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 66,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2600, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2600, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2600, ChangeState 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 2600, ChangeState 2]
type = ChangeState
trigger1 = MoveHit
value = 2610

;-----------------------------------
; Dynamite Monday Attack 2
[Statedef 2610]
type = S
movetype = A
physics = S
anim = 2610
sprpriority = 2
ctrl = 0

[State 2610, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,2

[State 2610, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0


[State 2610, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 6,8
guard.pausetime = 5,5
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -2.8
guard.velocity = -4
air.velocity = -4,-4
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = -2


[State 2610, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 84,-40
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2610, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2610, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2610, ChangeState 2]
type = ChangeState
trigger1 = MoveHit
value = 2620

[State 2610, ChangeState 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------
; Dynamite Monday Attack 3
[Statedef 2620]
type = S
movetype = A
physics = S
anim = 2020
sprpriority = 2
ctrl = 0

[State 2620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,0

[State 2620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0


[State 2620, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 6,8
guard.pausetime = 5,5
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,0
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -2.4
guard.velocity = -4
air.velocity = -4,-4
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = -2


[State 2620, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 66,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2620, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2620, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2620, ChangeState 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 2620, ChangeState 2]
type = ChangeState
trigger1 = MoveHit
value = 2630

;-----------------------------------
; Dynamite Monday Attack 4
[Statedef 2630]
type = S
movetype = A
physics = S
anim = 2610
sprpriority = 2
ctrl = 0

[State 2630, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,2

[State 2630, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0


[State 2630, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 6,8
guard.pausetime = 5,5
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -2
guard.velocity = -4
air.velocity = -4,-4
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = -2


[State 2630, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 84,-40
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2630, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2630, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2630, ChangeState 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 2630, ChangeState 2]
type = ChangeState
trigger1 = MoveHit
value = 2640

;-----------------------------------
; Dynamite Monday Attack 5
[Statedef 2640]
type = S
movetype = A
physics = S
anim = 2640
sprpriority = 2
ctrl = 0

[State 2640, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,1

[State 2640, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0


[State 2640, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 6,8
guard.pausetime = 5,5
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -2.4
guard.velocity = -4
air.velocity = -4,-4
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = -2


[State 2640, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 70,-68
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2640, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2640, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2640, ChangeState 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 2640, ChangeState 2]
type = ChangeState
trigger1 = MoveHit
value = 2650

;-----------------------------------
; Dynamite Monday Attack 6
[Statedef 2650]
type = S
movetype = A
physics = S
anim = 2650
sprpriority = 2
ctrl = 0

[State 2650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,3

[State 2650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0


[State 2650, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 6,8
guard.pausetime = 5,5
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -3.6
guard.velocity = -4
air.velocity = -2,-4
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = -2


[State 2650, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 82,-80
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2650, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 82,-80
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 2650, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 82,-80
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 2650, ChangeState 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 2650, ChangeState 2]
type = ChangeState
trigger1 = MoveHit
value = 2660

;-----------------------------------
; Dynamite Monday Attack 7
[Statedef 2660]
type = S
movetype = A
physics = S
anim = 2660
sprpriority = 2
ctrl = 0

[State 2660, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 7
ignorehitpause = 1

[State 2650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
value = S200,1

[State 2650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2600,1
channel = 0

[State 2660, VarSet]; Score Result
type = VarSet
trigger1 = Time = 1
v = 52
value = var(52) + var(26) + 1
ignorehitpause =  1
persistent = 0


[State 2660, HitDef1]
type = HitDef
triggerall = Time%3=0
triggerall = Hitcount<8
trigger1 = AnimElem = 3,>=0
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 2,4
guard.pausetime = 5,5
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,1
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -6.2
guard.velocity = -4
air.velocity = -3,-3
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = -2

[State 2660, HitDef2]
type = HitDef
triggerall = Time%3=0
triggerall = Hitcount=8
trigger1 = AnimElem = 3,>=0
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 6,Hit
damage = 45,15
pausetime = 7,9
guard.pausetime = 5,5
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,1
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 40
ground.velocity = -4.8,-6.8
guard.velocity = -4
air.velocity = -4,-4
airguard.velocity = -2,-2
numhits = 1
getpower = 0,0
givepower = 0,0
fall= 1
air.fall = 1
fall.recover =0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 75
envshake.ampl = -2
fall.envshake.time = 30
fall.envshake.freq = 120
fall.envshake.ampl = -3



[State 2660, Spark 2]
type = Explod
trigger1 = Numexplod(9122) <=3
trigger1 = Movehit = 1
anim = 9022
ID = 9122
postype = P1
pos = 64,-64
random = 20,40
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1

[State 2660, Spark 1]
type = Explod
trigger1 = Numexplod(9122) <=3
trigger1 = Movehit = 1
anim = 9020
ID = 9122
postype = P1
pos = 64,-64
random = 20,40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1

[State 2660, Spark 3]
type = Explod
trigger1 = Numexplod(9124) <=3
trigger1 = Moveguarded = 1
anim = 9024
ID = 9124
postype = P1
pos = 64,-64
random = 20,40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1


[State 2660, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Hyper.st}
;==============================================================================

;*******************************************************************************
;***************************************************************************
;************************    Hyper   *************************************
;***************************************************************************
;*******************************************************************************

;===============================================================================
;==========================  Saiyan Fury  ======================================
;===============================================================================
;-----------------------------------
; Saiyan Fury Start
[Statedef 3000]
type = S
movetype = A
physics = S
anim = 3000
poweradd = -3000
juggle = 8
velset = 0,0
sprpriority = 2
ctrl = 0


[State 3000, VarSet]; Score Result
type = VarSet
trigger1 = Time = 0
v = 52
value = var(52) + 15 + 10*((PrevStateNo = 1100) || (PrevStateNo = 1200) || (PrevStateNo = 1220) || (PrevStateNo = 1410))
ignorehitpause =  1
persistent = 0


[State 3000, Corner Push]
type = VarSet
trigger1 = AnimElem = 2
fvar(5) = 0

[State 3000, Explod]; Hyper FX
type = Explod
trigger1 = Time = 0
anim = 9040
ID = 9040
pos = -6,-128
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .45,.45
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 3000, explod] ;Hyper BG
type = Explod
trigger1 = AnimElem = 1
anim = 9500
id = 9500
postype = back
pos = 0, 0
facing = 1
removetime = -1
sprpriority = -6
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 3000, explod] ;Hyper BG Portrait
type = Explod
trigger1 = Time = 0
anim = 9110
id = 9510
postype = back
pos = 0,-80
facing = 1
removetime = -1
sprpriority = -3
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 3000, explod] ;Hyper Portrait
type = Explod
trigger1 = Time = 0
anim = 9120
id = 9510
postype = back
pos = 0,-80
facing = 1
removetime = -1
sprpriority = -2
scale =.5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 3000, explod] ;Super Window1
type = Explod
trigger1 = time = 0
anim = 9130
id = 9530
postype = back
pos = 0,-80
facing = 1
removetime = -1
sprpriority = -4
scale = .5,.5
supermovetime = 9999
pausemovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1


[State 3000, SuperPause]
type = SuperPause
trigger1 = Time = 0
time = 35
anim = -1
sound = S9999,1
movetime = 35
darken = 0
ignorehitpause = 1


[State 3000, VarSet]
type = VarSet
trigger1 = Time = 0
v = 59
value = 0
ignorehitpause = 1

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1,20
value = S3000,0
channel = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1200,1

[State 3000, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 20.4
ignorehitpause = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 9005
ID = 9005
pos = 0,-12
postype = p1
facing = 1
bindtime = 3
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 3000, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = medium
priority = 7,Hit
damage = 100,40
pausetime = 8,10
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S3000,2
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 98
guard.slidetime = 34
ground.hittime = 98
guard.hittime = 34
air.hittime = 94
ground.velocity = -23.4
guard.velocity = -8
air.velocity = -12.8,-8.8
airguard.velocity = -5.2,-4.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 0,0
envshake.time = 40
envshake.freq = 120
envshake.ampl = -2


[State 3000, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 70,-68
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3000, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3000, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 70,-68
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3000, ChangeState]
type = ChangeState
trigger1 = movehit = 1 && win = 0
value = 3010
ctrl = 0
ignorehitpause = 1

[State 3000, End]
type = ChangeState
trigger1 = movehit = 1 && win = 1
trigger2 = Animtime = 0
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Fly
[Statedef 3010]
type = S
movetype = I
physics = S

[State 3010, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S40,0

[State 3010, ChangeAnim]
type = ChangeAnim
trigger1 = time = 7
value = 3010

[State 3010, Explod]; Jump Dust
type = Explod
trigger1 = time = 9
anim = 48
ID = 48
pos = 0,-4
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .45,.45
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 3010, VelSet]
type = VelSet
trigger1 = time = 9
x = (Ceil(P2dist x))/18.62
y = -9.68

[State 3010, StateTypeSet]
type = StateTypeSet
trigger1 = time >= 9
statetype = A
movetype = A
physics = A
ignorehitpause = 1

[State 3010, Width]
type = Width
trigger1 = 1
edge = 0,0
player = -20,-20

[State 3010, End]
type = ChangeState
triggerall = time > 19
trigger1 = pos y > -vel y
value = 3020

;----------------------------------
; Saiyan Fury Kick
[Statedef 3020]
type = S
movetype = A
physics = S
anim = 3020
velset = 0,0

[State 3020, Width]
type = Width
trigger1 = Time = [0,4]
edge = 0,0
player = -18,-18

[State 3020, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 3020, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S52,0

[State 3020, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 3020, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,3

[State 3020, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S310,random%3
channel = 0

[State 3020, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 60, 20
animtype = hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 12, 13
sparkno = -1
guard.sparkno = -1
hitsound = S5,3
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 48
guard.slidetime = 20
ground.hittime = 48
guard.hittime = 20
air.hittime = 50
ground.velocity = -18.4
guard.velocity = -5.2
air.velocity = -6.8,-3.8
airguard.velocity = -2.1,-1.9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
fall = 0
air.fall = 1
fall.recover = 0
envshake.time = 40
envshake.freq = 120
envshake.ampl = -2


[State 3020, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 82,-80
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3020, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 82,-80
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3020, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 82,-80
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 3020, End]
type = ChangeState
trigger1 = movehit = 1 && win = 0
value = 3030

[State 3020, End]
type = ChangeState
trigger1 = animtime = 0
trigger1 = movehit = 1 && win = 1
trigger2 = animtime = 0
trigger2 = moveguarded
trigger3 = animtime = 0
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Pursuit
[Statedef 3030]
type = S
movetype = I
physics = S
anim = 3030

[State 3030, Explod]; Run Dust
type = Explod
trigger1 = time = 6
anim = 9005
ID = 9005
pos = -10,-2
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .5,.4
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S1200,1

[State 3030, VelSet]
type = VelSet
trigger1 = time = 7
x = 32.8

[State 3030, End]
type = ChangeState
triggerall = time > 11
trigger1 = P2Bodydist x < 52
value = 3040

[State 3030, End]
type = ChangeState
trigger1 = time >50
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Attack 1
[Statedef 3040]
type = S
movetype = A
physics = S
anim = 3040

[State 3040, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,0

[State 3040, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 3040, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 50, 20
animtype = hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 9, 11
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 0
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 34
guard.slidetime = 18
ground.hittime = 36
guard.hittime = 18
air.hittime = 40
ground.velocity = -1.6
guard.velocity = -2.2
air.velocity = -3.6,-2.8
airguard.velocity = -1.8,-1.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
numhits = 1
getpower = 0,0
givepower = 0,0
envshake.time = 20
envshake.freq = 80
envshake.ampl = -2


[State 3040, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 66,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3040, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3040, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 3040, End]
type = ChangeState
trigger1 = movehit = 1 && win = 0
value = 3050

[State 3040, End]
type = ChangeState
trigger1 = animtime = 0
trigger1 = movehit = 1 && win = 1
trigger2 = animtime = 0
trigger2 = moveguarded
trigger3 = animtime = 0
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Attack 2
[Statedef 3050]
type = S
movetype = A
physics = S

[State 3050, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 3050
trigger1 = Time = 5
value = 3050
ignorehitpause = 1

[State 3050, PlaySnd]
type = PlaySnd
triggerall = Anim = 3050
trigger1 = AnimElem = 1
value = S200,2

[State 3050, PlaySnd]
type = PlaySnd
triggerall = Anim = 3050
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 3050, HitDef]
type = HitDef
triggerall = Anim = 3050
trigger1 = AnimElem = 2
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
priority = 7,Hit
damage = 60,20
pausetime = 10,12
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 40
guard.slidetime = 18
ground.hittime = 42
guard.hittime = 18
air.hittime = 40
ground.velocity = -1.6
guard.velocity = -2.8
air.velocity = -4.6,-2.9
airguard.velocity = -2.5,-1.9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
numhits = 1
getpower = 0,0
givepower = 0,0
envshake.time = 20
envshake.freq = 80
envshake.ampl = -2


[State 3050, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 84,-40
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3050, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 3050, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 3050, End]
type = ChangeState
triggerall = Anim = 3050
trigger1 = movehit = 1 && win = 0
value = 3060

[State 3050, End]
type = ChangeState
triggerall = Anim = 3050
trigger1 = animtime = 0
trigger1 = movehit = 1 && win = 1
trigger2 = animtime = 0
trigger2 = moveguarded
trigger3 = animtime = 0
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Attack 3
[Statedef 3060]
type = S
movetype = A
physics = S

[State 3060, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 3040
trigger1 = Time = 5
value = 3040
ignorehitpause = 1

[State 3060, PlaySnd]
type = PlaySnd
triggerall = Anim = 3040
trigger1 = AnimElem = 2
value = S200,0

[State 3060, PlaySnd]
type = PlaySnd
triggerall = Anim = 3040
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 3060, HitDef]
type = HitDef
triggerall = Anim = 3040
trigger1 = AnimElem = 3
attr = S, HA
damage = 50, 20
animtype = hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 9, 11
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 0
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 34
guard.slidetime = 18
ground.hittime = 36
guard.hittime = 18
air.hittime = 40
ground.velocity = -1.6
guard.velocity = -2.2
air.velocity = -3.6,-2.8
airguard.velocity = -1.8,-1.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
numhits = 1
getpower = 0,0
givepower = 0,0
envshake.time = 20
envshake.freq = 80
envshake.ampl = -2


[State 3060, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 66,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3060, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3060, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3060, End]
type = ChangeState
triggerall = Anim = 3040
trigger1 = movehit = 1 && win = 0
value = 3070

[State 3060, End]
type = ChangeState
triggerall = Anim = 3040
trigger1 = animtime = 0
trigger1 = movehit = 1 && win = 1
trigger2 = animtime = 0
trigger2 = moveguarded
trigger3 = animtime = 0
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Attack 4
[Statedef 3070]
type = S
movetype = A
physics = S

[State 3070, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 3050
trigger1 = Time = 5
value = 3050
ignorehitpause = 1

[State 3070, PlaySnd]
type = PlaySnd
triggerall = Anim = 3050
trigger1 = AnimElem = 1
value = S200,2

[State 3070, PlaySnd]
type = PlaySnd
triggerall = Anim = 3050
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 3070, HitDef]
type = HitDef
triggerall = Anim = 3050
trigger1 = AnimElem = 2
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
priority = 7,Hit
damage = 60,20
pausetime = 10,12
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 40
guard.slidetime = 18
ground.hittime = 42
guard.hittime = 18
air.hittime = 40
ground.velocity = -1.6
guard.velocity = -2.8
air.velocity = -4.6,-2.9
airguard.velocity = -2.5,-1.9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
numhits = 1
getpower = 0,0
givepower = 0,0
envshake.time = 20
envshake.freq = 80
envshake.ampl = -2


[State 3070, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 84,-40
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3070, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3070, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3070, End]
type = ChangeState
triggerall = Anim = 3050
trigger1 = movehit = 1 && win = 0
value = 3080

[State 3070, End]
type = ChangeState
triggerall = Anim = 3050
trigger1 = animtime = 0
trigger1 = movehit = 1 && win = 1
trigger2 = animtime = 0
trigger2 = moveguarded
trigger3 = animtime = 0
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Attack 5
[Statedef 3080]
type = S
movetype = A
physics = S

[State 3080, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 3040
trigger1 = Time = 5
value = 3040
ignorehitpause = 1

[State 3080, PlaySnd]
type = PlaySnd
triggerall = Anim = 3040
trigger1 = AnimElem = 2
value = S200,0

[State 3080, PlaySnd]
type = PlaySnd
triggerall = Anim = 3040
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 3080, HitDef]
type = HitDef
triggerall = Anim = 3040
trigger1 = AnimElem = 3
attr = S, HA
damage = 50, 20
animtype = hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 9, 11
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = S5, 0
guardsound = S6, 0
ground.type = Low
air.type = Low
ground.slidetime = 34
guard.slidetime = 18
ground.hittime = 36
guard.hittime = 18
air.hittime = 40
ground.velocity = -1.6
guard.velocity = -2.2
air.velocity = -3.6,-2.8
airguard.velocity = -1.8,-1.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
numhits = 1
getpower = 0,0
givepower = 0,0
envshake.time = 20
envshake.freq = 80
envshake.ampl = -2


[State 3080, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 66,-76
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3080, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3080, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 66,-76
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3080, End]
type = ChangeState
triggerall = Anim = 3040
trigger1 = movehit = 1 && win = 0
value = 3090

[State 3080, End]
type = ChangeState
triggerall = Anim = 3040
trigger1 = animtime = 0
trigger1 = movehit = 1 && win = 1
trigger2 = animtime = 0
trigger2 = moveguarded
trigger3 = animtime = 0
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Attack 6
[Statedef 3090]
type = S
movetype = A
physics = S

[State 3090, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 3050
trigger1 = Time = 5
value = 3050
ignorehitpause = 1

[State 3090, PlaySnd]
type = PlaySnd
triggerall = Anim = 3050
trigger1 = AnimElem = 1
value = S200,2

[State 3090, PlaySnd]
type = PlaySnd
triggerall = Anim = 3050
trigger1 = AnimElem = 1
value = S300,random%3
channel = 0

[State 3090, HitDef]
type = HitDef
triggerall = Anim = 3050
trigger1 = AnimElem = 2
attr = S,HA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
priority = 7,Hit
damage = 60,20
pausetime = 10,12
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 40
guard.slidetime = 18
ground.hittime = 42
guard.hittime = 18
air.hittime = 40
ground.velocity = -1.6
guard.velocity = -2.8
air.velocity = -4.6,-2.9
airguard.velocity = -2.5,-1.9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
numhits = 1
getpower = 0,0
givepower = 0,0
envshake.time = 20
envshake.freq = 80
envshake.ampl = -2


[State 3090, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 84,-40
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.335,0.335
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3090, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.425,0.425
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3090, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 84,-40
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3090, End]
type = ChangeState
triggerall = Anim = 3050
trigger1 = movehit = 1 && win = 0
value = 3100

[State 3090, End]
type = ChangeState
triggerall = Anim = 3050
trigger1 = animtime = 0
trigger1 = movehit = 1 && win = 1
trigger2 = animtime = 0
trigger2 = moveguarded
trigger3 = animtime = 0
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Attack 7
[Statedef 3100]
type = S
movetype = A
physics = S

[State 3100, VarSet]; Score Result
type = VarSet
trigger1 = Time = 1
v = 52
value = var(52) + var(26) + 3
ignorehitpause =  1
persistent = 0

[State 3100, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 3100
trigger1 = Time = 3
value = 3100
ignorehitpause = 1

[State 3100, PlaySnd]
type = PlaySnd
triggerall = Anim = 3100
trigger1 = AnimElem = 2
value = S200,3

[State 3100, PlaySnd]
type = PlaySnd
triggerall = Anim = 3100
trigger1 = AnimElem = 1
value = S310,random%3
channel = 0

[State 3100, HitDef]
type = HitDef
triggerall = Anim = 3100
trigger1 = AnimElem = 3
attr = S, HA
damage = 110, 40
animtype = up
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 10, 12
sparkno = -1
guard.sparkno = -1
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 58
ground.hittime  = 58
ground.velocity = -1.05, -23.8
air.velocity = -3.76,-3.84
airguard.velocity = -1.9,-.8
air.type = Low
air.hittime = 40
fall = 1
air.fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
numhits = 1
getpower = 0,0
givepower = 0,0
envshake.time = 40
envshake.freq = 90
envshake.ampl = -2
p2stateno = 3200


[State 3100, Spark 2]
type = Explod
trigger1 = Movehit = 1
anim = 9022
ID = 9022
postype = P1
pos = 18,-126
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.415,0.415
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3100, Spark 1]
type = Explod
trigger1 = Movehit = 1
anim = 9020
ID = 9020
postype = P1
pos = 18,-126
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.55,0.55
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 3100, Spark 3]
type = Explod
trigger1 = Moveguarded = 1
anim = 9024
ID = 9024
postype = P1
pos = 18,-126
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.66,0.66
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0


[State 3100, End]
type = ChangeState
triggerall = Anim = 3100
trigger1 = movehit = 1 && win = 0
value = 3110

[State 3100, End]
type = ChangeState
triggerall = Anim = 3100
trigger1 = animtime = 0
trigger1 = movehit = 1 && win = 1
trigger2 = animtime = 0
trigger2 = moveguarded
trigger3 = animtime = 0
value = 0
ctrl = 1

;----------------------------------
; Saiyan Fury Jump
[Statedef 3110]
type = S
movetype = A
physics = S

[State 3110, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 3110
trigger1 = Time = 13
value = 3110
ignorehitpause = 1

[State 3110, VelSet]
type = VelSet
triggerall = Anim = 3110
trigger1 = AnimElem = 2
y = -10.025

[State 3110, StateTypeSet]
type = StateTypeSet
triggerall = Anim = 3110
trigger1 = AnimElem = 2,>=0
statetype = A
movetype = I
physics = A

[State 3110, PlaySnd]
type = PlaySnd
triggerall = Anim = 3110
trigger1 = AnimElem = 2
value = S40,0

[State 3110, Explod]
type = Explod
triggerall = Anim = 3110
trigger1 = AnimElem = 2
anim = 9003
ID = 9003
pos = 0,-2
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .425,.35
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 3110, ChangeState]
type = ChangeState
triggerall = Anim = 3110
trigger1 = Pos Y <= -68
value = 3120

;----------------------------------
; Saiyan Fury Attack 8
[Statedef 3120]
type = A
movetype = A
physics = N
anim = 3120
velset = 0,0
sprpriority = 0

[State 3120, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S3000,1
channel = 0

[State 3120, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S3000,3

[State 3120, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S3000,4

[State 3120, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 2520
ID = 2520
pos = 14,-156
postype = p1
facing = 1
bindtime = -1
removetime = 15
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 3120, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 2530
ID = 2530
pos = -6,-136
postype = p1
facing = 1
bindtime = -1
removetime = 32
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 3120, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 2530
ID = 2530
pos = -6,-138
postype = p1
facing = 1
bindtime = -1
removetime = 9
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 3120, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 2530
ID = 2530
pos = 48,-114
postype = p1
facing = 1
bindtime = -1
removetime = 6
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 3120, Helper]
type = Helper
trigger1 = AnimElem = 6
name = "Furybeam"
ID = 3300
stateno = 3300
pos = 56,-50
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .5
size.yscale = .65

[State 3120, ChangeState]
type = ChangeState
trigger1 = var(18)
trigger2 = Time >= 120
value = 3130

;----------------------------------
; Saiyan Fury End
[Statedef 3130]
type = A
movetype = I
physics = N
anim = 3130
sprpriority = 0

[State 3130, VelSet]
type = VelSet
trigger1 = Animelem = 2
y = 4.9875

[State 3130, ChangeState]
type = ChangeState
trigger1 = Pos Y > - Vel Y
value = 3140

;----------------------------------
; Saiyan Fury Land
[Statedef 3140]
type = S
movetype = I
physics = S
anim = 2095

[State 3140, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3140, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3140, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0

[State 3140, Explod]
type = Explod
trigger1 = Time = 0
anim = 9004
ID = 9004
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .675,.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 3140, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; Saiyan Fury P2 Stateno
[Statedef 3200]
type    = A
movetype= H
physics = N

[State 3200, VelSet]
type = VelSet
trigger1 = time = 0
x = 1.05
y = -23.8

[State 3200, VelMul]
type = Veladd
trigger1 = vel y < 0
y = 0.45

[State 3200, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3200

[State 3200, ScreenBound]
type = ScreenBound
trigger1 =  1
value = 1
movecamera = 1,0

[State 3200, 1]
type = ChangeAnim2
Trigger1 = vel y > 0
value = 3210

[State 3200, velset]
type = velset
trigger1 = anim = 3210
trigger1 = animelem =1
y = 23

[State 3200, VelMul]
type = VelMul
trigger1 = anim = 3210
x = .85
y = 0.446

[State 3200, End]
type = SelfState
trigger1 = anim = 3210
trigger1 = Pos Y > -Vel Y
value = 5100


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Helpers.st}
;==============================================================================

;*******************************************************************************
;***************************************************************************
;**************************   Helpers  **************************************
;***************************************************************************
;*******************************************************************************

;===============================================================================
;========================   Fireball Helper   ==================================
;===============================================================================
;--------------------------------------------------------
; Fireball Helper
[Statedef 1010]
type    = U
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1010
juggle = 5
sprpriority = 5

[State 1010, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1010, VelSet]
type = VelSet
trigger1 = Time = 0
x = 6.4 - 1.6*(Parent,var(11))
y = 0
ignorehitpause = 1

[State 1010, ParentVarSet]
type = ParentVarSet
trigger1 = MoveContact && NumTarget
v = 34
value = 1
ignorehitpause = 1

[State 1010, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,SP
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = medium
priority = 5,Hit
damage = ceil((60+30*(Parent, var(11)))*(parent,fvar(20))),20
pausetime = 4,8
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S1010,2
guardsound = S1010,1
ground.type = High
air.type = Low
ground.slidetime = 13 + 5*(Parent, var(11))
guard.slidetime = 6 + 3*(Parent, var(11))
ground.hittime = 13 + 5*(Parent, var(11))
guard.hittime = 6 + 3*(Parent, var(11))
air.hittime = 13 + 6*(Parent, var(11))
ground.velocity = -6.8 - 1.8*(Parent, var(11))
guard.velocity = -4.4
air.velocity = -5.4- 1.8*(Parent, var(11)),-3.6 - 1.4*(Parent, var(11))
airguard.velocity = -3,-2.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,20
givepower = 40,40
envshake.time = 11 + 5*(Parent, var(11))
envshake.freq = 60 + 15*(Parent, var(11))
envshake.ampl = -2
ignorehitpause = 1


[State 1010, ParentVarAdd]
type = ParentVarAdd
trigger1 = (Parent,var(59)) <280
trigger1 = MoveContact
v = 59
value = 6*(MoveGuarded) + 14*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 1010, ParentVarAdd]; Score result
type = ParentVarAdd
trigger1 = MoveContact
v = 52
value = (1*(MoveGuarded) + 3*(MoveHit))*((parent,var(26))+1)
ignorehitpause = 1
persistent = 0

[State 1010 0]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
ignorehitpause = 1

[State 1010, 1]
type = HitOverride
trigger1 = 1
stateno = 1015
attr = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[State 1010, DestroySelf]
type = DestroySelf
trigger1 = time >= 220
ignorehitpause = 1

[State 1010, ChangeState]
type = ChangeState
trigger1 = MoveContact
value = 1015
ignorehitpause = 1

;---------------------------------
[Statedef 1015]
type    = U
movetype= A
physics = N
poweradd= 0
ctrl = 0
anim = 11000

[State 1015, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1015, VelMul]
type = VelMul
trigger1 = Time = 0
x = 0.54321
ignorehitpause = 1

[State 1015, Explod]
type = Explod
trigger1 = Time = 0
anim = 1015
ID = 1015
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .35,.35
sprpriority = 5
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1

[State 1015, Explod]
type = Explod
trigger1 = Time = 0
anim = 9050
ID = 9050
pos = 6,2
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .4,.4
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1

[State 1015, DestroySelf]
type = DestroySelf
trigger1 = Time = 26
ignorehitpause = 1


;===============================================================================
;========================   Ki Blast Helper   ==================================
;===============================================================================
;--------------------------------------------------------
; Ki Blast Helper
[Statedef 1110]
type    = U
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1110
juggle = 5
sprpriority = 4

[State 1110, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1110, BindToParent]
type = BindToParent
trigger1 = 1
pos = 54,-94
ignorehitpause = 1

[State 1110, ParentVarSet]
type = ParentVarSet
trigger1 = MoveContact && NumTarget
v = 34
value = 1
ignorehitpause = 1

[State 1110, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S,SP
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = medium
priority = 5,Hit
damage = ceil((75+25*(Parent, var(12)))*(parent,fvar(20))),30
pausetime = 0,7
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S1110,2
guardsound = S1010,1
ground.type = High
air.type = Low
ground.slidetime = 20 + 6*(Parent, var(12))
guard.slidetime = 10 + 4*(Parent, var(12))
ground.hittime = 20 + 6*(Parent, var(12))
guard.hittime = 10 + 4*(Parent, var(12))
air.hittime = 20 + 6*(Parent, var(12))
ground.velocity = -6.8 - 2.4*(Parent, var(12))
guard.velocity = -4.4
air.velocity = -5.8- 1.8*(Parent, var(12)),-3.8 - 1.4*(Parent, var(12))
airguard.velocity = -3,-2.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 40,20
givepower = 40,40
envshake.time = 16 + 6*(Parent, var(12))
envshake.freq = 70 + 15*(Parent, var(12))
envshake.ampl = -2
ignorehitpause = 1


[State 1110, ParentVarAdd]
type = ParentVarAdd
trigger1 = (Parent,var(59)) <280
trigger1 = MoveContact
v = 59
value = 6*(MoveGuarded) + 14*(MoveHit)
ignorehitpause = 1
persistent = 0

[State 1110, ParentVarAdd]; Score result
type = ParentVarAdd
trigger1 = MoveContact
v = 52
value = (1*(MoveGuarded) + 3*(MoveHit))*((parent,var(26))+1)
ignorehitpause = 1
persistent = 0

[State 1110 0]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
ignorehitpause = 1

[State 1110, 1]
type = HitOverride
trigger1 = 1
stateno = 1120
attr = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[State 1110, DestroySelf]
type = DestroySelf
trigger1 = Parent,StateNo !=1100
ignorehitpause = 1

[State 1110, ChangeState]
type = ChangeState
trigger1 = MoveContact
trigger2 = Animtime = 0
value = 1120
ignorehitpause = 1

;---------------------------------
[Statedef 1120]
type    = U
movetype= A
physics = N
poweradd= 0
anim = 1120
ctrl = 0
movehitpersist = 1
hitcountpersist = 1

[State 1120, VarSet]
type = VarSet
trigger1 = Time = 0
v = 1
value = Ceil((P2dist x))
ignorehitpause = 1
persistent = 0

[State 1120, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
v = 13
value = 1
ignorehitpause = 1

[State 1120, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1120, Spark 2]
type = Explod
triggerall = movehit
trigger1 = Time = 0
anim = 9022
ID = 9022
postype = P1
pos = var(1),0
facing = 1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.245,0.245
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 1120, Spark 1]
type = Explod
triggerall = movehit
trigger1 = Time = 0
anim = 9020
ID = 9020
postype = P1
pos = var(1),0
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.265,0.265
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 1120, Spark 3]
type = Explod
triggerall = Moveguarded
trigger1 = Time = 0
anim = 9024
ID = 9024
postype = P1
pos = var(1),0
facing = 1
sprpriority = 4
removetime = -2
bindtime = 1
ownpal = 1
ontop = 1
scale = 0.44,0.44
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause  = 1
persistent = 0

[State 1120, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
ignorehitpause = 1


;===============================================================================
;===================  Weekly Special Fireball Helper  ==========================
;===============================================================================
;--------------------------------------------------------
; Weekly Special Helper
[Statedef 2100]
type    = U
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 2100
sprpriority = 5

[State 2100, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 2100, VelSet]
type = VelSet
trigger1 = Time = 0
x = 4.1
y = 8.1
ignorehitpause = 1

[State 2100, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = A,HP
hitflag = MAFD
guardflag = MA
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 6,Hit
damage = ceil((35)*(parent,fvar(20))),7
pausetime = 0,4
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S1010,2
guardsound = S1010,1
ground.type = Low
air.type = Low
ground.slidetime = 24
guard.slidetime = 16
ground.hittime = 24
guard.hittime = 16
air.hittime = 26
ground.velocity = -6.8,-4.8
guard.velocity = -4.2
air.velocity = -5.8,-5.8
airguard.velocity = -3,-2.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
forcestand = 0
P2StateNo = 2096
fall = 1
air.fall = 1
fall.recovertime = 120
fall.recover = 0
envshake.time = 22
envshake.freq = 100
envshake.ampl = -2
fall.envshake.time = 30
fall.envshake.freq = 130
fall.envshake.ampl = -3

[State 2100 0]
type = HitBy
trigger1 = 1
value = SCA,HP
ignorehitpause = 1

[State 2100, 1]
type = HitOverride
trigger1 = 1
stateno = 2110
attr = SCA,HP
time = -1
ignorehitpause = 1

[State 2100, ChangeState]
type = ChangeState
trigger1 = MoveContact
value = 2110
ignorehitpause = 1

[State 2100, DestroySelf]
type = DestroySelf
trigger1 = Time >= 120
ignorehitpause = 1

;---------------------------------
[Statedef 2110]
type    = U
movetype= A
physics = N
poweradd= 0
velset = 0,0
ctrl = 0
anim = 11000

[State 2110, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 2110, Explod]
type = Explod
trigger1 = Time = 0
anim = 1015
ID = 1015
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .275,.275
sprpriority = 5
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1

[State 2110, Explod]
type = Explod
trigger1 = Time = 0
anim = 9050
ID = 9050
pos = 6,2
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .4,.4
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1

[State 2110, DestroySelf]
type = DestroySelf
trigger1 = Time = 30
ignorehitpause = 1


;===============================================================================
;===================  Saturday Crash Fireball Helper  ==========================
;===============================================================================
;--------------------------------------------------------
; Saturday Crash Fireball Helper
[Statedef 2300]
type    = U
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 2300
sprpriority = 5

[State 2300, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 2300, VelSet]
type = VelSet
trigger1 = Time = 0
x = 5.875

[State 2300, VelAdd]
type = VelAdd
triggerall = !MoveContact
trigger1 = Time>=0
x = .205

[State 2300, PlaySnd]
type = PlaySnd
trigger1 = MoveHit
value = S2200,3
persistent = 0

[State 2300, ParentVarSet]; Score Result
type = ParentVarSet
trigger1 = MoveHit
v = 52
value = (parent,var(52)) + (parent,var(26)) + 2
ignorehitpause =  1
persistent = 0

[State 2300, HitDef]
type = HitDef
trigger1 = Time >=0
attr = S,HP
hitflag = MAF
guardflag = MA
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 6,Hit
damage = ceil((45)*(parent,fvar(20))),30
pausetime = 5,8
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S2200,4
guardsound = S1010,1
ground.type = Low
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 44
guard.hittime = 20
air.hittime = 48
ground.velocity = -6.8,-7.8
guard.velocity = -4.2
air.velocity = -5.8,-7.8
airguard.velocity = -3,-2.4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
forcestand = 0
fall = 1
air.fall = 1
fall.recovertime = 120
fall.recover = 0
envshake.time = 28
envshake.freq = 90
envshake.ampl = -2
fall.envshake.time = 34
fall.envshake.freq = 120
fall.envshake.ampl = -3

[State 2300 0]
type = HitBy
trigger1 = 1
value = SCA,HP
ignorehitpause = 1

[State 2300, 1]
type = HitOverride
trigger1 = 1
stateno = 2310
attr = SCA,HP
time = -1
ignorehitpause = 1

[State 2300, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = Hitcount = 6
value = 2310
ignorehitpause = 1

[State 2300, DestroySelf]
type = DestroySelf
trigger1 = Time >= 220
ignorehitpause = 1

;---------------------------------
[Statedef 2310]
type    = U
movetype= A
physics = N
poweradd= 0
velset = 0,0
ctrl = 0
anim = 11000

[State 2310, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 2310, Explod]
type = Explod
trigger1 = Time = 0
anim = 1015
ID = 1015
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .475,.475
sprpriority = 5
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1

[State 2310, Explod]
type = Explod
trigger1 = Time = 0
anim = 9050
ID = 9050
pos = 6,2
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .575,.575
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1

[State 2310, DestroySelf]
type = DestroySelf
trigger1 = Time = 30
ignorehitpause = 1


;===============================================================================
;======================  Double Sunday Beam Helper  ============================
;===============================================================================
;--------------------------------------------------------
; Double Sunday Beam Helper
[Statedef 2500]
type    = U
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 2500
sprpriority = 5

[State 2500, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 2500, SprPriority]
type = SprPriority
trigger1 = 1
value = 9
ignorehitpause = 1

[State 2500, Bind]
type = Bindtoparent
trigger1 = 1
pos = 26,-88
ignorehitpause = 1

[State 2500, ParentVarSet]; Score Result
type = ParentVarSet
trigger1 = MoveHit
v = 52
value = (parent,var(52)) + (parent,var(26)) + 1
ignorehitpause =  1
persistent = 0

[State 2500, HitDef]
type = HitDef
trigger1 = Time >=0
attr = S,HP
hitflag = MAF
guardflag = MA
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 6,Hit
damage = ceil((15)*(parent,fvar(20))),4
pausetime = 0,4
guard.pausetime = 0,1
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S2400,4
guardsound = S1010,1
ground.type = Low
air.type = Low
ground.slidetime = 46
guard.slidetime = 20
ground.hittime = 46
guard.hittime = 20
air.hittime = 48
ground.velocity = -3.8,-7.8
guard.velocity = -6.8
air.velocity = -4.8,-7.8
airguard.velocity = -6,-3.4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
forcestand = 0
fall = 1
air.fall = 1
fall.recovertime = 120
fall.recover = 0
envshake.time = 32
envshake.freq = 90
envshake.ampl = -2
fall.envshake.time = 38
fall.envshake.freq = 140
fall.envshake.ampl = -3

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 2500, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno !=2400

[State 2500, ChangeState]
type = ChangeState
trigger1 = Time = 60
value = 2510
ignorehitpause = 1

;---------------------------------
[Statedef 2510]
type    = U
movetype= A
physics = N
poweradd= 0
ctrl = 0
anim = 2510
sprpriority = 3

[State 2510, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2510, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
v = 17
value = 1
ignorehitpause = 1

[State 2510, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
ignorehitpause = 1


;===============================================================================
;=====================  Saiyan Fury Beam Helper  ===============================
;===============================================================================
;---------------------------------
; Saiyan Fury Beam Helper
[Statedef 3300]
type    = U
movetype= A
physics = N
ctrl = 0
anim = 3300
velset = 0,0

[State 3300, Bind 1]
type = Bindtoparent
trigger1 = 1
pos = 58,-48

[State 3300, 6]
type = nothitby
trigger1 = 1
value = SCA

[State 3300, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3300, SprPriority]
type = SprPriority
trigger1 = 1
value = 8
ignorehitpause = 1

[State 3300, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45
ignorehitpause = 1

[State 3300, Trans]
type = Trans
trigger1 = 1
trans = add
;alpha = 256,256
ignorehitpause = 1

[State 3300, 5]
type = HitAdd
trigger1 = movehit = 1
value = 1

[State 3300, Hit]
type = HitDef
trigger1 =time>=0
attr = A,HP
hitflag = MAFD
guardflag = MA
priority= 7,Hit
ID=3300
animtype = hard
air.animtype = hard
damage = ceil(11*(parent,fvar(20))),1
pausetime = 0,2
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S3000,5
guardsound = S6,0
ground.type = High
ground.slidetime = 48
guard.slidetime = 28
ground.hittime  = 44
guard.hittime = 28
ground.velocity = -7.4,-2.4
air.velocity = -3.8,-1.8
air.hittime  = 32
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
envshake.time = 28
envshake.freq = 80
envshake.ampl = -2
fall.envshake.time = 40
fall.envshake.freq = 160
fall.envshake.ampl = -4


[State 3300, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != 3120

[State 3300, change]
type = Changestate
trigger1 = time = 40
value = 3310

;--------------------------------
; Beam Finish
[Statedef 3310]
type    = U
movetype= I
physics = N
ctrl = 0
anim = 2510
velset = 0,0
sprpriority = 3

[State 3310, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
v =  18
value = 1

[State 3310, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3310, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45
ignorehitpause = 1

[State 3310, Trans]
type = Trans
trigger1 = Time>=0
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 3310, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0


;===============================================================================
;=============================     Z     =======================================
;===============================================================================
;--------------------------------------------------------
[Statedef 18000]
type = S
movetype = I
physics = N
ctrl = 0
anim = 18000
velset = 0,0
sprpriority = -2

[State 18000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9999,2

[State 18000, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 18000, Explod]; alone
type = Explod
triggerall = time = 0
triggerall = numexplod(20030)!=1
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName != "misterr07"
anim = 20029 + Teamside
ID = 20030
pos = (285*Teamside - 274),218
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 18000, Explod]; with partner
type = Explod
triggerall = time = 0
triggerall = numexplod(20030)!=1
trigger1 = NumPartner
trigger1 = Partner, AuthorName = "misterr07"
anim = 20029 + Teamside
ID = 20030
pos = (285*Teamside - 274), 218 - 30*((Parent, var(6)) > (Parent,var(7)))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 18000, RemoveExplod]; Remove animation
type = RemoveExplod
trigger1 = parent,var(59)!=280
id = 20030
ignorehitpause = 1

[State 18000, End]
type = DestroySelf
trigger1 = parent,var(59)!= 280


;===============================================================================
;========================   Super Finish BG   ==================================
;===============================================================================
;--------------------------------------------------------
[Statedef 11000]
type = A
movetype = I
physics = N
ctrl = 0
anim = 11000
velset = 0,0
sprpriority = -5

[State 11000, PlaySnd]
type = PlaySnd
trigger1 = Time = 2
value = S11000,0
ignorehitpause = 1

[State 11000, Explod]
type = Explod
trigger1 = Time = 0
anim = 11010
ID = 11010
pos = 0,0
postype = Left
facing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = -5
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 11000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noFG
flag3 = nomusic
ignorehitpause =  1

[State 11000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause =  1

[State 11000, White]
type = EnvColor
trigger1 = Time = 149
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1

[State 11000, Change]
type = ChangeState
trigger1 = Time = 150
value = 11001
ignorehitpause = 1

;--------------------------------------------------------
[Statedef 11001]
type = A
movetype = I
physics = N
ctrl = 0
anim = 11000
velset = 0,0
sprpriority = -5

[State 11001, PalFX]
type = PalFX
trigger1 = Time = [0,45]
ignorehitpause = 1
time = 1
add = 255-6*Time,255-6*Time,255-6*Time

[State 11001, BG2]
type = Explod
trigger1 = Time = 0
anim = 11020
ID = 11020
postype = left
pos = 0,0
bindtime = -1
scale =.5,.5
sprpriority = -5
;ownpal = 0
removetime = 45
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 11001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noFG
flag3 = nomusic
ignorehitpause =  1

[State 11001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause =  1

[State 11001, End]
type = DestroySelf
trigger1 = RoundState = 4
trigger1 = Time > 50


;===============================================================================
;========================   Hyper Finish BG   ==================================
;===============================================================================
;--------------------------------------------------------
[Statedef 11100]
type = A
movetype = I
physics = N
ctrl = 0
anim = 11000
velset = 0,0
sprpriority = -5

[State 11100, PlaySnd]
type = PlaySnd
trigger1 = Time = 2
value = S11000,1
ignorehitpause = 1

[State 11100, Explod]
type = Explod
trigger1 = Time = 0
anim = 11011
ID = 11011
pos = 0,0
postype = Left
facing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = -5
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 11100, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noFG
flag3 = nomusic
ignorehitpause =  1

[State 11100, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause =  1

[State 11100, White]
type = EnvColor
trigger1 = Time = 149
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1

[State 11100, Change]
type = ChangeState
trigger1 = Time = 150
value = 11101
ignorehitpause = 1

;--------------------------------------------------------
[Statedef 11101]
type = A
movetype = I
physics = N
ctrl = 0
anim = 11000
velset = 0,0
sprpriority = -5

[State 11101, PalFX]
type = PalFX
trigger1 = Time = [0,45]
ignorehitpause = 1
time = 1
add = 255-6*Time,255-6*Time,255-6*Time

[State 11101, BG2]
type = Explod
trigger1 = Time = 0
anim = 11020
ID = 11020
postype = left
pos = 0,0
bindtime = -1
scale =.5,.5
sprpriority = -5
;ownpal = 0
removetime = 45
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 11101, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noFG
flag3 = nomusic
ignorehitpause =  1

[State 11101, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause =  1

[State 11101, End]
type = DestroySelf
trigger1 = RoundState = 4
trigger1 = Time > 50


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Score.st}
;==============================================================================

;*******************************************************************************
;***************************************************************************
;**************************   Score   **************************************
;***************************************************************************
;*******************************************************************************


;===============================================================================
;=========================    Result Score   ===================================
;===============================================================================
;--------------------------------------------------------
; Result Score Helper
[Statedef 19000]
type    = U
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 18000
sprpriority = 5


[State -3, VarSet]; Life
type = VarSet
trigger1 = Time = 0
v = 54
value = 7*((Parent,var(54))>= 2000) + 6*((Parent,var(54))= [1600,1999]) + 5*((Parent,var(54)) = [1300,1599]) + 4*((Parent,var(54)) = [1000,1299]) + 3*((Parent,var(54)) = [600,999]) + 2*((Parent,var(54)) = [200,599]) + 1*((Parent,var(54))<200)
ignorehitpause = 1

[State -3, VarSet]; Time
type = VarSet
trigger1 = Time = 0
v = 55
value = 7*((Parent,var(55))=[0,1199]) + 6*((Parent,var(55))=[1200,2399]) + 5*((Parent,var(55))=[2400,3599]) + 4*((Parent,var(55))=[3600,4799]) + 3*((Parent,var(55))=[4800,5999]) + 2*((Parent,var(55))=[6000,7199]) + 1*((Parent,var(55))>=7200)
ignorehitpause = 1

[State -3, VarSet]; Attack
type = VarSet
trigger1 = Time = 0
v = 56
value = 1*(((Parent,var(56))*(Parent,fvar(9)))=[0,69]) + 2*(((Parent,var(56))*(Parent,fvar(9)))=[70,119]) + 3*(((Parent,var(56))*(Parent,fvar(9)))=[120,159]) + 4*(((Parent,var(56))*(Parent,fvar(9)))=[160,199]) + 5*(((Parent,var(56))*(Parent,fvar(9)))=[200,229]) + 6*(((Parent,var(56))*(Parent,fvar(9)))=[230,259]) + 7*(((Parent,var(56))*(Parent,fvar(9)))>=260)
ignorehitpause = 1

[State 19000, PlaySnd]
type = PlaySnd
trigger1 = Time = 22
trigger2 = Time = 142
trigger3 = Time = 262
value = S19000,0


[State 19000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S19000,1
channel = 2


[State 19000, Explod]
type = Explod
triggerall = numexplod(19000)!=1
trigger1 = time = 0
anim = 19001 - facing
ID = 19000
pos = 0,0
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 19000, Explod]
type = Explod
triggerall = numexplod(19010)!=1
trigger1 = time = 0
anim = 19011 - facing
ID = 19010
pos = 0,0
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 19000, Explod]
type = Explod
triggerall = numexplod(19020)!=1
trigger1 = time = 0
anim = 19021 - facing
ID = 19020
pos = 0,0
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 19000, Explod]
type = Explod
triggerall = numexplod(19030)!=1
trigger1 = time = 0
anim = 19031 - facing
ID = 19030
pos = 0,0
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 19000, Explod]
type = Explod
triggerall = numexplod(19040)!=1
trigger1 = time = 0
anim = 19041 - facing
ID = 19040
pos = 0,0
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 19000, Explod]
type = Explod
triggerall = numexplod(19050)!=1
trigger1 = time = 0
anim = 19051 - facing
ID = 19050
pos = 0,0
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 19000, Explod]
type = Explod
triggerall = numexplod(19060)!=1
trigger1 = time = 0
anim = 19061 - facing
ID = 19060
pos = 0,0
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 6
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1


[State 19000, Explod]; Life
type = Explod
triggerall = numexplod(19100)!=1
trigger1 = time = 22
anim = 100*(var(54)) + 19001 - facing
ID = 19100
pos = 258,58
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 8
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1


[State 19000, Explod]; Time
type = Explod
triggerall = numexplod(19200)!=1
trigger1 = time = 142
anim = 100*(var(55)) + 19001 - facing
ID = 19200
pos = 258,120
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 8
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1


[State 19000, Explod]; Attack
type = Explod
triggerall = numexplod(19300)!=1
trigger1 = time = 262
anim = 100*(var(56)) + 19001 - facing
ID = 19300
pos = 258,182
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 8
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1




[State 19000, Explod]; Light 1
type = Explod
triggerall = numexplod(19080)!=1
trigger1 = time = 20
anim = 19081 - facing
ID = 19080
pos = 256,58
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .75,.75
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 19000, Explod]; Light 2
type = Explod
triggerall = numexplod(19081)!=1
trigger1 = time = 140
anim = 19081 - facing
ID = 19081
pos = 256,120
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .75,.75
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 19000, Explod]; Light 3
type = Explod
triggerall = numexplod(19082)!=1
trigger1 = time = 260
anim = 19081 - facing
ID = 19082
pos = 258,182
postype = Back
facing = facing
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .75,.75
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1



[State 19000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG
ignorehitpause = 1

[State 19000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = noshadow
ignorehitpause = 1


[State 19000, DestroySelf]
type = DestroySelf
trigger1 = Time = 660



;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Z-Assist.st}
;==============================================================================

;===============================================================================
;========================  Z-Assist Helpers  ===================================
;===============================================================================
;--------------------------------------------------------
; Oozaru Helper
[Statedef 960]
type    = U
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 960

[State 960, SprPriority]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 960, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 960, Bind 1]
type = Bindtoparent
trigger1 = 1
pos = 150,0

[State 960, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S960,0
channel = 3

[State 960, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11
value = S960,1

[State 960, EnvShake]
type = EnvShake
trigger1 = AnimElem = 12
time = 15
freq = 120
ampl = -4
ignorehitpause = 1

[State 960, 8]
type = Explod
trigger1 = AnimElem = 12
anim = 9010
pos = 10,-6
sprpriority = -3
scale = .675,.675

[State 960, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 960, Hit]
type = HitDef
trigger1 = !MoveContact
attr = S,NA
hitflag = MAFD
guardflag = MA
priority= 4,Hit
animtype = medium
air.animtype = hard
damage = ceil(100*(parent,fvar(20))),1
pausetime = 6,8
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 48
guard.slidetime = 28
ground.hittime  = 48
guard.hittime = 28
ground.velocity = -7.8,-4.8
guard.velocity = -6
air.velocity = -3.8,-4.8
air.hittime  = 44
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
fall.envshake.time = 40
fall.envshake.freq = 180
fall.envshake.ampl = -4

[State 960, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != 950
trigger2 = Animtime = 0


;--------------------------------------------------------
; Saibaiman Helper Start
[Statedef 970]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 970

[State 970, SprPriority]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 970, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 970, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,2
value = S970,0
channel = 3

[State 970, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S40,0

[State 970, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 7.8
y = -5.8

[State 970, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3,>=0
statetype = A
movetype = A
physics = A

[State 970, 1]
type = HitDef
Trigger1 = AnimElem = 3
attr = A, NT
hitflag = M-
priority = 1, Miss
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 972
p2stateno = 975
fall = 0
hitsound = -1

[State 970, ChangeState]
type = ChangeState
trigger1 = AnimElem = 3,>=1
trigger1 = Pos Y > - Vel Y
value = 971
ctrl = 0

;------------------------------------
; Saibaiman Helper End
[Statedef 971]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 971

[State 971, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 971, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != 950
trigger2 = Animtime = 0

;------------------------------------
; Saibaiman Helper Explosion
[Statedef 972]
type    = U
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 972

[State 970, PlaySnd]
type = PlaySnd
trigger1 = Time = 12
value = S970,1
channel = 3

[State 970, PlaySnd]
type = PlaySnd
trigger1 = Time = 44
value = S970,2

[State 972, PosSet]
type = PosSet
trigger1 = Time = 0
x = (Enemynear,Pos x)
y = (Enemynear,Pos y) - 54

[State 972, TargetVelSet]
type = TargetVelSet
trigger1 = Time = 54
x = -3.4
y = -5.6

[State 972, TargetState]
type = TargetState
trigger1 = Time = 54
value = 976

[State 972, EnvShake]
type = EnvShake
trigger1 = Time = 44
time = 20
freq = 112
ampl = -4

[State 972, Explod]
type = Explod
trigger1 = Time = 48
anim = 9050
ID = 9050
pos = 0,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .685,.685
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1

[State 972, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = 50
value = -100
kill = 1

[State 972, DestroySelf]
type = DestroySelf
trigger1 = Time = 60

;------------------------------------
; Saibaiman P2 State 1
[Statedef 975]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0

[State 975, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 975

[State 975, SelfState]
type = SelfState
trigger1 = Animtime = 0
value = 5050

;------------------------------------
; Saibaiman P2 State2
[Statedef 976]
type    = A
movetype= H
physics = A
velset = -3.4,-5.6
ctrl = 0

[State 976, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 976, SelfState]
type = SelfState
triggerall = Time > 1
trigger1 = Pos Y > - Vel Y
value = 5100


;--------------------------------------------------------
; Thales Helper
[Statedef 980]
type    = U
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 980
sprpriority = 0

[State 980, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = S980,0
channel = 3

[State 980, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 5
value = S980,1

[State 980, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 6
value = S980,2

[State 980, Explod]
type = Explod
trigger1 = Animelem = 6
anim = 987
ID = 987
pos = -16,-158
postype = p1
facing = 1
bindtime = -1
removetime = 16
pausemovetime = 9999
supermovetime = 9999
scale = .675,.675
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 980, Helper]
type = Helper
trigger1 = Animelem = 7
name = "Thales_Fireball"
ID = 985
stateno = 985
pos = 12,-78
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .675
size.yscale = .675

[State 980, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != 950
trigger2 = Animtime = 0

;--------------------------------------------------------
; Thales Fireball Helper
[Statedef 985]
type    = U
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 985

[State 985, SprPriority]
type = SprPriority
trigger1 = 1
value = 8
ignorehitpause =  1

[State 985, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 985, VelSet]
type = VelSet
trigger1 = Time = 0
x = ((P2Bodydist x) + 14)/12
y = 5.8

[State 985, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = A,NP
hitflag = MAF
guardflag = MA
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 100,35
pausetime = 2,6
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S1010,2
guardsound = S1010,1
ground.type = High
air.type = Low
ground.slidetime = 44
guard.slidetime = 20
ground.hittime = 46
guard.hittime = 20
air.hittime = 44
ground.velocity = -4.8,-6.8
guard.velocity = -5.8
air.velocity = -4.8,-6.8
airguard.velocity = -4,-3.8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
forcestand = 0
fall = 1
air.fall = 1
fall.recovertime = 120
fall.recover = 0
envshake.time = 28
envshake.freq = 95
envshake.ampl = -2
fall.envshake.time = 34
fall.envshake.freq = 120
fall.envshake.ampl = -4

[State 985, ChangeState]
type = ChangeState
trigger1 = MoveContact
value = 986
ctrl = 0
ignorehitpause = 1

[State 985, DestroySelf]
type = DestroySelf
trigger1 = Time = 100

;---------------------------------
[Statedef 986]
type    = U
movetype= A
physics = N
poweradd= 0
ctrl = 0
anim = 11000
sprpriority = 4

[State 986, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 986, VelMul]
type = VelMul
trigger1 = Time = 0
x = 0.54321
y = 0.4875
ignorehitpause = 1

[State 986, Explod]
type = Explod
trigger1 = Time = 0
anim = 986
ID = 986
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .675,.675
sprpriority = 5
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1

[State 986, Explod]
type = Explod
trigger1 = Time = 0
anim = 9050
ID = 9050
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .675,.675
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause = 1

[State 986, DestroySelf]
type = DestroySelf
trigger1 = Time = 16
ignorehitpause = 1

;----------------------------------------------------------
; Z-Assist Choice Helper
[Statedef 6000]
type    = U
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 6000

[State 6000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = intro

[State 6000, SprPriority]
type = SprPriority
trigger1 = 1
value = 7
ignorehitpause =  1


[State 6000, ChangeAnim] ; Oozaru
type = ChangeAnim
triggerall = Teamside = 1
triggerall = (Parent, var(20)) = 0
triggerall = AnimElemTime(1)>=20
trigger1 = Anim = 6020
trigger1 = (Root,Command = "fwd")
trigger2 = Anim = 6010
trigger2 = (Root,Command = "back")
value = 6000

[State 6000, ChangeAnim] ; Thales
type = ChangeAnim
triggerall = Teamside = 1
triggerall = (Parent, var(20)) = 0
triggerall = AnimElemTime(1)>=20
trigger1 = Anim = 6000
trigger1 = (Root,Command = "fwd")
trigger2 = Anim = 6020
trigger2 = (Root,Command = "back")
value = 6010

[State 6000, ChangeAnim] ; Saibaman
type = ChangeAnim
triggerall = Teamside = 1
triggerall = (Parent, var(20)) = 0
triggerall = AnimElemTime(1)>=20
trigger1 = Anim = 6010
trigger1 = (Root,Command = "fwd")
trigger2 = Anim = 6000
trigger2 = (Root,Command = "back")
value = 6020



[State 6000, ChangeAnim] ; Oozaru
type = ChangeAnim
triggerall = Teamside = 2
triggerall = (Parent, var(20)) = 0
triggerall = AnimElemTime(1)>=20
trigger1 = Anim = 6010
trigger1 = (Root,Command = "fwd")
trigger2 = Anim = 6020
trigger2 = (Root,Command = "back")
value = 6000

[State 6000, ChangeAnim] ; Thales
type = ChangeAnim
triggerall = Teamside = 2
triggerall = (Parent, var(20)) = 0
triggerall = AnimElemTime(1)>=20
trigger1 = Anim = 6020
trigger1 = (Root,Command = "fwd")
trigger2 = Anim = 6000
trigger2 = (Root,Command = "back")
value = 6010

[State 6000, ChangeAnim] ; Saibaman
type = ChangeAnim
triggerall = Teamside = 2
triggerall = (Parent, var(20)) = 0
triggerall = AnimElemTime(1)>=20
trigger1 = Anim = 6000
trigger1 = (Root,Command = "fwd")
trigger2 = Anim = 6010
trigger2 = (Root,Command = "back")
value = 6020



[State 6000, PlaySnd]
type = PlaySnd
triggerall = (Parent, var(20)) = 0
trigger1 = (Root,Command = "fwd")
trigger2 = (Root,Command = "back")
value = S6000,0

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = (Root,command="s")
value = S6000,1

[State 6000, ParentVarSet]
type = ParentVarSet
trigger1 = (Root,command="s")
v = 20
value = 1

[State 6000, ParentVarAdd]
type = ParentVarAdd
trigger1 = (Parent,var(20)) > 0
v = 20
value = 1
ignorehitpause = 1

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
anim = 6030
ID = 6030
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 6000, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 57
value = ((Anim - 6000)/10) + 1

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Roundstate = 2
trigger2 = (Root,command="s")
trigger3 = Root,AILevel
id = 6030

[State 6000, DestroySelf]
type = DestroySelf
trigger1 = Roundstate = 2
trigger2 = Root,AILevel
trigger3 = (Parent,var(20)) = 130

;----------------------------------------------------------
; Z-Assist Portrait
[Statedef 6050]
type    = U
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 18000

[State 6050, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6050, Explod]; alone
type = Explod
triggerall = time = 0
triggerall = numexplod(6050)!=1
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName != "misterr07"
anim = 6049 + (Parent,var(57))
ID = 6050
pos = (266*Teamside - 244),228
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .25,.25
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 6050, Explod]; with partner
type = Explod
triggerall = time = 0
triggerall = numexplod(6050)!=1
trigger1 = NumPartner
trigger1 = Partner, AuthorName = "misterr07"
anim = 6049 + (Parent,var(57))
ID = 6050
pos = (266*Teamside - 244), 228 - 30*((Parent, var(6)) > (Parent,var(7)))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .25,.25
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 6050, End]
type = DestroySelf
trigger1 = RoundState!=2


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/Negatives.cns}
;==============================================================================

;*******************************************************************************
;***************************************************************************
;*************************   States -2 -3  *********************************
;***************************************************************************
;*******************************************************************************

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]

;#ADD004BASIC PIEs#
;//==========================
;// add004 supplementary sctrls v1.103
;//==========================

;// partner jump-out ; ???????
[state 0]
	type=selfstate
	triggerall=!ishelper && numpartner && roundstate=2
	triggerall=(stateno!=[190190,190199]) && alive && sysfvar(0)>0 && playeridexist(floor(sysfvar(0)))
	triggerall=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(22)=4
	;;---// change ;(??)
	trigger1=sysfvar(4)<1 && movetype!=h && gethitvar(isbound)=0 && (pos y>=0) && (ctrl||(stateno<600&&time<2)) && (playerid(floor(sysfvar(0))),var(48)=11)
	;;---// as partner-asist ;(??)
	trigger2=sysfvar(4)>0 && (movetype!=h||(stateno=[120,149])) && (ctrl||stateno<600)
	;;---// player priority ;(??)
	trigger3=sysfvar(4)<1 && playerid(floor(sysfvar(0))),var(15)!=id
	value=190190
	ignorehitpause=1

;// edited life & power bar ; ?????
[state 0]
	type=helper
	triggerall=!ishelper && !numhelper(90900)
	trigger1=numpartner
	trigger1=id<(partner,id) && partner,numhelper(90900)=0
	trigger2=!numpartner
	id=90900
	stateno=90900
	helpertype=normal
	ownpal=1
	size.air.front=1602150 ;; <<-version
	size.height=0 ;; 1;; <<-powerbar off mode
	ignorehitpause=1
	supermovetime=88888
	pausemovetime=88888
	pos=0,88888

;// input players id ; ID??
[state 0]
	type=varset
	trigger1=!ishelper && numhelper(90900)
	trigger1=(helper(90900),var(0)=90900) && (sysfvar(0)!=helper(90900),id)
	sysfvar(0)=(helper(90900),id)
[state 0]
	type=varset
	trigger1=!ishelper && numpartner
	trigger1=!numhelper(90900) && (partner,numhelper(90900)) && (sysfvar(0)!=(partner,sysfvar(0)))
	sysfvar(0)=(partner,sysfvar(0))

;// bk/jd system ; ?????/????D
[state 0]
	type=hitoverride
	trigger1=(numprojid(195502)||numprojid(195503)) && !ishelper && roundstate=2 && alive && (ctrl || stateno=52)
	attr=sca,na,sa,ha,np,sp,hp
	stateno=195500
	time=1
	ignorehitpause=1

;//==========================
;;>>@Config.Face>>
;; face / portrait (?)
[state 0]
	type=explod
	trigger1=!ishelper && roundstate=2 && alive && !numexplod(490600) && selfanimexist(909002)
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),numexplod(490600)
	id=490600
	anim=909002
	space=screen
	postype=left
	facing=ifelse(teamside=1,1,-1)
	scale=0,0 ;; <- default
	ownpal=1
	bindtime=-1
	removetime=-1
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1

[state 0] ;; player is NOT in a custom state 
	type=modifyexplod
	trigger1=numexplod(490600) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	trigger1=movetype!=h || (stateno=[120,159]) || (stateno=[5000,5199]) || (stateno=[190190,190196])
	id=490600
	scale=playerid(floor(sysfvar(0))),fvar(32-(id=playerid(floor(sysfvar(0))),var(15))*10), playerid(floor(sysfvar(0))),fvar(33-(id=playerid(floor(sysfvar(0))),var(15))*10)
	ignorehitpause=1

[state 0]
	type=modifyexplod
	trigger1=numexplod(490600) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	id=490600
	space=screen
	postype=left
	pos=floor(const240p(playerid(floor(sysfvar(0))),fvar(30-(id=playerid(floor(sysfvar(0))),var(15))*10))), floor(const240p(playerid(floor(sysfvar(0))),fvar(31-(id=playerid(floor(sysfvar(0))),var(15))*10) -(roundstate!=2||(!alive&&stateno=5150))*88888))
;;(* if the player has been placed in a custom state, the result of "scale" is affected" by the different player's local coordinate space
	sprpriority=floor(playerid(floor(sysfvar(0))),fvar(36-(id=playerid(floor(sysfvar(0))),var(15))*10))
	trans=addalpha
	alpha=floor(playerid(floor(sysfvar(0))),fvar(34-(id=playerid(floor(sysfvar(0))),var(15))*10)), floor(playerid(floor(sysfvar(0))),fvar(35-(id=playerid(floor(sysfvar(0))),var(15))*10))
	ignorehitpause=1

;//==========================
;;>>@Config.Camera>>
;; change camera / ????
[state 0]
	type=screenbound
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	movecamera=0,0
	ignorehitpause=1
[state 0]
	type=playerpush
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	ignorehitpause=1
[state 0]
	type=screenbound
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && (playerid(floor(sysfvar(0))),var(7)&65536) ;; system_switch
	value= ((numpartner && sysfvar(4)<1) || !numpartner) ;; [def=0]
	movecamera=0,0 ;; [x,y]
	ignorehitpause=1

;//==========================
;; optional settings
;//==========================
;;--- guard crush ; ????????
[state 0]
	type=palfx
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && (gametime%5=0) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=40)
	time=2
	add=200,0,0
[state 0]
	type=changestate
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=50)
	value=190010
	ignorehitpause=1
;;--- dizzy
[state 0]
	type=changestate
	trigger1=stateno=5120 && (animtime=0) && !ishelper && numhelper(403000) ;;<-dizzy birds
	value=190116 ;;<- goto dizzy/stun state
;;--- fadeout when KOed ; KO????
[state 0]
	type=varset
	trigger1=stateno=5150 && time=1 && alive=0 && !ishelper && numpartner
	sysvar(1)=(roundstate<=2)
[state 0]
	type=assertspecial
	trigger1=stateno=5150 && alive=0 && !ishelper && numpartner && sysvar(1) && (((time=[80,150]) && time%10<5) || time>150)
	flag=invisible
	flag2=noshadow
[state 0]
	type=posset
	trigger1=stateno=5150 && time>=80 && alive=0 && !ishelper && numpartner && sysvar(1)
	y=(800-partner,pos y) *(((time=[80,150]) && time%10<5) || time>150)

;;--- pos reset debug (for mugen only) ---
[state 0]
	type=turn
	trigger1=roundstate=1 && time=1 && !ishelper && numpartner>1
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && id>playerid(floor(sysfvar(0))),sysvar(0)+1
	trigger1=facing=ifelse(teamside=1,-1,1) && cond(teamside=1, screenpos x>playerid(id-2),screenpos x, screenpos x<playerid(id-2),screenpos x)
	persistent=0
[state 0]
	type=posset
	trigger1=roundstate=1 && time=1 && !ishelper && numpartner>1
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && id>playerid(floor(sysfvar(0))),sysvar(0)+1
	trigger1=cond(teamside=1, screenpos x>playerid(id-2),screenpos x, screenpos x<playerid(id-2),screenpos x)
	x= playerid(id-1),pos x+const240p(20) *ifelse(teamside=1,-1,1)
	persistent=0
;//==========================
;//==========================


;===========================================================================
;---------------------------------------------------------------------------
;--------------------------  AI By Seravy  ---------------------------------
;---------------------------------------------------------------------------

[State -2, AI ON] ; Turn the AI on when
Type = VarSet
TriggerAll = Var(36) < 1; it is not on yet and
TriggerAll = RoundState=2 ; the fight has started and is not over yet and
Trigger1 = AILevel>0 ; the computer is playing the character
v = 36
value= 1 ; value of 1 will mean the AI is on
Ignorehitpause=1

[State -2, AI OFF] ; Turn the AI off when
Type=VarSet
Trigger1=var(36)>0 ; it is on and
Trigger1=RoundState!=2 ; the round is not started yet or is already over
Trigger2=!IsHelper ; OR if we are a player, but
Trigger2=AILevel=0 ; the computer is not in control
v=36
value=0 ; value of 0 will mean the AI is off.
Ignorehitpause=1

[State -2, AILevel]
Type=VarSet
Trigger1=1
var(35)=(AILevel=1)*3+(AILevel=2)*7+(AILevel=3)*16+(AILevel=4)*30+(AILevel=5)*58+(AILevel=6)*90+ (AILevel=7)*150+(AILevel=8)*300


; Try to estimate Actual number of projectiles+helpers of opponent

[State -2, Check] ; Check number of enemy helpers at start of the round on 2nd tick
Type=Varset
Trigger1=Roundstate=2
Trigger1=var(37)=-1
var(37)=enemynear,numhelper
persistent=0

[State -2, Reset]
Type=Varset
Trigger1=Roundstate=2
var(37)=-1
persistent=0

; If enemy has less helpers than the stored amount, update the stored amount
[State -2, minus]
Type=Varset
Trigger1=Roundstate=2
Trigger1=enemynear,numhelper<var(37)
var(37)=enemynear,numhelper

; Actual number of helpers equals to number of helpers minus the stored number (lowest amount of helpers during the round)
[State -2, Number]
Type=Varset
triggerall = P2Movetype = A
Trigger1=var(37)>=0
var(38)=enemynear,numhelper-var(37)+enemynear,numproj


;------------------------------------------------------------------
;******************************************
;*****   AI Sayan Fury   *****
;******************************************
[State -2, VarSet]
type = VarSet
triggerall = RoundState = 2
trigger1 = power >=3000
trigger1 = var(58)
v = 22
value = 1
ignorehitpause = 1

[State -2, VarSet]; Reset
type = VarSet
triggerall = RoundState = 2
trigger1 = power < 3000
trigger2 = var(58) = 0
v = 22
value = 0
ignorehitpause = 1

;------------------------------------------------------------------
;******************************************
;*****   Life for Score Result  *****
;******************************************
; Life By Round
[State -2, VarSet]
type = VarSet
trigger1 = RoundState = 2
v = 50
value = Life
ignorehitpause = 1

;------------------------------------------------------------------
;******************************************
;*****   Time for Score Result  *****
;******************************************
; Time By Round
[State -2, VarSet]
type = VarSet
trigger1 = RoundState = 2
v = 53
value = var(53) + 1
ignorehitpause = 1

;------------------------------------------------------------------
;******************************************
;************   Sounds   **************
;******************************************

[State -2, Voice Pos]
type = sndpan
trigger1 = 1
channel = 0
pan = 0
ignorehitpause = 1

;-----------------------------------------------
[State -2, StopSnd] ; Power Charge sound stop
type = StopSnd
trigger1 = StateNo != [900,902]
channel = 1
ignorehitpause = 1

;-----------------------------------------------
[State -2, StopSnd] ; Intro sound stop
type = StopSnd
trigger1 = StateNo != [191,194]
channel = 4
ignorehitpause = 1

;-----------------------------------------------
[State -2, StopSnd] ; Intro sound stop
type = StopSnd
trigger1 = StateNo != [191,194]
channel = 5
ignorehitpause = 1

;------------------------------------------------------------------
;******************************************
;*****   Throw limitations By POTS  *****
;******************************************

[State -2, Throws Allowed]; Resets condition every tick to check again
type=varset
trigger1= 1
var(4)= 0

[State -2, Throws Disallowed]
type=varset
trigger1= (enemynear,stateno=[150,155])
trigger2= (enemynear,movetype=H && enemynear,statetype!=A)
trigger3= (enemynear,stateno=[5020,5040]) && !(enemynear,hitfall)
trigger4= ((enemynear,stateno=0) || (enemynear,stateno=52)) && (enemynear,prevstateno=[5000,5040]) && ((enemynear,time<=0) || !(enemynear,ctrl))
trigger5= (enemynear,stateno=0) && (enemynear,prevstateno=52) && ((enemynear,time<=0) || !(enemynear,ctrl))
trigger6= (enemynear,stateno=40) && (enemynear,time>=1 || enemynear,prevstateno=0 || enemynear,prevstateno=52)
var(4)= 1


;------------------------------------------------------------------
;******************************************
;********   Z-Assist Choice   ********
;******************************************

[State -2, Helper]
type = Helper
Triggerall = !AiLevel
triggerall = NumHelper(6000)=0
triggerall = RoundNo = 1
trigger1 = RoundState = 0
name = "Choice"
ID = 6000
stateno = 6000
pos = 0 - 10*(teamside=2),var(19)
postype = p1
facing = facing
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .5
size.yscale = .5


;------------------------------------------------------------------
;******************************************
;******    Hitvoice Random Choice    ******
;******************************************

[State -2, 1]
type = VarSet
trigger1 = var(10)=0 ;Use any free variable
trigger1 = stateno != [120,155] ;No damage voice on block
trigger1 = movetype=H
trigger1 = GetHitVar(damage)!=0 ;Only on the moment you get hit
v = 10
value = 20 ;Timeout before damage voice can be played again
ignorehitpause=1

[State -2, 1]
type = PlaySnd
trigger1 = var(10)=15 ;It will be played 5 ticks after you get hit (20-15)
trigger1 = alive ;No damage voice after KO
value = S(5000 + ifelse(GetHitVar(animtype)=0,0,ifelse(GetHitVar(animtype)=1,10,20))),random%3
channel = 2
lowpriority = 1
ignorehitpause=1

[State -2, 3]
type = VarAdd
trigger1 = var(10)>0
v = 10
value = -1
ignorehitpause=1

;------------------------------------------------------------------
;******************************************
;******     Remove Explods    ******
;******************************************

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Stateno != 901
id = 9030

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = Stateno != 901
id = 9031


;------------------------------------------------------------------
;*************************************
;*******   Damage Dampener   *********
;*************************************

[State -2, Based on Power]
type=varset
trigger1= 1
fvar(18)= 1 + 0.065*(power/const(data.power))
ignorehitpause=1

[State -2, Based on hits]
type=varset
trigger1= numenemy
fvar(19)= 0.85**(enemynear,GetHitVar(hitcount))
ignorehitpause=1

[State -2, Resume]
type=varset
trigger1= 1
fvar(20)= fvar(19)*fvar(18)
ignorehitpause=1

[State -2, Limit1]
type=varset
trigger1 = fvar(20) <0.25
fvar(20) =0.25
ignorehitpause=1

[State -2, Limit2]
type=varset
trigger1 = fvar(20) > 1
fvar(20) = 1
ignorehitpause=1

[State -2, Reset var when the opponent recovers]
type=varset
trigger1= numenemy
trigger1= (enemynear,movetype!=H)
trigger2= !numenemy
fvar(20)=1

[State -2, Dampener itself]
type=attackmulset
trigger1= 1
value=fvar(20)
ignorehitpause=1


;------------------------------------------------------------------
;*************************************
;*******  Z-Bar  *********
;*************************************
;--------------------------------------------------------------------
; solo mode (or simul with no other DBZ misterr07 chars !)

[State -2, FuryBar_BG]; left
type = Explod
triggerall = !NumExplod(20000)
triggerall = RoundState = 2
triggerall = teamside = 1
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName != "misterr07"
ignorehitpause = 1
anim = 20000
ID = 20000
postype = left
pos = 4,210
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
scale = .5,.5
sprpriority = 2

[State -2, FuryBar_BG];right
type = Explod
triggerall = !NumExplod(20001)
triggerall = RoundState = 2
triggerall = teamside = 2
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName != "misterr07"
ignorehitpause = 1
anim = 20001
ID = 20001
postype = left
pos = 216,210
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
scale = .5,.5
sprpriority = 2

;--------------------------------------------------------------------
; simul mode withother DBZ misterr07 chars

[State -2, FuryBar_BG]; left
type = Explod
triggerall = !NumExplod(20000)
triggerall = RoundState = 2
triggerall = teamside = 1
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName = "misterr07"
ignorehitpause = 1
anim = 20000
ID = 20000
postype = left
pos = 4, 210 - 30*(ID > Partner, ID)
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
scale = .5,.5
sprpriority = 2

[State -2, FuryBar_BG];right
type = Explod
triggerall = !NumExplod(20001)
triggerall = RoundState = 2
triggerall = teamside = 2
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName = "misterr07"
ignorehitpause = 1
anim = 20001
ID = 20001
postype = left
pos = 216, 210 - 30*(ID > Partner, ID)
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
scale = .5,.5
sprpriority = 2

;---------------------------------------------
; -----------   Fury :  ----------------------
;--------------------------------------------------------------------
; solo mode (or simul with no other DBZ misterr07 chars !)

[State -2, Fury]; left
type = Explod
triggerall = !NumExplod(20010)
triggerall = RoundState = 2
triggerall = teamside = 1
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName != "misterr07"
ignorehitpause = 1
anim = 20010
ID = 20010
postype = left
pos = 34,223
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removetime = -1
scale = .5,.5
sprpriority = 3

[State -2, Fury];right
type = Explod
triggerall = !NumExplod(20010)
triggerall = RoundState = 2
triggerall = teamside = 2
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName != "misterr07"
ignorehitpause = 1
anim = 20011
ID = 20010
postype = left
pos = 288,223
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removetime = -1
scale = .5,.5
sprpriority = 3

;--------------------------------------------------------------------
; simul mode with other DBZ misterr07 chars

[State -2, Fury]; left
type = Explod
triggerall = !NumExplod(20010)
triggerall = RoundState = 2
triggerall = teamside = 1
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName = "misterr07"
ignorehitpause = 1
anim = 20010
ID = 20010
postype = left
pos = 34,223 - 30*(ID > Partner, ID)
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removetime = -1
scale = .5,.5
sprpriority = 3

[State -2, Fury];right
type = Explod
triggerall = !NumExplod(20010)
triggerall = RoundState = 2
triggerall = teamside = 2
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName = "misterr07"
ignorehitpause = 1
anim = 20011
ID = 20010
postype = left
pos = 288,223 - 30*(ID > Partner, ID)
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removetime = -1
scale = .5,.5
sprpriority = 3


[State -2, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 20010
scale = (var(59))/560.0,.5
sprpriority = 3


;---------------------------------------------
; -----------   Time :  ----------------------
;--------------------------------------------------------------------
; solo mode (or simul with no other DBZ misterr07 chars !)

[State -2, Time]; left
type = Explod
triggerall = !NumExplod(20020)
triggerall = RoundState = 2
triggerall = teamside = 1
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName != "misterr07"
ignorehitpause = 1
anim = 20020
ID = 20020
postype = left
pos = 34,231
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removetime = -1
scale = .5,.5
sprpriority = 3

[State -2, Time];right
type = Explod
triggerall = !NumExplod(20020)
triggerall = RoundState = 2
triggerall = teamside = 2
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName != "misterr07"
ignorehitpause = 1
anim = 20021
ID = 20020
postype = left
pos = 288,231
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removetime = -1
scale = .5,.5
sprpriority = 3

;--------------------------------------------------------------------
; simul mode with other DBZ misterr07 chars

[State -2, Time]; left
type = Explod
triggerall = !NumExplod(20020)
triggerall = RoundState = 2
triggerall = teamside = 1
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName = "misterr07"
ignorehitpause = 1
anim = 20020
ID = 20020
postype = left
pos = 34,231 - 30*(ID > Partner, ID)
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removetime = -1
scale = .5,.5
sprpriority = 3

[State -2, Time];right
type = Explod
triggerall = !NumExplod(20020)
triggerall = RoundState = 2
triggerall = teamside = 2
trigger1 = !NumPartner
trigger2 = NumPartner
trigger2 = Partner, AuthorName = "misterr07"
ignorehitpause = 1
anim = 20021
ID = 20020
postype = left
pos = 288,231 - 30*(ID > Partner, ID)
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removetime = -1
scale = .5,.5
sprpriority = 3

[State -2, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 20020
scale = (var(8))/960.0,.5
sprpriority = 3


;---------------------------------------------
; -----------   Z :  ----------------------
;---------------------------------------------

[State -2, Helper];
type = Helper
triggerall = RoundState = 2
triggerall = numhelper(18000)!=1
trigger1 = var(59) = 280
name = "Z"
ID = 18000
stateno = 18000
pos = 0,0
postype = Left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;---------------------------------------------------------
; -----------  Z-Assist Portrait :  ----------------------
;---------------------------------------------------------

[State -2, Helper];
type = Helper
triggerall = RoundState = 2
triggerall = numhelper(6050)!=1
trigger1 = var(57) != 0
name = "Z-Assit-Portrait"
ID = 6050
stateno = 6050
pos = 0,0
postype = Left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;------------------------------------------------------------------
;******************************************
;******     Var Needed    ******
;******************************************

[State -3, VarSet]
type = VarSet
trigger1 = 1
fv = 9
value = 2/(RoundNo)
ignorehitpause = 1
persistent = 0


; Head Butt Limitation Time Decrease
[State -3, VarAdd]
type = VarAdd
trigger1 = var(27)> 0
v = 27
value = -1
ignorehitpause = 1

; Head Butt Limitation Time Limit
[State -3, VarSet]
type = VarSet
trigger1 = var(27)<= 0
trigger2 = MoveType = H
v = 27
value = 0
ignorehitpause = 1


; Elbow Rush Limitation Time Decrease
[State -3, VarAdd]
type = VarAdd
trigger1 = var(28)> 0
v = 28
value = -1
ignorehitpause = 1

; Elbow Rush Limitation Time Limit
[State -3, VarSet]
type = VarSet
trigger1 = var(28)<= 0
trigger2 = MoveType = H
v = 28
value = 0
ignorehitpause = 1


; Reset Combo Score
[State -3, VarSet]
type = VarSet
trigger1 = MoveType = H
trigger2 = StateNo = 0
v = 26
value = 0
ignorehitpause = 1


; Power Charge
[State -3, VarSet]
type = VarSet
trigger1 = (GameTime%5) = 0
v = 9
value = ceil(100*(1 + Power/3000))
ignorehitpause = 1


; Z-Assist Time Limit
[State -3, VarSet]
type = VarSet
trigger1 = RoundState < 2
v = 8
value = 540
ignorehitpause = 1

; Z-Assist Time Limit
[State -3, VarAdd]
type = VarAdd
trigger1 = var(8) < 540
v = 8
value = 1
ignorehitpause = 1


[State -3, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = ID
ignorehitpause = 1

[State -3, VarSet]
type = VarSet
triggerall = NumPartner
trigger1 = 1
v = 7
value = Partner, ID
ignorehitpause = 1

[State -3, VarSet]
type = VarSet
trigger1 = NumHelper(1110) = 0
v = 13
value = 0
ignorehitpause = 1

[State -3, VarSet]
type = VarSet
trigger1 = NumHelper(2500) = 0
v = 17
value = 0
ignorehitpause = 1

[State -3, VarSet]
type = VarSet
trigger1 = NumHelper(3300) = 0
v = 18
value = 0
ignorehitpause = 1

[State -3, VarSet] ; Z-Assist Choice Position
type = VarSet
trigger1 = Time%2=0
var(19) = Ceil(239.0 - (Screenpos Y))
ignorehitpause = 1

[State -3, VarSet]
type = VarSet
trigger1 = NumHelper(6000) = 0
v = 20
value = 0
ignorehitpause = 1

[State -3, VarRandom]
type = VarRandom
triggerall = RoundNo = 1
trigger1 = AiLevel > 0
trigger2 = var(57) = 0
v = 57
range = 1,3
persistent = 0


;------------------------------------------------------------------
;******************************************
;**********     Fury Level     **********
;******************************************
;-----------------------
; Increase when the char is hurt
[State -3, VarAdd]
type = VarAdd
triggerall = StateNo != 150
triggerall = StateNo != 152
triggerall = movetype = H
triggerall = gethitvar(damage)
trigger1 = var(59) <280
trigger1 = time = 0
v = 59
value = Abs(Floor(((gethitvar(damage))/9)*(3-0.0022*life)))
persistent = 0

[State -3, VarAdd]
type = VarAdd
triggerall = StateNo != 150
triggerall = StateNo != 152
triggerall = movetype = H
triggerall = !gethitvar(damage)
trigger1 = var(59) <280
trigger1 = time = 0
v = 59
value = 4
persistent = 0

;-----------------
; Stay to 280
[State -3, VarSet]
type = VarSet
trigger1 = var(59)>280
v = 59
value = 280
ignorehitpause = 1

;-----------------------
; Full
[State -3, VarSet]
type = VarSet
triggerall = var(58) != 1
trigger1 = var(59)>=280
v = 58
value = 1
ignorehitpause = 1

;-----------------------
; Reset
[State -3, VarSet]
type = VarSet
trigger1 = var(59)=0
v = 58
value = 0
ignorehitpause = 1

;-------------------------------
; ProjContact for Helper System
;--------------------------------
[State -3, ProjContact Reset]
type = VarSet
triggerall = var(34)
trigger1 = (StateNo != 1000)*(StateNo != 1100)
var(34) = 0


;------------------------------------------------------------------
;*************************************
;*******   Super & Hyper  *********
;*************************************

; Assert Special on Super and Hyper
[State -3, AssertSpecial]
type = AssertSpecial
trigger1 = StateNo = [2000,2095]
trigger2 = StateNo = 2200
trigger3 = StateNo = 2400
trigger4 = StateNo = [2600,2660]
trigger5 = StateNo = [3000,3140]
flag = nobardisplay
flag2 = noFG
flag3 = nomusic
ignorehitpause = 1


;**************************
;***  Weekly Special ****
;**************************

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [2000,2095]
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9100
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [2000,2095]
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9110
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [2000,2095]
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9130
ignorehitpause = 1


;****************************
;**** Saturday Crash  ******
;****************************

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != 2200
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9101
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != 2200
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9111
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != 2200
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9131
ignorehitpause = 1


;***************************
;****  Double Sunday  *****
;***************************

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != 2400
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9102
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != 2400
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9112
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != 2400
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9132
ignorehitpause = 1


;**************************
;***  Dynamite Monday  ***
;**************************

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [2600,2660]
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9103
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [2600,2660]
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9113
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [2600,2660]
trigger2 = NumHelper(11000)
trigger3 = MoveType = H
id = 9133
ignorehitpause = 1


;******************************
;******  Saiyan Fury  ******
;******************************

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [3000,3140]
trigger2 = NumHelper(11100)
trigger3 = MoveType = H
id = 9500
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [3000,3140]
trigger2 = NumHelper(11100)
trigger3 = MoveType = H
id = 9510
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [3000,3140]
trigger2 = NumHelper(11100)
trigger3 = MoveType = H
id = 9530
ignorehitpause = 1


;*****************************************************
;************    Super Finish BG    ***************
;*****************************************************

[State -3: Helper]
type = Helper
triggerall = RoundState = 3
triggerall = (WinKO) && (NumHelper(11000) = 0)
trigger1 = StateNo = [2000,2095]
trigger2 = StateNo = 2200
trigger3 = StateNo = 2400
trigger4 = StateNo = [2600,2660]
name = "WinKO1"
id = 11000
pos = 0,0
postype = p1
facing = 0
stateno = 11000
ownpal = 1
keyctrl = 0
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1


;*****************************************************
;************    Hyper Finish BG    ***************
;*****************************************************

[State -3: Helper]
type = Helper
triggerall = RoundState = 3
triggerall = (WinKO) && (NumHelper(11100) = 0)
trigger1 = StateNo = [3000,3140]
name = "WinKO2"
id = 11100
pos = 0,0
postype = p1
facing = 0
stateno = 11100
ownpal = 1
keyctrl = 0
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1



;Prevent Undergound Juggles By Pots
[State -3, Prevent Undergound Juggles]
type= targetbind
trigger1= movehit=1
trigger1= numtarget=1 && numenemy
trigger1= (target,time<=1) && (target,ID=enemynear,ID); this is just to prevent Simul issues as usual
trigger1= !(target,hitshakeover) && (target, hitfall) && (target, pos y>0)
pos= ceil(p2dist x), ceil(-pos y); keeps P2 at the same horizontal distance, but resets his Y position
ignorehitpause= 1

;----------------------------
; Corner Push By POTS
;----------------------------
[State -3, Corner Push]; Reset
type= varset
trigger1= fvar(5)
trigger1= numtarget
trigger1= (target, hitover) || (target, gethitvar(hitshaketime) > 0 && target, time <= 0)
fvar(5)= 0

[State -3, Corner Push]; Get initial velocity
type= varset
trigger1= movecontact=1 && numtarget
fvar(5)= (target, gethitvar(xvel))
ignorehitpause= 1

[State -3, Corner Push]; Apply corner push
type= posadd
triggerall= fvar(5)
triggerall= (statetype = S || statetype = C) && numtarget
triggerall= !hitpausetime && (target, gethitvar(hitshaketime) <= 0)
triggerall= (target, statetype = S || target, statetype = C) && !(target, gethitvar(yvel)) && !(target, hitfall); See note below
trigger1= target, frontedgebodydist <= abs(target, vel x)
trigger1= (target, gethitvar(xvel) * target, facing) > 0
trigger2= target, backedgebodydist <= abs(target, vel x)
trigger2= (target, gethitvar(xvel) * target, facing) < 0
x= ifelse(target, frontedgebodydist <= 0, -1, 1) * (target, facing) * fvar(5)

[State -3, Corner Push]; Apply friction to the velocity
type= varset
trigger1= numtarget
trigger1= target, gethitvar(hitshaketime) <= 0
fvar(5)= fvar(5) *(0.85)


;==============================================================================
; {C:\Users\User\Desktop\proyectodbz\chars\Raditz2\states/DBZcommon.cns}
;==============================================================================

; Common state file for M.U.G.E.N 1.0
;
; System variables usage
; ----------------------
; Var name    Type   Purpose
; --------    ----   -------
; sysvar(0)   Temp   Set by state 5081 (HITL_SLIDE) to 1 to prevent
;                    showing ground hit frame in state 5110 (HIT_LIEDOWN).
;                    Used by guarding states.
; sysvar(1)   Temp   Used by state 40 (Jump Start) amd 45 (Air Jump Start)
;                    to keep track of which way to jump.
;                    Used by state 5100 and 5110 to remember downward
;                    velocity of player just before hitting the ground.
;                    Used in state 5080 for storing the anim # to display.

; The following states have special handling within MUGEN, and should be
; overridden with caution:
; Jump Start (40): airjumping bookkeeping at time = 0
; All guard states (120-155): guard handling throughout state
; Hit_trip, shaking (5070): defense increases at time = 0
; Downed get-hit (hit ground from fall) (5100):
;   defense increases at time = 0, player becomes invincible if within 10
;   ticks of getting up
; Hit_liedown (5110): player changes to get-up state (5120) when ready
; Hit_getup (5120): player's defence is restored to normal at time = 0
; Hitfall_recover (5200): player's defence is restored at time = 0
; Hitfall_airrecover (5210): player's defence is restored at time = 0

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
triggerall = Life > 250
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

[State 10, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

[State 11, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

;----------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
ctrl = 0
sprpriority = 1

[State 40, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 1
value = 40

[State 40]
Type=Changestate
Triggerall = Time = 0
Triggerall= var(36)>0
triggerall = (var(38)=0)
Trigger1 = random < var(35)*(2-0.05*(AiLevel)); Add your limiting condition to AI jumping here
value=0; Change back to standing immediately when the AI would start a jump and it is not necessary.
ctrl=1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
Triggerall = Time = 0
trigger1 = command = "holdfwd"
trigger1 = var(36)=0
trigger2 = var(36)>0
trigger2 = (P2Bodydist x = [70,130]) && P2StateType = A
trigger2 = random < (var(35)*2)
trigger3 = var(36)>0
trigger3 = (P2Bodydist x = [0,35]) && P2MoveType = A
trigger3 = (EnemyNear,StateNo =[200,445])
trigger3 = random < (var(35))
trigger4 = var(36)>0
trigger4 = (P2Bodydist x = [90,200]) && P2MoveType = A
trigger4 = (EnemyNear,StateNo =[1000,1999])
trigger4 = (EnemyNear,vel x > 0) || (var(38)>0)
trigger4 = random < (var(35)*2)
sysvar(1) = 1
persistent = 0

[State 40, 3]
type = VarSet
Triggerall = Time = 0
trigger1 = command = "holdback"
trigger1 = var(36)=0
trigger2 = var(36)>0
trigger2 = (P2Bodydist x = [70,150]) && P2MoveType = A
trigger2 = (EnemyNear,StateNo =[1000,1999])
trigger2 = (EnemyNear,vel x > 1.5)
trigger2 = random < (var(35)*2)
trigger3 = var(36)>0
trigger3 = (P2Bodydist x = [0,40]) && P2MoveType = A
trigger3 = P2StateType = A
trigger3 = random < (var(35))
sysvar(1) = -1
persistent = 0


[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S40,0

[State 40, Explod]
type = Explod
trigger1 = Time = 1
anim = 9003
ID = 9003
pos = 0,-2
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .425,.35
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; AirJump Start
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = N

[State 50, 1]
type = VarSet
trigger1 = Time = 1
sysvar(1) = 0

[State 50, VelAdd]
type = VelAdd
trigger1 = time > 0
y = const(movement.yaccel)

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > Const720p(-8)
trigger1 = SelfAnimExist(anim + 3)
trigger1 = anim >= 41 && anim <= 43
persistent = 0
value = Anim + 3

[State 50, 4]
type = ChangeState
trigger1 = Pos Y > - Vel Y
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0

[State 52, Explod]
type = Explod
trigger1 = Time = 0
anim = 9004
ID = 9004
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .675,.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 52, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 6
freq = 12
ampl = -1

[State 52, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Run forward
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S100,0

[State 100, Explod]
type = Explod
trigger1 = Time = 0
anim = 9005
ID = 9005
pos = 0,-12
postype = p1
facing = 1
bindtime = 6
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .5,.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 100, Change]
type = ChangeState
trigger1 = !AILevel && command != "holdfwd"
trigger2 = AILevel && P2BodyDist x <= 100
value = 101

;-----------------------------
;Stop Run forward
[StateDef 101]
type = S
physics = S
moveType = I
anim = 101
ctrl = 0
sprPriority = 1

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,1

[State 101, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hop backwards
[Statedef 105]
type    = S
physics = S
ctrl = 0
anim = 105
sprpriority = 1

[State 105, 1]
type = VelSet
trigger1 = AnimElem = 2
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S40,0

[State 105, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2,>=0
statetype = A       ;S,A,C,L
movetype = I        ;I,A,H
physics = A         ;A,C,S,N

[State 105, Explod]
type = Explod
trigger1 = Time = 0
anim = 9003
ID = 9003
pos = 0,-2
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .425,.35
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 105, Change]
type = ChangeState
triggerall = AnimElem = 2,>0
trigger1 = Pos Y > - Vel Y
value = 106

;---------------------------------------------------------------------------
; Stop Hop backwards
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106

[State 106, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0

[State 106, Explod]
type = Explod
trigger1 = Time = 0
anim = 9004
ID = 9004
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .675,.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 106, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U   ;Leave state type unchanged
physics = U;Leave physics unchanged

[State 120]
Type=CtrlSet
Trigger1=var(36)>0
value=0

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(36)=0
trigger1 = command = "holddown"
trigger2 = var(36)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(36)=0
trigger1 = command!= "holddown"
trigger2 = Var(36) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command!= "holdback"
trigger1 = var(36)=0
trigger2 =!inguarddist
value = 140

;---------------------------------------------------------------------------
; Stand guard (guarding)
[Statedef 130]
type    = S
physics = S

[State 120]
Type=CtrlSet
Trigger1=var(36)>0
value=0

[State 130, 1]
type = ChangeAnim
trigger1 = Anim!= 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown"
trigger1 = var(36)=0
trigger2 = var(36)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
value = 131

[State 130, Stop Guarding]
type = ChangeState
trigger1 = var(36)=0
trigger1 = command!= "holdback"
trigger2 =!inguarddist
value = 140

;---------------------------------------------------------------------------
; Crouch guard (guarding)
[Statedef 131]
type    = C
physics = C

[State 120]
Type=CtrlSet
Trigger1=var(36)>0
value=0

[State 131, 1]
type = ChangeAnim
trigger1 = Anim!= 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command!= "holddown"
trigger1 = var(36)=0
trigger2 = Var(36) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
value = 130

[State 131, Stop Guarding]
type = ChangeState
trigger1 = var(36)=0
trigger1 = command!= "holdback"
trigger2 =!inguarddist
value = 140

;---------------------------------------------------------------------------
; Air guard (guarding)
[Statedef 132]
type    = A
physics = N

[State 120]
Type=CtrlSet
Trigger1=var(36)>0
value=0

[State 132, 1]
type = ChangeAnim
trigger1 = Anim!= 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback" || (var(36)>0)
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = var(36)=0
trigger1 = command!= "holdback"
trigger2 =!inguarddist
value = 140

;---------------------------------------------------------------------------
; Guard (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, High to Low]
type = statetypeset
trigger1 = (var(36) = 0) && statetype = S && command = "holddown"
trigger2 = (var(36) > 0) && random < (var(35)*1.15)
trigger2 = statetype = S && (enemynear, movetype = A) && (enemynear, statetype = C)
statetype = C
physics = C

[State 140, Low to High]
type = statetypeset
trigger1 = (var(36) = 0) && statetype = C && command != "holddown"
trigger2 = (var(36) > 0) &&  random < (var(35))
trigger2 = statetype = C && (enemynear, movetype = A) && (enemynear, statetype != C)
statetype = S
physics = S

[State 140, ChangeState]
type = ChangeState
trigger1 = (!AnimTime)
value = (StateType = C)*11 + (StateType = A)*51

;---------------------------------------------------------------------------
; Stand guard hit (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(StateType=C)

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(36)=0
trigger1 = command = "holddown"
trigger2 = var(36)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(36)=0
trigger1 = command!= "holddown"
trigger2 = Var(36) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; Stand guard hit (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
trigger1 = var(36)=0
value = 1

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(36)=0
trigger1 = command = "holddown"
trigger2 = var(36)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(36)=0
trigger1 = command!= "holddown"
trigger2 = Var(36) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl =!var(36)

;---------------------------------------------------------------------------
; Crouch guard hit (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(StateType=C)

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(36)=0
trigger1 = command = "holddown"
trigger2 = var(36)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(36)=0
trigger1 = command!= "holddown"
trigger2 = Var(36) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; Crouch guard hit (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
trigger1 = var(36)=0
value = 1

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(36)=0
trigger1 = command = "holddown"
trigger2 = var(36)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(36)=0
trigger1 = command!= "holddown"
trigger2 = Var(36) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl =!var(36)

;---------------------------------------------------------------------------
; Air guard hit (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; Air guard hit (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
trigger1 = var(36)=0
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback" || var(36)>0
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;---------------------------------------------------------------------------
; Draw game (time over)
[Statedef 175]
type = S
ctrl = 0
velset = 0,0

[State 175, 1] ; If no anim, use go to lose state.
type = ChangeState
trigger1 = Time = 0
trigger1 = !SelfAnimExist(175)
value = 170

[State 175, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 175

[State 175, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Stand get-hit (shaking)
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001 ;Stand get-hit (knocked back)

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

;---------------------------------------------------------------------------
; Stand get-hit (knocked back)
[Statedef 5001]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouch get-hit (shaking)
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5011 ;Crouch get-hit (knocked back)

[State 5010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; Crouch get-hit (knocked back)
[Statedef 5011]
type    = C
movetype= H
physics = C

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5011, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5011, 6]
type = ChangeState
trigger1 = HitOver
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Air get-hit (shaking)
[Statedef 5020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; Air get-hit (knocked away)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = ChangeAnim
trigger1 = Anim != [5000, 5199]
trigger1 = SelfAnimExist(5030)
value = 5030

[State 5030, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 3]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5040 ;HITA_RECOV

[State 5030, 5]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5050 ;HITA_FALL

[State 5030, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;Air get-hit (transition)

;---------------------------------------------------------------------------
; Air get-hit (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= Const(movement.air.gethit.groundlevel)
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;Air get-hit (recovering in air, not falling)

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= Const(movement.air.gethit.groundlevel)
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5050 ;Air get-hit (falling)

;---------------------------------------------------------------------------
; Air get-hit (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050
ctrl = 0

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land

;---------------------------------------------------------------------------
; Air get-hit (falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, Const720p(4), Const720p(-8))
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= Const(movement.air.gethit.groundrecover.ground.threshold)
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;Air get-hit (fall recovery on ground)

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > Const(movement.air.gethit.airrecover.threshold)
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;Air get-hit (fall recovery in air)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, Const(movement.air.gethit.groundlevel))
value = 5100 ;Downed get-hit (hit ground from fall)

;---------------------------------------------------------------------------
; Tripped get-hit (shaking)
[Statedef 5070]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5070, 1]
type = ChangeAnim
trigger1 = 1
value = 5070

[State 5070, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5071

[State 5070, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; Tripped get-hit (knocked away)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.air.gethit.trip.groundlevel)
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; Downed get-hit (shaking)
[Statedef 5080]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = time = 0
sysvar(2) = ifelse (GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = time = 0
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = time = 0
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5080, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081 ;Downed get-hit (knocked back)

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 5030 ;Air get-hit (knocked away)

;---------------------------------------------------------------------------
; Downed get-hit (knocked back)
[Statedef 5081]
type    = L
movetype= H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = Time = 0
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 5110 ;Downed get-hit (lying down)

;---------------------------------------------------------------------------
; Downed get-hit (hit ground from fall)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 2004.04.14 behavior]
type = null;VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x < -1
x = -1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;Downed get-hit (lying down)

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = 9010
pos = 0,0
sprpriority = -3
scale = .5,.5

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = S5100,0

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101 ;Downed get-hit (bounce off ground)

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; Downed get-hit (bounce off ground)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = Const(movement.down.bounce.offset.y)

[State 5101, 5]
type = PosAdd
trigger1 = Time = 0
x = Const(movement.down.bounce.offset.x)

[State 5101, 6] ;Acceleration
type = VelAdd
trigger1 = 1
y = Const(movement.down.bounce.yaccel)

[State 5101, 7] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.down.bounce.groundlevel)
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; Downed get-hit (lying down)
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = S5110,0

[State 5110, 7]
type = Explod
trigger1 = Time = 0
trigger1 = !SysVar(0)
anim = 9010
pos = 0, 0
sprpriority = -3
scale = .5,.5

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5110, 15]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 16]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; Downed get-hit (getting up)
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Downed get-hit (lying defeated)
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3
ctrl = 0

[State -3, VarSet]; Attack
type = VarSet
trigger1 = Time = 0
v = 56
value = var(56) + var(52)
persistent = 0


[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Air get-hit (fall recovery on ground; still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 1] ;Change anim if done with transition
type = ChangeAnim
trigger1 = Anim = 5035
trigger1 = AnimTime = 0
value = 5050

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.air.gethit.groundrecover.groundlevel)
value = 5201

;---------------------------------------------------------------------------
; Air get-hit (fall recovery on ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-20)

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = Const(velocity.air.gethit.groundrecover.x)
y = Const(velocity.air.gethit.groundrecover.y)

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

;---------------------------------------------------------------------------
; Air get-hit (fall recovery in air)
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128

[State 5210, 1]
type = PosFreeze
trigger1 = Time < 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-80)

[State 5210, 1.0 behavior 1]
type = VelMul
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.mul.x)
y = Const(velocity.air.gethit.airrecover.mul.y)

[State 5210, 1.0 behavior 2]
type = VelAdd
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.add.x)
y = Const(velocity.air.gethit.airrecover.add.y)

[State 5210, 2002.04.14 behavior 1]
type = null;VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 2002.04.14 behavior 2]
type = null;VelAdd
trigger1 = Time = 4
x = 0 
y = -4.5

[State 5210, 2002.04.14 behavior 3]
type = null;VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 2002.04.14 behavior 4]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 2002.04.14 behavior 5]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = Const(velocity.air.gethit.airrecover.up)

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = Const(velocity.air.gethit.airrecover.down)

[State 5210, 2] ;Go fwd
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = Const(velocity.air.gethit.airrecover.fwd)

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = Const(velocity.air.gethit.airrecover.back)

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd
trigger1 = Time >= 4
y = Const(movement.air.gethit.airrecover.yaccel)

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land
ctrl = 1

;---------------------------------------------------------------------------
; Continue screen animation
[Statedef 5500]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 5500, 1] ;Use continue animation if available
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5500)
value = 5500

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 5900, 4] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 5] ;All other rounds
type = ChangeState
trigger1 = 1
value = 0


